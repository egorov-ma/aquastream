# Crew — бизнес-логика

Статус: as-is

## Ответственности
- Ведение групп размещения: CREW, TENT, TABLE, BUS
- Управление вместимостью и актуальными назначениями мест
- Учёт предпочтений/ограничений участников при распределении

## Алгоритм распределения
- Жёсткие ограничения: вместимость, несовместимые участники
- Мягкие предпочтения: «хочу вместе с», «избегать с» (см. `team_preferences`)
- Балансировка заполнения групп, минимизация конфликтов
- Пере‑распределение при отменах/изменении брони

## Интеграции
- Event: валидация `event_id`, синхронизация статусов брони
- Notification: оповещения об изменении назначений

## Чек‑лист
- [ ] Проверка capacity при каждом назначении/переназначении
- [ ] Атомарность пакетных операций распределения
- [ ] Аудит изменений назначений (кто/когда/что)

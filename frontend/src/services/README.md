# Архитектура проекта AquaStream Frontend

## Унифицированная модульная структура

### Принципы разделения ответственности

#### Модули (`/src/modules/`)
Модули представляют собой самодостаточные функциональные блоки приложения, соответствующие бизнес-доменам.

Каждый модуль должен содержать:
- `api/` - API клиенты для взаимодействия с сервером
- `components/` - UI компоненты, специфичные для данного модуля
- `hooks/` - React хуки, используемые в модуле
- `store/` - Redux слайсы и логика управления состоянием
- `types/` - Типы и интерфейсы, используемые в модуле
- `utils/` - Вспомогательные функции и утилиты
- `index.ts` - Точка входа для экспорта публичного API модуля

Пример структуры модуля:
```
modules/
  auth/
    api/
      authApi.ts
    components/
      LoginForm.tsx
      RegisterForm.tsx
    hooks/
      useAuth.ts
    store/
      authSlice.ts
    types/
      index.ts
    utils/
      authHelpers.ts
    index.ts
```

#### Сервисы (`/src/services/`)
Сервисы представляют собой низкоуровневые утилиты, используемые во всём приложении.

Сервисы ответственны за:
- Настройку HTTP клиентов (axios, fetch)
- Обработку ошибок на уровне приложения
- Кросс-модульные операции
- Интеграцию с внешними API и сервисами (аналитика, логирование и т.д.)

**Важно**: Не добавлять в `services` логику, относящуюся к конкретному бизнес-домену. Бизнес-логика должна быть в соответствующих модулях.

### План миграции и реорганизации

1. Переместить доменную логику из `/services/AuthService.ts` в `/modules/auth/api/authApi.ts`
2. Переместить доменную логику из `/services/EventService.ts` в `/modules/events/api/eventsApi.ts`
3. Унифицировать интерфейсы API в модулях
4. Обновить импорты во всех файлах, использующих перенесённые сервисы

### Пример использования

```typescript
// Правильно: Использование модульной структуры
import { authApi } from '@/modules/auth/api/authApi';
import { useAuth } from '@/modules/auth/hooks/useAuth';

// Правильно: Использование общих сервисов
import { apiService } from '@/services/api';
import { logService } from '@/services/log';

// Неправильно: Прямой импорт внутренних компонентов модуля
// import { AuthForm } from '@/modules/auth/components/AuthForm';
// Правильно: Импорт через публичный API модуля
import { AuthForm } from '@/modules/auth';
``` 
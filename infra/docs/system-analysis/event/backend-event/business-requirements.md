# –°–µ—Ä–≤–∏—Å `Backend-Event` ‚Äî —è–¥—Ä–æ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π Aquastream

`backend-event` ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã Aquastream, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –ø–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π –æ—Ç –º–æ–º–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º –¥–æ —Å–±–æ—Ä–∞ –æ—Ç–∑—ã–≤–æ–≤ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è. –°–µ—Ä–≤–∏—Å –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã —á–µ—Ä–µ–∑ –≤—ã—Å–æ–∫–æ–Ω–∞–¥–µ–∂–Ω—ã–π –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ Kafka –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ gRPC-–≤—ã–∑–æ–≤—ã, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

## üìë –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [üéØ –¶–µ–ª–∏ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ](#-—Ü–µ–ª–∏-–∏-–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ)
2. [üóÇÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è](#Ô∏è-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è)
   - [üîë –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å](#üîë-–∫–ª—é—á–µ–≤—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-–∏-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
   - [üë• –†–æ–ª–∏ –∏ –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–∞](#üë•-—Ä–æ–ª–∏-–∏-–º–æ–¥–µ–ª—å-–¥–æ—Å—Ç—É–ø–∞)
3. [üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏—è](#-–∂–∏–∑–Ω–µ–Ω–Ω—ã–π-—Ü–∏–∫–ª-—Å–æ–±—ã—Ç–∏—è)
   - [–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–æ–±—ã—Ç–∏–π](#-–¥–µ—Ç–∞–ª—å–Ω–æ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-—Å—Ç–∞—Ç—É—Å–æ–≤-—Å–æ–±—ã—Ç–∏–π)
   - [–°–≤—è–∑—å –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å–æ–±—ã—Ç–∏—è –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π](#-—Å–≤—è–∑—å-–∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ-—Ü–∏–∫–ª–∞-—Å–æ–±—ã—Ç–∏—è-–∏-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π)
   - [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Å—Ç–∞—Ç—É—Å–æ–≤](#-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏-—Å—Ç–∞—Ç—É—Å–æ–≤)
   - [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤](#Ô∏è-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-–∞—Å–ø–µ–∫—Ç—ã-–æ–±—Ä–∞–±–æ—Ç–∫–∏-—Å—Ç–∞—Ç—É—Å–æ–≤)
4. [üì¶ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏](#-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-–º–æ–¥—É–ª–∏)
   - [–ö–∞—Ç–∞–ª–æ–≥ –∏ –¥–µ—Ç–∞–ª–∏ —Å–æ–±—ã—Ç–∏–π](#-–∫–∞—Ç–∞–ª–æ–≥-–∏-–¥–µ—Ç–∞–ª–∏-—Å–æ–±—ã—Ç–∏–π)
   - [–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ](#-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
   - [–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è](#-–∂–∏–∑–Ω–µ–Ω–Ω—ã–π-—Ü–∏–∫–ª-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)
   - [–û–ø–ª–∞—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç—ã](#-–æ–ø–ª–∞—Ç–∞-–∏-–≤–æ–∑–≤—Ä–∞—Ç—ã)
   - [–ü–ª–∞—Ç–µ–∂–∏](#-–ø–ª–∞—Ç–µ–∂–∏)
   - [–ü–æ–ª–∏—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞](#-–ø–æ–ª–∏—Ç–∏–∫–∞-–≤–æ–∑–≤—Ä–∞—Ç–∞)
   - [–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è](#-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
   - [–≠–∫–∏–ø–∞–∂](#-—ç–∫–∏–ø–∞–∂)
   - [–ò–∑–±—Ä–∞–Ω–Ω–æ–µ](#Ô∏è-–∏–∑–±—Ä–∞–Ω–Ω–æ–µ)
   - [–û—Ç–∑—ã–≤—ã](#-–æ—Ç–∑—ã–≤—ã)
   - [–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–±—ã—Ç–∏–π](#-–∫–∞—Ç–µ–≥–æ—Ä–∏–∏-—Å–æ–±—ã—Ç–∏–π)
   - [–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ](#-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ)
   - [–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ](#-—Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ)
   - [–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è](#-–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
   - [–ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤](#-–∑–∞—â–∏—Ç–∞-–æ—Ç-–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö-–∑–∞–ø—Ä–æ—Å–æ–≤)
5. [üìä –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (ERD)](#-–º–æ–¥–µ–ª—å-–¥–∞–Ω–Ω—ã—Ö-erd)
   - [–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –∞—Ç—Ä–∏–±—É—Ç—ã](#-–æ—Å–Ω–æ–≤–Ω—ã–µ-—Å—É—â–Ω–æ—Å—Ç–∏-–∏-–∞—Ç—Ä–∏–±—É—Ç—ã)
   - [–°–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏](#-—Å–≤—è–∑–∏-–º–µ–∂–¥—É-—Å—É—â–Ω–æ—Å—Ç—è–º–∏)
   - [–ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è](#-–±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞-–∏-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)
6. [üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
7. [üåê –°–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏](#-—Å–µ—Ç–µ–≤–æ–µ-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ-–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
   - [–¢–∞–±–ª–∏—Ü–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤](#—Ç–∞–±–ª–∏—Ü–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-–æ—Ç-–¥—Ä—É–≥–∏—Ö-—Å–µ—Ä–≤–∏—Å–æ–≤)
   - [–°—Ö–µ–º–∞ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö](#—Å—Ö–µ–º–∞-–ø–æ—Ç–æ–∫–æ–≤-–¥–∞–Ω–Ω—ã—Ö)
8. [üé¨ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#-—Å—Ü–µ–Ω–∞—Ä–∏–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
   - [–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –æ–ø–ª–∞—Ç—ã](#-—Å—Ü–µ–Ω–∞—Ä–∏–π-1-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–±–µ–∑-–æ–ø–ª–∞—Ç—ã)
   - [–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞](#-—Å—Ü–µ–Ω–∞—Ä–∏–π-2-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-—É—Å–ø–µ—à–Ω–∞—è-–æ–ø–ª–∞—Ç–∞)
   - [–û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º](#-—Å—Ü–µ–Ω–∞—Ä–∏–π-3-–æ—Ç–º–µ–Ω–∞-—Å–æ–±—ã—Ç–∏—è-–æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º)
   - [–ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–∞](#-—Å—Ü–µ–Ω–∞—Ä–∏–π-4-–º–æ–¥–µ—Ä–∞—Ü–∏—è-–æ—Ç–∑—ã–≤–∞)
   - [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ](#Ô∏è-—Å—Ü–µ–Ω–∞—Ä–∏–π-5-–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-—Å–æ–±—ã—Ç–∏—è-–≤-–∏–∑–±—Ä–∞–Ω–Ω–æ–µ)
   - [Use Case –¥–∏–∞–≥—Ä–∞–º–º–∞](#-–æ–±—â–∞—è-–¥–∏–∞–≥—Ä–∞–º–º–∞-–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
9. [üèóÔ∏è –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ](#Ô∏è-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–∏-–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
10. [üõ†Ô∏è API –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è](#Ô∏è-api-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è)
    - [gRPC API](#-grpc-api)
    - [REST API (—á–µ—Ä–µ–∑ API Gateway)](#-rest-api-—á–µ—Ä–µ–∑-api-gateway)
    - [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è](#-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è-–∏-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
11. [üíª –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Å–∏—Å—Ç–µ–º–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
    - [–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#Ô∏è-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
    - [–•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö](#Ô∏è-—Ö—Ä–∞–Ω–∏–ª–∏—â–∞-–¥–∞–Ω–Ω—ã—Ö)
    - [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#Ô∏è-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
    - [–ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è](#–º–∏–≥—Ä–∞—Ü–∏–∏-–∏-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
    - [–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
    - [–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ](#-–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
12. [üîÑ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–∫–∞–∑–æ–≤ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è](#-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—Ç–∫–∞–∑–æ–≤-–∏-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è)
    - [–°—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏](#Ô∏è-—Å—Ü–µ–Ω–∞—Ä–∏–∏-–æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏)
    - [–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö](#-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è-–¥–∞–Ω–Ω—ã—Ö)
    - [–ü–ª–∞–Ω –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ—è](#-–ø–ª–∞–Ω-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è-–ø–æ—Å–ª–µ-—Å–±–æ—è)

## üéØ –¶–µ–ª–∏ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å `backend-event` —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ Aquastream –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–∏—Ö –∫–ª—é—á–µ–≤—ã—Ö –∑–∞–¥–∞—á:

- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤** —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ–º —Å–æ–±—ã—Ç–∏–π
- **–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö** –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã
- **–í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **–ì–∏–±–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–∏–∫–æ–≤—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ –≤–æ –≤—Ä–µ–º—è –º–∞—Å—Å–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –±–∏–∑–Ω–µ—Å-–ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º–∏ Aquastream –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üóÇÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

> **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞:** –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å–æ–±—ã—Ç–∏–π Aquastream.

### üîë –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–°–µ—Ä–≤–∏—Å `backend-event` —Ä–µ–∞–ª–∏–∑—É–µ—Ç **–ø–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π** –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã:
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è–º–∏:** —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—É–±–ª–∏–∫–∞—Ü–∏—è, –æ—Ç–º–µ–Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
- **–ö–∞—Ç–∞–ª–æ–≥–∏–∑–∞—Ü–∏—è:** –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è, –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏
- **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–µ—Ç–æ–≤:** —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç ov–µrselling –∏ –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–º–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–ª–∞—Ç–∞–º–∏:** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç—ë–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏, –≥–∏–±–∫–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:** —Å–±–æ—Ä –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤, —Ä–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞, —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –æ –≤–∞–∂–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞:** —Å–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏, –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### üë• –†–æ–ª–∏ –∏ –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–∞

| –†–æ–ª—å | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|------|-------------|-------------|
| **–ì–æ—Å—Ç—å** | ‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ —Å–æ–±—ã—Ç–∏–π<br>‚Ä¢ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º<br>‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–±—ã—Ç–∏—è—Ö<br>‚Ä¢ –û–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏–µ —Å –æ—Ç–∑—ã–≤–∞–º–∏ | ‚Ä¢ –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é<br>‚Ä¢ –ù–µ –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ<br>‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–µ—Ç–∞–ª—è–º |
| **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** | ‚Ä¢ –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≥–æ—Å—Ç—è<br>‚Ä¢ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø–ª–∞—Ç–∞ –±–∏–ª–µ—Ç–æ–≤<br>‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º–∏ –±—Ä–æ–Ω—è–º–∏ (–æ—Ç–º–µ–Ω–∞, –∏–∑–º–µ–Ω–µ–Ω–∏–µ)<br>‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ<br>‚Ä¢ –û—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –æ –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö | ‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π –±—Ä–æ–Ω–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ<br>‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∑—ã–≤–∞ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Å–æ–±—ã—Ç–∏—è<br>‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è –æ—Ç–º–µ–Ω—ã |
| **–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä** | ‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏<br>‚Ä¢ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∏ –æ—Ç–º–µ–Ω–∞ —Å–≤–æ–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π<br>‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏ –∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏<br>‚Ä¢ –û—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π<br>‚Ä¢ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —ç–∫–∏–ø–∞–∂–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é | ‚Ä¢ –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º —Å–æ–±—ã—Ç–∏—è–º<br>‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π<br>‚Ä¢ –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º |
| **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** | ‚Ä¢ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Å–æ–±—ã—Ç–∏—è–º –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º<br>‚Ä¢ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞<br>‚Ä¢ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤<br>‚Ä¢ –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ —Å–æ–±—ã—Ç–∏—è–º–∏<br>‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ —Å–∏—Ç—É–∞—Ü–∏—è–º–∏ | ‚Ä¢ –ü–æ–¥—á–∏–Ω—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–µ –∞—É–¥–∏—Ç–∞<br>‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π<br>‚Ä¢ –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |

---

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏—è
```mermaid
graph LR
    DRAFT("üìù DRAFT") -->|–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å| PUBLISHED("üì¢ PUBLISHED")
    PUBLISHED -->|–û—Ç–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º| CANCELED("‚ùå CANCELED")
    DRAFT -->|–û—Ç–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º| CANCELED
    PUBLISHED -->|–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è<br>–ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é| COMPLETED("‚úÖ COMPLETED")
    COMPLETED -->|–ü–æ—Å–ª–µ —Å–±–æ—Ä–∞<br>–æ—Ç–∑—ã–≤–æ–≤| REVIEWED("‚≠ê REVIEWED")
    PUBLISHED -->|–ù–µ–±–æ–ª—å—à–∏–µ<br>–∏–∑–º–µ–Ω–µ–Ω–∏—è| PUBLISHED
    PUBLISHED -->|–ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞—Ç—ã/–º–µ—Å—Ç–∞| RESCHEDULED("üîÑ RESCHEDULED")
    RESCHEDULED -->|–û—Ç–º–µ–Ω–∞ –ø—Ä–∏<br>–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏| CANCELED
    RESCHEDULED -->|–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ<br>–≤ –Ω–æ–≤—É—é –¥–∞—Ç—É| COMPLETED
    RESCHEDULED -->|–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ<br>–∏–∑–º–µ–Ω–µ–Ω–∏—è| RESCHEDULED
    RESCHEDULED -->|–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ<br>–∏—Å—Ö–æ–¥–Ω–æ–π –¥–∞—Ç—ã| PUBLISHED
    
    classDef autoTransition fill:#d9f7be,stroke:#389e0d;
    classDef manualTransition fill:#f5f5f5,stroke:#595959;
    
    class "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è<br>–ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é" autoTransition;
    class "–ü–æ—Å–ª–µ —Å–±–æ—Ä–∞<br>–æ—Ç–∑—ã–≤–æ–≤" autoTransition;
    class "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å" manualTransition;
    class "–û—Ç–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º" manualTransition;
    class "–ù–µ–±–æ–ª—å—à–∏–µ<br>–∏–∑–º–µ–Ω–µ–Ω–∏—è" manualTransition;
    class "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞—Ç—ã/–º–µ—Å—Ç–∞" manualTransition;
    class "–û—Ç–º–µ–Ω–∞ –ø—Ä–∏<br>–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏" manualTransition;
    class "–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ<br>–≤ –Ω–æ–≤—É—é –¥–∞—Ç—É" autoTransition;
    class "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ<br>–∏–∑–º–µ–Ω–µ–Ω–∏—è" manualTransition;
    class "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ<br>–∏—Å—Ö–æ–¥–Ω–æ–π –¥–∞—Ç—ã" manualTransition;
```

### üìã –°—Ç–∞—Ç—É—Å—ã –≤ —Å–∏—Å—Ç–µ–º–µ

#### –°—Ç–∞—Ç—É—Å—ã —Å–æ–±—ã—Ç–∏–π
- **`DRAFT`** ‚Äî —á–µ—Ä–Ω–æ–≤–∏–∫ —Å–æ–±—ã—Ç–∏—è
  - –°–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏—è
  - –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—É –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º
  - –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Å–µ –¥–µ—Ç–∞–ª–∏ —Å–æ–±—ã—Ç–∏—è –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π
  - –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

- **`PUBLISHED`** ‚Äî –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å–æ–±—ã—Ç–∏–π
  - –î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
  - –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–æ–±–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
  - –ú–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ü–µ–Ω–æ–≤—ã–µ –æ–ø—Ü–∏–∏ –∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–ª–æ–∂–µ–Ω–Ω—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

- **`RESCHEDULED`** ‚Äî –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –Ω–∞ –¥—Ä—É–≥—É—é –¥–∞—Ç—É/–≤—Ä–µ–º—è
  - –í—Å–µ —Ç–µ–∫—É—â–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–µ–¥–æ–º–ª—è—é—Ç—Å—è –æ –ø–µ—Ä–µ–Ω–æ—Å–µ —Å–æ–±—ã—Ç–∏—è
  - –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã –±—Ä–æ–Ω–∏ —Å –ø–æ–ª–Ω—ã–º –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Å—Ä–µ–¥—Å—Ç–≤
  - –¢—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É—á–∞—Å—Ç–∏—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π

- **`CANCELED`** ‚Äî –æ—Ç–º–µ–Ω–µ–Ω–æ
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω—ã —á–µ—Ä–µ–∑ `backend-notification` (Kafka)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∏—Ä—É—é—Ç—Å—è –≤–æ–∑–≤—Ä–∞—Ç—ã —Å—Ä–µ–¥—Å—Ç–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–ª–∏—Ç–∏–∫–µ –≤–æ–∑–≤—Ä–∞—Ç–∞
  - –°–æ–±—ã—Ç–∏–µ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–º–µ–Ω—ë–Ω–Ω–æ–µ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
  - –û—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã —ç–∫–∏–ø–∞–∂–∞ —á–µ—Ä–µ–∑ `backend-crew`

- **`COMPLETED`** ‚Äî —Å–æ–±—ã—Ç–∏–µ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–æ
  - –î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–±—ã—Ç–∏–π
  - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
  - –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—É –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –æ—Ç–∑—ã–≤—ã

- **`REVIEWED`** ‚Äî —Å–æ–±—ã—Ç–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ –∏ –æ—Ü–µ–Ω–µ–Ω–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
  - –°–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥ –æ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
  - –û—Ç–∑—ã–≤—ã –º–æ–≥—É—Ç –±—ã—Ç—å –º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
  - –í–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–π—Ç–∏–Ω–≥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è –±—É–¥—É—â–∏—Ö —Å–æ–±—ã—Ç–∏–π

#### –°—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- **`PENDING_PAYMENT`** ‚Äî –æ–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã
  - –ú–µ—Å—Ç–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è (–æ–±—ã—á–Ω–æ 2 —á–∞—Å–∞)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ `EXPIRED` –µ—Å–ª–∏ –æ–ø–ª–∞—Ç–∞ –Ω–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∞ –≤–æ–≤—Ä–µ–º—è
  - –ú–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–º–µ–Ω–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –±–µ–∑ —à—Ç—Ä–∞—Ñ–æ–≤

- **`CONFIRMED`** ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
  - –ú–µ—Å—Ç–∞ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω—ã –∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
  - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –±–∏–ª–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–µ
  - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è

- **`CANCELED`** ‚Äî –æ—Ç–º–µ–Ω–µ–Ω–æ
  - –ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (—Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–ª–∏—Ç–∏–∫–µ)
  - –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –æ—Ç–º–µ–Ω—ã —Å–æ–±—ã—Ç–∏—è (—Å –ø–æ–ª–Ω—ã–º –≤–æ–∑–≤—Ä–∞—Ç–æ–º)
  - –ú–µ—Å—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –¥–æ—Å—Ç—É–ø–Ω—ã–µ
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- **`EXPIRED`** ‚Äî —Å—Ä–æ–∫ –æ–∂–∏–¥–∞–Ω–∏—è –æ–ø–ª–∞—Ç—ã –∏—Å—Ç–µ–∫
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ú–µ—Å—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –¥–æ—Å—Ç—É–ø–Ω—ã–µ
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–µ–¥–æ–º–ª—è–µ—Ç—Å—è –æ –ø–æ—Ç–µ—Ä–µ –±—Ä–æ–Ω–∏
  - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

#### –°—Ç–∞—Ç—É—Å—ã –ø–ª–∞—Ç–µ–∂–µ–π
- **`INITIATED`** ‚Äî –ø–ª–∞—Ç–µ–∂ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω, –Ω–æ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω
- **`COMPLETED`** ‚Äî –ø–ª–∞—Ç–µ–∂ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω
- **`FAILED`** ‚Äî –ø–ª–∞—Ç–µ–∂ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω (–æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ)
- **`REFUNDED`** ‚Äî –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –ø–æ–ª–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤
- **`PARTIAL_REFUND`** ‚Äî –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω —á–∞—Å—Ç–∏—á–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤

#### –°—Ç–∞—Ç—É—Å—ã –æ—Ç–∑—ã–≤–æ–≤
- **`PENDING`** ‚Äî –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- **`ACTIVE`** ‚Äî –æ–¥–æ–±—Ä–µ–Ω –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω
- **`REJECTED`** ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º

### üîó –°–≤—è–∑—å —Å—Ç–∞—Ç—É—Å–æ–≤ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏
–°—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ —Å–æ–±—ã—Ç–∏–π:
- –î–ª—è —Å–æ–±—ã—Ç–∏–π –≤ —Å—Ç–∞—Ç—É—Å–µ **`PUBLISHED`** –∏ **`RESCHEDULED`** —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ —Å–æ–±—ã—Ç–∏—è –≤ —Å—Ç–∞—Ç—É—Å **`CANCELED`** –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è—é—Ç—Å—è
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å–æ–±—ã—Ç–∏—è –≤ —Å—Ç–∞—Ç—É—Å **`COMPLETED`** –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ

### üîë –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –∏–∑ **`DRAFT`** –≤ **`PUBLISHED`**
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–≥—É—Ç –æ—Ç–º–µ–Ω–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ (**`CANCELED`**)
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ –≤ **`COMPLETED`** –ø–æ—Å–ª–µ –¥–∞—Ç—ã –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è
- –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ –≤ **`REVIEWED`** –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–∑—ã–≤–æ–≤ –æ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –ü–µ—Ä–µ—Ö–æ–¥ –≤ **`RESCHEDULED`** –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–±—ã—Ç–∏–π –≤ —Å—Ç–∞—Ç—É—Å–µ **`PUBLISHED`**

### ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ PostgreSQL
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–±—ã—Ç–∏–π –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ Kafka –¥–ª—è –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Redis –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏

---

## üì¶ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏

### üîç –ö–∞—Ç–∞–ª–æ–≥ –∏ –¥–µ—Ç–∞–ª–∏ —Å–æ–±—ã—Ç–∏–π
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ü–æ –¥–∞—Ç–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: –ö–∞—Ä—Ç—ã, —ç–∫—Å–ø–æ—Ä—Ç iCal/ICS
- **–§—É–Ω–∫—Ü–∏–∏**: –ò–∑–±—Ä–∞–Ω–Ω–æ–µ, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: –¶–µ–Ω–∞, —Ä–µ–π—Ç–∏–Ω–≥, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä, –æ—Ç–∑—ã–≤—ã, —ç–∫–∏–ø–∞–∂
- **–≠–∫—Å–ø–æ—Ä—Ç**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF-–±–∏–ª–µ—Ç–æ–≤ –∏ —ç–∫—Å–ø–æ—Ä—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–∏ (iCal)

### üé´ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî –æ–¥–Ω–∞ –±—Ä–æ–Ω—å
- **–°—Ç–∞—Ç—É—Å—ã**: `PENDING_PAYMENT`, `CONFIRMED`, `CANCELED`, `EXPIRED`
- **–ó–∞—â–∏—Ç–∞**: –û—Ç overselling, –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- **–†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ú–µ—Å—Ç–æ –¥–æ –æ–ø–ª–∞—Ç—ã

### üìò –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

```mermaid
stateDiagram-v2
    [*] --> PENDING_PAYMENT: –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏
    
    PENDING_PAYMENT --> CONFIRMED: –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞
    PENDING_PAYMENT --> EXPIRED: –ò—Å—Ç–µ—á–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –æ–∂–∏–¥–∞–Ω–∏—è (2 —á–∞—Å–∞)
    PENDING_PAYMENT --> CANCELED: –û—Ç–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
    PENDING_PAYMENT --> CANCELED: –û—Ç–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º
    
    CONFIRMED --> CANCELED: –û—Ç–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º\n(—Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–ª–∏—Ç–∏–∫–µ)
    CONFIRMED --> CANCELED: –û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏—è\n(—Å –ø–æ–ª–Ω—ã–º –≤–æ–∑–≤—Ä–∞—Ç–æ–º)
    CONFIRMED --> [*]: –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è
    
    CANCELED --> [*]: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    EXPIRED --> [*]: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    
    note right of PENDING_PAYMENT
        –ú–µ—Å—Ç–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω—ã
        –û–ø–ª–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤
    end note
    
    note right of CONFIRMED
        –ú–µ—Å—Ç–∞ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω—ã
        –ë–∏–ª–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
        –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω
    end note
    
    note right of CANCELED
        –ú–µ—Å—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –≤ –¥–æ—Å—Ç—É–ø–Ω—ã–µ
        –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ (–µ—Å–ª–∏ –±—ã–ª–∞ –æ–ø–ª–∞—Ç–∞)
        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω—ã
    end note
    
    note right of EXPIRED
        –ú–µ—Å—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –≤ –¥–æ—Å—Ç—É–ø–Ω—ã–µ
        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–µ–¥–æ–º–ª–µ–Ω
        –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
    end note
```

–ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ç–∞—Ç—É—Å–∞–º–∏ –≤—ã–∑—ã–≤–∞—é—Ç —Ä—è–¥ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π:

1. **`PENDING_PAYMENT`** ‚Üí **`CONFIRMED`**:
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–∏–ª–µ—Ç–∞
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞ –æ –Ω–æ–≤–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–µ
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–æ–±—ã—Ç–∏—è

2. **`PENDING_PAYMENT`** ‚Üí **`EXPIRED`**:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ—Å—Ç
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç

3. **`CONFIRMED`** ‚Üí **`CANCELED`**:
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ (—Ä–∞—Å—á–µ—Ç —Å—É–º–º—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–ª–∏—Ç–∏–∫–µ –≤–æ–∑–≤—Ä–∞—Ç–∞)
   - –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤
   - –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –º–µ—Å—Ç
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–æ–±—ã—Ç–∏—è, —Å—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ - –æ–Ω–∏ —Å–ª–µ–¥—É—é—Ç —Å—Ç—Ä–æ–≥–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º–æ–π –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.

### üí≥ –û–ø–ª–∞—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç—ã
- **–£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–∏–ª–µ—Ç–∞, —Å—Ç–∞—Ç—É—Å **`CONFIRMED`**
- **–ù–µ—É—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞**: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞
- **–ü—Ä–æ—Å—Ä–æ—á–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ–Ω–∞
- **–†—É—á–Ω–∞—è –æ—Ç–º–µ–Ω–∞**: –î–æ –æ–ø–ª–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- **–û—Ç–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º**: –ú–∞—Å—Å–æ–≤–∞—è –æ—Ç–º–µ–Ω–∞, –≤–æ–∑–≤—Ä–∞—Ç—ã

### üí∞ –ü–ª–∞—Ç–µ–∂–∏
- **–°—Ç–∞—Ç—É—Å—ã –ø–ª–∞—Ç–µ–∂–µ–π**: `INITIATED`, `COMPLETED`, `FAILED`, `REFUNDED`, `PARTIAL_REFUND`
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏ —Ä—É—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —à–ª—é–∑–∞–º–∏
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤ —á–µ—Ä–µ–∑ gateway_reference
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö —à–ª—é–∑–æ–≤**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ callbacks**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º PCI DSS

### üîÑ –ü–æ–ª–∏—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
- **–î–æ 7 –¥–Ω–µ–π**: 100% –≤–æ–∑–≤—Ä–∞—Ç
- **2‚Äì7 –¥–Ω–µ–π**: ~80% –≤–æ–∑–≤—Ä–∞—Ç
- **24‚Äì48 —á–∞—Å–æ–≤**: ~50% –≤–æ–∑–≤—Ä–∞—Ç
- **<24 —á–∞—Å–æ–≤**: –í–æ–∑–≤—Ä–∞—Ç –Ω–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è (–∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã)
- **–û—Ç–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º**: –ü–æ–ª–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ä–æ–∫–∞
- **–§–æ—Ä—Å-–º–∞–∂–æ—Ä**: –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–ª–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞
- **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è

### üì£ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–û—Ç–ø—Ä–∞–≤–∫–∞**: –ß–µ—Ä–µ–∑ `backend-notification` (Kafka)
- **–¢–∏–ø—ã**: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –æ–ø–ª–∞—Ç—ã, —ç–∫–∏–ø–∞–∂

### üë• –≠–∫–∏–ø–∞–∂
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ß–µ—Ä–µ–∑ `backend-crew`
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏ —Ä—É—á–Ω–æ–µ
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–ª–∏ –æ—Ç–º–µ–Ω–µ —Å–æ–±—ã—Ç–∏—è
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—É –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ/–ø–µ—Ä–µ–Ω–æ—Å–µ

### ‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
- **–§—É–Ω–∫—Ü–∏–∏**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- **–î–æ—Å—Ç—É–ø**: –¢–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ, –Ω–µ –ø—É–±–ª–∏—á–Ω–æ

### ‚≠ê –û—Ç–∑—ã–≤—ã
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ**: –û–¥–∏–Ω –æ—Ç–∑—ã–≤ –ø–æ—Å–ª–µ —Å–æ–±—ã—Ç–∏—è
- **–†–µ–π—Ç–∏–Ω–≥**: 1‚Äì5, —Å—Ç–∞—Ç—É—Å `PENDING` ‚Üí `ACTIVE` ‚Üí `REJECTED`
- **–ú–æ–¥–µ—Ä–∞—Ü–∏—è**: –û—Ç–≤–µ—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
- **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: –ü–æ –ø–æ–ª–µ–∑–Ω–æ—Å—Ç–∏

### üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–±—ã—Ç–∏–π
- **–ò–µ—Ä–∞—Ä—Ö–∏—è**: –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ-–¥–æ—á–µ—Ä–Ω–∏–µ —Å–≤—è–∑–∏
- **–í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**: –ò–∑ –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –£–¥–æ–±–Ω—ã–π –≤—ã–±–æ—Ä –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

### üîß –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è–º–∏**: –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–ö–æ–Ω—Ç—Ä–æ–ª—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –∏ –æ—Ç–∑—ã–≤–æ–≤**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å–µ—Ä–≤–∏—Å–∞
- **–û—Ç—á—ë—Ç–Ω–æ—Å—Ç—å**: –í–µ–¥–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–æ–≤, —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤ –∏ —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV
- **–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—Å–æ–≤–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞, –æ—Ç–º–µ–Ω—ã –∏ —Ä–∞—Å—Å—ã–ª–∫–∏

### üí≤ –¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: VIP, —Ä–∞–Ω–Ω—è—è —Ü–µ–Ω–∞, –≥—Ä—É–ø–ø–æ–≤—ã–µ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã
- **–ü—Ä–æ–º–æ–∫–æ–¥—ã**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö —Å–∫–∏–¥–æ–∫ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ**: –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ü–µ–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ø—Ä–æ—Å–∞
- **–°–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏**: –ü—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–æ—â—Ä–µ–Ω–∏—è –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

### üöÄ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞**: –•—Ä–∞–Ω–µ–Ω–∏–µ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö —Å–æ–±—ã—Ç–∏–π –≤ Redis —Å TTL
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, —à–∞–±–ª–æ–Ω–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å–æ–±—ã—Ç–∏–π
- **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**: –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–µ—Ç–∞–ª–µ–π —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –∫–∞—Ç–∞–ª–æ–≥–∞
- **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤**: –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø—É–ª–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—è–∂—ë–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–º–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤) –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**:
  - L1: –õ–æ–∫–∞–ª—å–Ω—ã–π in-memory –∫—ç—à —Å –º–∞–ª—ã–º TTL (30 —Å–µ–∫) –¥–ª—è —Å–≤–µ—Ä—Ö–±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
  - L2: –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π Redis-–∫—ç—à —Å –±–æ–ª–µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–º TTL (5-15 –º–∏–Ω)
  - L3: –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (PostgreSQL)
- **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫—ç—à–∞**:
  - –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö (cache-aside pattern)
  - Cascading invalidation –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –∫—ç—à–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π)
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ pub/sub –≤ Redis –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **–£—Å–ª–æ–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–∞–∑–Ω—ã–µ TTL –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ —Å–æ–±—ã—Ç–∏—è (–ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∫—ç—à–∏—Ä—É—é—Ç—Å—è –¥–æ–ª—å—à–µ)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ETag –∏ —É—Å–ª–æ–≤–Ω—ã—Ö GET-–∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏

### üîí –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö
- **–ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redis –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**: –ó–∞—â–∏—Ç–∞ –æ—Ç race condition –ø—Ä–∏ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–∏ –±–∏–ª–µ—Ç–æ–≤
- **–ú–µ—Ö–∞–Ω–∏–∑–º –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫**: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **–û—á–µ—Ä–µ–¥–∏ –∑–∞–ø—Ä–æ—Å–æ–≤**: –£–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≤ Redis**:
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã `SET nx ex` —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º –≤–ª–∞–¥–µ–ª—å—Ü–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redlock –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ Redis
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —Å –ø–æ–º–æ—â—å—é TTL –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è deadlock
  - Lua-—Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **–ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ race condition**:
  ```
  // –ü—Å–µ–≤–¥–æ–∫–æ–¥ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –±–∏–ª–µ—Ç–∞
  String lockKey = "booking:event:" + eventId;
  String lockValue = UUID.randomUUID().toString();
  
  try {
    // –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É
    boolean locked = redisTemplate.opsForValue().setIfAbsent(lockKey, lockValue, 30, TimeUnit.SECONDS);
    
    if (locked) {
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–µ—Å—Ç –≤ –ë–î
      int availableSeats = eventRepository.findAvailableSeatsById(eventId);
      
      if (availableSeats >= requestedSeats) {
        // –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏
        Booking booking = bookingRepository.save(new Booking(...));
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç
        eventRepository.updateAvailableSeats(eventId, availableSeats - requestedSeats);
        return booking;
      } else {
        throw new NoAvailableSeatsException();
      }
    } else {
      throw new ConcurrentBookingException("–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥");
    }
  } finally {
    // –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –º—ã –≤–ª–∞–¥–µ–ª—å—Ü—ã (—Å –ø–æ–º–æ—â—å—é Lua-—Å–∫—Ä–∏–ø—Ç–∞)
    String script = "if redis.call('get', KEYS[1]) == ARGV[1] then return redis.call('del', KEYS[1]) else return 0 end";
    redisTemplate.execute(new DefaultRedisScript<>(script, Long.class), 
                          Collections.singletonList(lockKey), lockValue);
  }
  ```
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏**:
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ (`UPDATE events SET ... WHERE id = ? AND version = ?`)
  - –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞
  - –°—Ç—Ä–∞—Ç–µ–≥–∏—è "–ø–æ—Å–ª–µ–¥–Ω–∏–π –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç" —Å –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `AuditLog` –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üìä –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (ERD)

```mermaid
erDiagram
    User {
        uuid id PK
        string username
        string email
        string role
        datetime created_at
        datetime updated_at
    }
    
    Event {
        uuid id PK
        string title
        text description
        datetime start_date
        datetime end_date
        string location
        float capacity
        enum status "DRAFT|PUBLISHED|CANCELED|COMPLETED|REVIEWED|RESCHEDULED"
        uuid category_id FK
        uuid crew_id FK
        uuid organizer_id FK
        datetime created_at
        datetime updated_at
        version int
    }
    
    Category {
        uuid id PK
        string name
        string description
        uuid parent_id FK
        bool is_active
        int display_order
    }
    
    Booking {
        uuid id PK
        uuid event_id FK
        uuid user_id FK
        int quantity
        enum status "PENDING_PAYMENT|CONFIRMED|CANCELED|EXPIRED"
        uuid price_option_id FK
        float total_amount
        datetime deadline
        string booking_code
        datetime created_at
        datetime updated_at
    }
    
    PriceOption {
        uuid id PK
        uuid event_id FK
        string name
        float price
        int available_quantity
        bool is_active
        datetime valid_from
        datetime valid_until
        int display_order
    }
    
    Payment {
        uuid id PK
        uuid booking_id FK
        float amount
        enum status "INITIATED|COMPLETED|FAILED|REFUNDED|PARTIAL_REFUND"
        string gateway_reference
        enum payment_method "CARD|PAYPAL|BANK_TRANSFER|CRYPTO"
        float refund_amount
        datetime created_at
        datetime updated_at
    }
    
    Review {
        uuid id PK
        uuid event_id FK
        uuid user_id FK
        int rating
        text content
        enum status "PENDING|ACTIVE|REJECTED"
        int helpful_count
        datetime created_at
        datetime updated_at
    }
    
    ReviewReply {
        uuid id PK
        uuid review_id FK
        uuid organizer_id FK
        text content
        datetime created_at
        datetime updated_at
    }
    
    Favorite {
        uuid id PK
        uuid user_id FK
        uuid event_id FK
        datetime created_at
    }
    
    PromoCode {
        uuid id PK
        string code
        uuid event_id FK
        float discount_amount
        float discount_percent
        int usage_limit
        int usage_count
        datetime valid_from
        datetime valid_until
        bool is_active
    }
    
    AuditLog {
        uuid id PK
        string entity_type
        uuid entity_id
        uuid user_id FK
        string action
        jsonb old_values
        jsonb new_values
        datetime created_at
        string ip_address
    }
    
    User ||--o{ Event : "organizes"
    User ||--o{ Booking : "makes"
    User ||--o{ Review : "writes"
    User ||--o{ Favorite : "has"
    User ||--o{ ReviewReply : "writes"
    User ||--o{ AuditLog : "creates"
    Event ||--o{ Booking : "has"
    Event ||--o{ Review : "receives"
    Event ||--o{ PriceOption : "offers"
    Event ||--o{ PromoCode : "has"
    Category ||--o{ Event : "contains"
    Category ||--o{ Category : "parent_of"
    Booking ||--o{ Payment : "has"
    Review ||--|| ReviewReply : "has"
```

### üîë –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –∞—Ç—Ä–∏–±—É—Ç—ã

#### User (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- **id**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (UUID)
- **username**: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **email**: –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- **role**: –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ì–æ—Å—Ç—å", "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å", "–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä", "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä")
- **created_at, updated_at**: –î–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### Event (–°–æ–±—ã—Ç–∏–µ)
- **id**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–±—ã—Ç–∏—è (UUID)
- **title**: –ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- **description**: –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- **start_date, end_date**: –î–∞—Ç—ã –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è
- **location**: –ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è (–∞–¥—Ä–µ—Å –∏–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
- **capacity**: –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)
- **status**: –°—Ç–∞—Ç—É—Å —Å–æ–±—ã—Ç–∏—è (—Å–º. —Ä–∞–∑–¥–µ–ª "–°—Ç–∞—Ç—É—Å—ã —Å–æ–±—ã—Ç–∏–π")
- **category_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Å–æ–±—ã—Ç–∏—è
- **crew_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π —ç–∫–∏–ø–∞–∂
- **organizer_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
- **created_at, updated_at**: –î–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **version**: –í–µ—Ä—Å–∏—è —Å–æ–±—ã—Ç–∏—è –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

#### Category (–ö–∞—Ç–µ–≥–æ—Ä–∏—è)
- **id**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **name**: –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **description**: –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **parent_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é (–¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏–∏)
- **is_active**: –§–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **display_order**: –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

#### Booking (–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- **id**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **event_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ
- **user_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–∑–¥–∞–≤—à–µ–≥–æ –±—Ä–æ–Ω—å
- **quantity**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ—Å—Ç
- **status**: –°—Ç–∞—Ç—É—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (—Å–º. —Ä–∞–∑–¥–µ–ª "–°—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π")
- **price_option_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –æ–ø—Ü–∏—é —Ü–µ–Ω—ã
- **total_amount**: –ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **deadline**: –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –±—Ä–æ–Ω–∏ (–¥–ª—è –æ–ø–ª–∞—Ç—ã)
- **booking_code**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **created_at, updated_at**: –î–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

#### PriceOption (–¶–µ–Ω–æ–≤–∞—è –æ–ø—Ü–∏—è)
- **id**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ü–µ–Ω–æ–≤–æ–π –æ–ø—Ü–∏–∏
- **event_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ
- **name**: –ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "VIP", "–°—Ç–∞–Ω–¥–∞—Ä—Ç")
- **price**: –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ –µ–¥–∏–Ω–∏—Ü—É
- **available_quantity**: –î–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤ –¥–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **is_active**: –§–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ–ø—Ü–∏–∏
- **valid_from, valid_until**: –ü–µ—Ä–∏–æ–¥ –¥–µ–π—Å—Ç–≤–∏—è —Ü–µ–Ω—ã (–¥–ª—è —Ä–∞–Ω–Ω–µ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)
- **display_order**: –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

#### Payment (–ü–ª–∞—Ç—ë–∂)
- **id**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–ª–∞—Ç–µ–∂–∞
- **booking_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- **amount**: –°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞
- **status**: –°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞ (—Å–º. —Ä–∞–∑–¥–µ–ª "–°—Ç–∞—Ç—É—Å—ã –ø–ª–∞—Ç–µ–∂–µ–π")
- **gateway_reference**: –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ø–ª–∞—Ç—ë–∂–Ω–æ–≥–æ —à–ª—é–∑–∞
- **payment_method**: –ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã (CARD, PAYPAL, BANK_TRANSFER, CRYPTO)
- **refund_amount**: –°—É–º–º–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ (–µ—Å–ª–∏ –±—ã–ª)
- **created_at, updated_at**: –î–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞

#### Review (–û—Ç–∑—ã–≤)
- **id**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç–∑—ã–≤–∞
- **event_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ
- **user_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ –∞–≤—Ç–æ—Ä–∞ –æ—Ç–∑—ã–≤–∞
- **rating**: –û—Ü–µ–Ω–∫–∞ –æ—Ç 1 –¥–æ 5
- **content**: –¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞
- **status**: –°—Ç–∞—Ç—É—Å –æ—Ç–∑—ã–≤–∞ (—Å–º. —Ä–∞–∑–¥–µ–ª "–°—Ç–∞—Ç—É—Å—ã –æ—Ç–∑—ã–≤–æ–≤")
- **helpful_count**: –°—á—ë—Ç—á–∏–∫ –ø–æ–ª–µ–∑–Ω–æ—Å—Ç–∏ –æ—Ç–∑—ã–≤–∞
- **created_at, updated_at**: –î–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞

#### ReviewReply (–û—Ç–≤–µ—Ç –Ω–∞ –æ—Ç–∑—ã–≤)
- **id**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç–≤–µ—Ç–∞
- **review_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ç–∑—ã–≤
- **organizer_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞, –¥–∞—é—â–µ–≥–æ –æ—Ç–≤–µ—Ç
- **content**: –¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞
- **created_at, updated_at**: –î–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞

#### Favorite (–ò–∑–±—Ä–∞–Ω–Ω–æ–µ)
- **id**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
- **user_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **event_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º
- **created_at**: –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

#### PromoCode (–ü—Ä–æ–º–æ–∫–æ–¥)
- **id**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–º–æ–∫–æ–¥–∞
- **code**: –ö–æ–¥ –ø—Ä–æ–º–æ–∫–æ–¥–∞ (—Ç–µ–∫—Å—Ç–æ–≤—ã–π)
- **event_id**: –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ
- **discount_amount**: –°—É–º–º–∞ —Å–∫–∏–¥–∫–∏ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
- **discount_percent**: –ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏
- **usage_limit**: –õ–∏–º–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
- **usage_count**: –°—á—ë—Ç—á–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
- **valid_from, valid_until**: –ü–µ—Ä–∏–æ–¥ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞
- **is_active**: –§–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞

#### AuditLog (–ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞)
- **id**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ –∞—É–¥–∏—Ç–∞
- **entity_type**: –¢–∏–ø –∏–∑–º–µ–Ω—è–µ–º–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Event", "Booking", "Review")
- **entity_id**: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–∑–º–µ–Ω—è–µ–º–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
- **user_id**: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–≤–µ—Ä—à–∏–≤—à–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
- **action**: –î–µ–π—Å—Ç–≤–∏–µ, —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Created", "Updated", "Deleted")
- **old_values**: –°—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSONB
- **new_values**: –ù–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSONB
- **created_at**: –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **ip_address**: IP-–∞–¥—Ä–µ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–≤–µ—Ä—à–∏–≤—à–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ

### üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏

- **User-Event**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Å–æ–±—ã—Ç–∏–π
- **User-Booking**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- **User-Review**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤
- **User-Favorite**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
- **User-ReviewReply**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Ç–∑—ã–≤—ã
- **User-AuditLog**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏ –≤ –∂—É—Ä–Ω–∞–ª–µ –∞—É–¥–∏—Ç–∞
- **Event-Booking**: –°–æ–±—ã—Ç–∏–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- **Event-Review**: –°–æ–±—ã—Ç–∏–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤
- **Event-PriceOption**: –°–æ–±—ã—Ç–∏–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ü–µ–Ω–æ–≤—ã—Ö –æ–ø—Ü–∏–π
- **Event-PromoCode**: –°–æ–±—ã—Ç–∏–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- **Event-AuditLog**: –°–æ–±—ã—Ç–∏–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –∑–∞–ø–∏—Å–∏ –≤ –∂—É—Ä–Ω–∞–ª–µ –∞—É–¥–∏—Ç–∞
- **Category-Event**: –ö–∞—Ç–µ–≥–æ—Ä–∏—è –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π
- **Category-Category**: –ö–∞—Ç–µ–≥–æ—Ä–∏—è –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é (–¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏–∏)
- **Booking-Payment**: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–ª–∞—Ç–µ–∂–µ–π
- **Review-ReviewReply**: –û—Ç–∑—ã–≤ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–¥–∏–Ω –æ—Ç–≤–µ—Ç –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞

### üìè –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –°–æ–±—ã—Ç–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–æ —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Å —Ä–æ–ª—å—é –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–º—É —Å–æ–±—ã—Ç–∏—é (—Å—Ç–∞—Ç—É—Å **`PUBLISHED`**)
- –û—Ç–∑—ã–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–º —Å–æ–±—ã—Ç–∏—è –ø–æ—Å–ª–µ –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –ü—Ä–æ–º–æ–∫–æ–¥ –º–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —Å–æ–±—ã—Ç–∏—é –≤ –ø–µ—Ä–∏–æ–¥ –µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –º–µ—Å—Ç–æ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ (–æ–¥–∏–Ω —Ä–∞–∑)
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–æ–±—ã—Ç–∏—è –∏ –∏—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –∏ –∏—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üåê –°–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **–ü—Ä–æ—Ç–æ–∫–æ–ª—ã**: gRPC –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤, Kafka –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: TLS –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: OAuth2, JWT —á–µ—Ä–µ–∑ `backend-auth`
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Prometheus, Grafana
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: ELK Stack

### üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å `backend-event` –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã Aquastream —á–µ—Ä–µ–∑ –∫–æ–º–±–∏–Ω–∞—Ü–∏—é —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö (gRPC) –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö (Kafka) –≤—ã–∑–æ–≤–æ–≤:

#### –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (gRPC)
- **`backend-auth`**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **`backend-crew`**: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —ç–∫–∏–ø–∞–∂–∞ –¥–ª—è —Å–æ–±—ã—Ç–∏–π
- **`backend-payment`**: –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–µ–π –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
- **`backend-user`**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
- **`backend-search`**: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ —Å–æ–±—ã—Ç–∏–π

#### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Kafka)
- **`backend-notification`**: –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞–º
- **`backend-analytics`**: –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —Å–æ–±—ã—Ç–∏—è–º –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏—è–º
- **–°–æ–±—ã—Ç–∏—è –¥–æ–º–µ–Ω–∞**: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –¥–æ–º–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### üìä –¢–∞–±–ª–∏—Ü–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
| –°–µ—Ä–≤–∏—Å             | –¢–∏–ø –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏                              | –†–µ–∑–µ—Ä–≤–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º                                                                 |
|--------------------|----------------|-------------|--------------------------------------------------------|------------------------------------------------------------------------------------|
| `backend-auth`       | gRPC           | –ö—Ä–∏—Ç–∏—á–Ω–∞—è   | –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ Redis —Å TTL, offline-—Ä–µ–∂–∏–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| `backend-notification` | Kafka         | –í—ã—Å–æ–∫–∞—è     | –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Å—Ç–∞—Ç—É—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –∏ —Å–æ–±—ã—Ç–∏–π | –õ–æ–∫–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π —Å –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π                                 |
| `backend-crew`       | gRPC           | –°—Ä–µ–¥–Ω—è—è     | –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è           | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏                            |
| `backend-payment`    | gRPC, Kafka    | –ö—Ä–∏—Ç–∏—á–Ω–∞—è   | –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π –∏ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤            | –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–µ–∂–∏–º "—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä" –¥–ª—è –ø–ª–∞—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ |
| `backend-user`       | gRPC           | –í—ã—Å–æ–∫–∞—è     | –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö      | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –≤ Redis                             |
| `backend-analytics`  | Kafka          | –ù–∏–∑–∫–∞—è      | –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º                   | –õ–æ–∫–∞–ª—å–Ω–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π                       |
| `backend-search`     | gRPC           | –°—Ä–µ–¥–Ω—è—è     | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏            | –ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ –ø—Ä—è–º—ã–º –∑–∞–ø—Ä–æ—Å–∞–º –∫ –ë–î                                              |

### üîÑ –°—Ö–µ–º–∞ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

```mermaid
flowchart TB
    %% –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π –¥–ª—è —Å–≤—è–∑–µ–π
    linkStyle default stroke:#333,stroke-width:2px,color:black;
    
    %% –ì—Ä—É–ø–ø—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    subgraph "Frontend"
        UI[UI –°–æ–±—ã—Ç–∏—è]
        Admin[–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å]
    end
    
    subgraph "API Gateway"
        REST[REST API]
    end
    
    subgraph "backend-event"
        EventService[–°–µ—Ä–≤–∏—Å —Å–æ–±—ã—Ç–∏–π]
        BookingService[–°–µ—Ä–≤–∏—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π]
        ReviewService[–°–µ—Ä–≤–∏—Å –æ—Ç–∑—ã–≤–æ–≤]
        PricingService[–°–µ—Ä–≤–∏—Å —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è]
        
        %% –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
        EventService <--> BookingService
        EventService <--> ReviewService
        EventService <--> PricingService
        BookingService <--> PricingService
    end
    
    subgraph "–í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã"
        Auth[`backend-auth`]
        Notification[`backend-notification`]
        Crew[`backend-crew`]
        Payment[`backend-payment`]
        User[`backend-user`]
        Analytics[`backend-analytics`]
        Search[`backend-search`]
    end
    
    subgraph "–•—Ä–∞–Ω–∏–ª–∏—â–∞"
        PostgreSQL[(PostgreSQL)]
        Redis[(Redis)]
        ElasticSearch[(ElasticSearch)]
    end
    
    subgraph "–û—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π"
        Kafka[Kafka]
    end
    
    %% –°–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
    UI -- "REST HTTP" --> REST
    Admin -- "REST HTTP" --> REST
    
    REST -- "gRPC" --> EventService
    REST -- "gRPC" --> BookingService
    REST -- "gRPC" --> ReviewService
    
    %% –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î
    EventService <--> PostgreSQL
    BookingService <--> PostgreSQL
    ReviewService <--> PostgreSQL
    PricingService <--> PostgreSQL
    
    %% –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞
    EventService <-- "–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ<br/>–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏" --> Redis
    BookingService <-- "–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ<br/>–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏" --> Redis
    
    %% –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (–ø—É–Ω–∫—Ç–∏—Ä–Ω—ã–µ –ª–∏–Ω–∏–∏)
    EventService -. "–î–æ–º–µ–Ω–Ω—ã–µ<br/>—Å–æ–±—ã—Ç–∏—è" .-> Kafka
    BookingService -. "–î–æ–º–µ–Ω–Ω—ã–µ<br/>—Å–æ–±—ã—Ç–∏—è" .-> Kafka
    ReviewService -. "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è" .-> Kafka
    
    %% –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
    EventService -- "–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è<br/>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è" --> Auth
    BookingService -- "–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è<br/>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è" --> Auth
    ReviewService -- "–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è<br/>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è" --> Auth
    
    EventService -- "–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ<br/>—ç–∫–∏–ø–∞–∂–∞" --> Crew
    EventService -- "–ü–æ–∏—Å–∫<br/>–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è" --> Search
    
    BookingService -- "–û–±—Ä–∞–±–æ—Ç–∫–∞<br/>–ø–ª–∞—Ç–µ–∂–µ–π" --> Payment
    BookingService -- "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è<br/>–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö" --> User
    
    %% –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏
    Kafka -. "–û—Ç–ø—Ä–∞–≤–∫–∞<br/>—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π" .-> Notification
    Kafka -. "–°–±–æ—Ä<br/>–∞–Ω–∞–ª–∏—Ç–∏–∫–∏" .-> Analytics
    
    %% –ü–æ–∏—Å–∫–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã
    Search <--> ElasticSearch
    
    %% –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∏–ª–µ–π —É–∑–ª–æ–≤
    classDef primaryService fill:#e6f7ff,stroke:#1890ff,color:#000000;
    classDef externalService fill:#f6ffed,stroke:#52c41a,color:#000000;
    classDef storage fill:#fcffe6,stroke:#fadb14,color:#000000;
    classDef client fill:#fff2e8,stroke:#fa8c16,color:#000000;
    classDef message fill:#f9f0ff,stroke:#722ed1,color:#000000;
    
    %% –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π
    class EventService,BookingService,ReviewService,PricingService primaryService;
    class Auth,Notification,Crew,Payment,User,Analytics,Search externalService;
    class PostgreSQL,Redis,ElasticSearch storage;
    class UI,Admin client;
    class Kafka,REST message;
```

---

## üé¨ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üìã –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –æ–ø–ª–∞—Ç—ã
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—Ä–æ–Ω–∏—Ä—É–µ—Ç –±–∏–ª–µ—Ç, –Ω–æ –Ω–µ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –µ–≥–æ –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è –¥–µ–¥–ª–∞–π–Ω–∞. –ë—Ä–æ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å—Ç–µ–∫–∞–µ—Ç, –±–∏–ª–µ—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∂—É, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.
```mermaid
sequenceDiagram
    participant User as üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant EventSvc as üé´ –°–µ—Ä–≤–∏—Å —Å–æ–±—ã—Ç–∏–π
    participant NotifSvc as üì± –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    
    Note over User,NotifSvc: –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏ –±–µ–∑ –æ–ø–ª–∞—Ç—ã
    
    User->>EventSvc: –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –±–∏–ª–µ—Ç –Ω–∞ —Å–æ–±—ã—Ç–∏–µ
    EventSvc->>EventSvc: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–µ—Å—Ç
    EventSvc->>EventSvc: –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º PENDING_PAYMENT
    EventSvc->>NotifSvc: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–ø–ª–∞—Ç—ã
    EventSvc-->>User: –í–æ–∑–≤—Ä–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±—Ä–æ–Ω–∏ —Å –¥–µ–¥–ª–∞–π–Ω–æ–º –æ–ø–ª–∞—Ç—ã
    
    Note over EventSvc,NotifSvc: –ò—Å—Ç–µ—á–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –æ–∂–∏–¥–∞–Ω–∏—è (2 —á–∞—Å–∞)
    
    EventSvc->>EventSvc: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–µ–æ–ø–ª–∞—á–µ–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π —Å –∏—Å—Ç–µ–∫—à–∏–º –¥–µ–¥–ª–∞–π–Ω–æ–º
    EventSvc->>EventSvc: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏ –Ω–∞ EXPIRED
    EventSvc->>EventSvc: –í–æ–∑–≤—Ä–∞—Ç –º–µ—Å—Ç –≤ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏
    EventSvc->>NotifSvc: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç–º–µ–Ω–µ –±—Ä–æ–Ω–∏
    NotifSvc-->>User: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–í–∞—à–∞ –±—Ä–æ–Ω—å –æ—Ç–º–µ–Ω–µ–Ω–∞ –∏–∑-–∑–∞ –Ω–µ–æ–ø–ª–∞—Ç—ã"
```

### üí≥ –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—Ä–æ–Ω–∏—Ä—É–µ—Ç –±–∏–ª–µ—Ç —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º –∏ —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –µ–≥–æ. –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –±–∏–ª–µ—Ç, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä —É–≤–µ–¥–æ–º–ª—è–µ—Ç—Å—è.
```mermaid
sequenceDiagram
    participant User as üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant EventSvc as üé´ –°–µ—Ä–≤–∏—Å —Å–æ–±—ã—Ç–∏–π
    participant PayGW as üí∞ –ü–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑
    participant NotifSvc as üì± –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    participant Org as üëî –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä
    
    Note over User,NotifSvc: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–ø–ª–∞—Ç–∞ –±—Ä–æ–Ω–∏
    
    User->>EventSvc: –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º WELCOME2023
    EventSvc->>EventSvc: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞
    EventSvc->>EventSvc: –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º PENDING_PAYMENT
    EventSvc-->>User: –í–æ–∑–≤—Ä–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±—Ä–æ–Ω–∏ —Å–æ —Å–∫–∏–¥–∫–æ–π
    User->>PayGW: –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –ø–æ –±—Ä–æ–Ω–∏
    PayGW-->>EventSvc: –í–µ–±—Ö—É–∫ –æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –æ–ø–ª–∞—Ç—ã
    
    Note over EventSvc,NotifSvc: –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
    
    EventSvc->>EventSvc: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏ –Ω–∞ CONFIRMED
    EventSvc->>NotifSvc: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–∏–ª–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    NotifSvc-->>User: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å PDF-–±–∏–ª–µ—Ç–æ–º –∏ QR-–∫–æ–¥–æ–º
    EventSvc->>NotifSvc: –£–≤–µ–¥–æ–º–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞ –æ –Ω–æ–≤–æ–π –±—Ä–æ–Ω–∏
    NotifSvc-->>Org: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–µ
```

### ‚ùå –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º
–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –æ—Ç–º–µ–Ω—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ. –í—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–º–µ–Ω—è—é—Ç—Å—è, –∏–Ω–∏—Ü–∏–∏—Ä—É—é—Ç—Å—è –≤–æ–∑–≤—Ä–∞—Ç—ã, —É—á–∞—Å—Ç–Ω–∏–∫–∏ —É–≤–µ–¥–æ–º–ª—è—é—Ç—Å—è.
```mermaid
sequenceDiagram
    participant Org as üëî –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä
    participant EventSvc as üé´ –°–µ—Ä–≤–∏—Å —Å–æ–±—ã—Ç–∏–π
    participant BookDB as üíæ –ë–∞–∑–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
    participant PayGW as üí∞ –ü–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑
    participant NotifSvc as üì± –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    participant User as üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    
    Note over Org,NotifSvc: –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–º–µ–Ω—ã —Å–æ–±—ã—Ç–∏—è
    
    Org->>EventSvc: –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–º–µ–Ω—É —Å–æ–±—ã—Ç–∏—è
    EventSvc->>EventSvc: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
    EventSvc->>EventSvc: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–±—ã—Ç–∏—è –Ω–∞ CANCELED
    
    Note over EventSvc,User: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
    
    EventSvc->>BookDB: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è
    BookDB-->>EventSvc: –°–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π (PENDING_PAYMENT, CONFIRMED)
    
    loop –î–ª—è –∫–∞–∂–¥–æ–π –±—Ä–æ–Ω–∏
        EventSvc->>EventSvc: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏ –Ω–∞ CANCELED
        
        alt –ë—Ä–æ–Ω—å –±—ã–ª–∞ –æ–ø–ª–∞—á–µ–Ω–∞ (CONFIRMED)
            EventSvc->>PayGW: –ó–∞–ø—Ä–æ—Å –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤
            PayGW-->>EventSvc: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞
        end
        
        EventSvc->>NotifSvc: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤–æ–∑–≤—Ä–∞—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        NotifSvc-->>User: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–°–æ–±—ã—Ç–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ, —Å—Ä–µ–¥—Å—Ç–≤–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã"
    end
    
    EventSvc->>NotifSvc: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º
    NotifSvc-->>User: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –ø—Ä–∏—á–∏–Ω–æ–π –æ—Ç–º–µ–Ω—ã –∏ –∏–∑–≤–∏–Ω–µ–Ω–∏—è–º–∏
```

### ‚≠ê –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–∑—ã–≤. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–¥–µ—Ä–∏—Ä—É–µ—Ç –∏ –º–æ–∂–µ—Ç –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –æ—Ç–∑—ã–≤ –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –ø—Ä–∞–≤–∏–ª, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.
```mermaid
sequenceDiagram
    participant User as üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant EventSvc as üé´ –°–µ—Ä–≤–∏—Å —Å–æ–±—ã—Ç–∏–π
    participant Admin as üõ°Ô∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
    participant NotifSvc as üì± –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    
    Note over User,EventSvc: –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞
    
    User->>EventSvc: –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –æ —Å–æ–±—ã—Ç–∏–∏
    EventSvc->>EventSvc: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª (—É—á–∞—Å—Ç–∏–µ –≤ —Å–æ–±—ã—Ç–∏–∏)
    EventSvc->>EventSvc: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º PENDING
    EventSvc-->>User: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞
    
    Note over Admin,NotifSvc: –ü—Ä–æ—Ü–µ—Å—Å –º–æ–¥–µ—Ä–∞—Ü–∏–∏
    
    Admin->>EventSvc: –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –º–æ–¥–µ—Ä–∞—Ü–∏–∏
    EventSvc-->>Admin: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
    Admin->>EventSvc: –û—Ç–∫–ª–æ–Ω–∏—Ç—å –æ—Ç–∑—ã–≤ (–Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª)
    EventSvc->>EventSvc: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–∑—ã–≤–∞ –Ω–∞ REJECTED
    EventSvc->>NotifSvc: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
    NotifSvc-->>User: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–í–∞—à –æ—Ç–∑—ã–≤ –æ—Ç–∫–ª–æ–Ω–µ–Ω. –ü—Ä–∏—á–∏–Ω–∞: –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª"
```

### ‚ù§Ô∏è –°—Ü–µ–Ω–∞—Ä–∏–π 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è.
```mermaid
sequenceDiagram
    participant User as üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant EventSvc as üé´ –°–µ—Ä–≤–∏—Å —Å–æ–±—ã—Ç–∏–π
    participant DB as üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
    participant NotifSvc as üì± –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    
    Note over User,EventSvc: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
    
    User->>EventSvc: –ù–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
    EventSvc->>EventSvc: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    EventSvc->>DB: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-—Å–æ–±—ã—Ç–∏–µ
    DB-->>EventSvc: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
    EventSvc-->>User: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    
    Note over EventSvc,User: –ü–µ—Ä–µ–¥ —Å–æ–±—ã—Ç–∏–µ–º (–∑–∞ 24 —á–∞—Å–∞)
    
    EventSvc->>DB: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π, –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è –≤ –±–ª–∏–∂–∞–π—à–∏–µ 24—á
    DB-->>EventSvc: –°–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –¥–æ–±–∞–≤–∏–≤—à–∏–º–∏ –∏—Ö –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
    EventSvc->>NotifSvc: –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
    NotifSvc-->>User: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–ù–∞–ø–æ–º–∏–Ω–∞–µ–º –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–µ–º —Å–æ–±—ã—Ç–∏–∏ –∑–∞–≤—Ç—Ä–∞"
```

---

## üõ†Ô∏è API –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

–°–µ—Ä–≤–∏—Å `backend-event` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ gRPC –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π —Å –¥—Ä—É–≥–∏–º–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ REST API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ (–≤–µ–±, –º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è) —á–µ—Ä–µ–∑ API Gateway.

### üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã API

```mermaid
graph LR
    %% –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º API
    subgraph Events ["API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è–º–∏"]
        E1["/api/events"]
        E2["/api/events/{id}"]
        E3["/api/events/{id}/publish"]
        E4["/api/events/{id}/cancel"]
        E5["/api/events/{id}/crew"]
    end
    
    subgraph Bookings ["API –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π"]
        B1["/api/bookings"]
        B2["/api/bookings/{id}"]
        B3["/api/bookings/{id}/cancel"]
    end
    
    subgraph Payments ["API –ø–ª–∞—Ç–µ–∂–µ–π"]
        P1["/api/payments/initiate"]
        P2["/api/payments/confirm"]
        P3["/api/payments/{id}/refund"]
        P4["/api/payments/{id}"]
    end
    
    subgraph Favorites ["API –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ"]
        F1["/api/favorites"]
        F2["/api/favorites/{id}"]
    end
    
    subgraph Reviews ["API –æ—Ç–∑—ã–≤–æ–≤"]
        R1["/api/reviews"]
        R2["/api/reviews/{id}"]
        R3["/api/reviews/{id}/replies"]
        R4["/api/reviews/{id}/helpful"]
        R5["/api/reviews/{id}/moderate"]
    end
    
    subgraph Categories ["API –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤"]
        C1["/api/categories"]
        C2["/api/promo-codes"]
        C3["/api/promo-codes/validate"]
    end
    
    %% –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–æ–ª—è–º
    subgraph Roles ["–†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø"]
        PUBLIC["–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø"]
        USER["–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"]
        ORGANIZER["–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä"]
        ADMIN["–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"]
    end
    
    %% –°–≤—è–∑–∏ –º–µ–∂–¥—É API –∏ —Ä–æ–ª—è–º–∏ (–æ—Å–Ω–æ–≤–Ω—ã–µ)
    PUBLIC --> E1
    PUBLIC --> E2
    PUBLIC --> R1
    PUBLIC --> R2
    PUBLIC --> C1
    
    USER --> B1
    USER --> B2
    USER --> B3
    USER --> P1
    USER --> F1
    USER --> F2
    USER --> R3
    USER --> R4
    USER --> C3
    
    ORGANIZER --> E2
    ORGANIZER --> E3
    ORGANIZER --> E4
    ORGANIZER --> E5
    ORGANIZER --> B1
    ORGANIZER --> P3
    ORGANIZER --> R3
    ORGANIZER --> C2
    
    ADMIN --> E1
    ADMIN --> E2
    ADMIN --> E3
    ADMIN --> E4
    ADMIN --> E5
    ADMIN --> R5
    ADMIN --> B1
    ADMIN --> B2
    ADMIN --> B3
    ADMIN --> P3
    
    %% –°—Ç–∏–ª–∏
    classDef events fill:#e6f7ff,stroke:#1890ff;
    classDef bookings fill:#f6ffed,stroke:#52c41a;
    classDef payments fill:#fff2e8,stroke:#fa8c16;
    classDef favorites fill:#fff1f0,stroke:#f5222d;
    classDef reviews fill:#f9f0ff,stroke:#722ed1;
    classDef categories fill:#fcffe6,stroke:#bae637;
    classDef roles fill:#f5f5f5,stroke:#595959;
    
    class E1,E2,E3,E4,E5 events;
    class B1,B2,B3 bookings;
    class P1,P2,P3,P4 payments;
    class F1,F2 favorites;
    class R1,R2,R3,R4,R5 reviews;
    class C1,C2,C3 categories;
    class PUBLIC,USER,ORGANIZER,ADMIN roles;
```

### üì° gRPC API

gRPC —Å–µ—Ä–≤–∏—Å EventService –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ –ø—Ä–æ—Ç–æ-–æ–ø–∏—Å–∞–Ω–∏–∏ –∏ –≤–∫–ª—é—á–∞–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ –∞—Å–ø–µ–∫—Ç–∞–º–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å–æ–±—ã—Ç–∏–π:

```proto
service EventService {
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è–º–∏
    rpc CreateEvent(CreateEventRequest) returns (EventResponse);
    rpc UpdateEvent(UpdateEventRequest) returns (EventResponse);
    rpc GetEvent(GetEventRequest) returns (EventResponse);
    rpc ListEvents(ListEventsRequest) returns (ListEventsResponse);
    rpc PublishEvent(PublishEventRequest) returns (EventResponse);
    rpc CancelEvent(CancelEventRequest) returns (EventResponse);
    rpc AssignCrew(AssignCrewRequest) returns (EventResponse);
    rpc GetEventCrew(GetEventCrewRequest) returns (EventCrewResponse);
    rpc UpdateEventCrew(UpdateEventCrewRequest) returns (EventCrewResponse);
    
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏
    rpc CreateBooking(CreateBookingRequest) returns (BookingResponse);
    rpc GetBooking(GetBookingRequest) returns (BookingResponse);
    rpc ListBookings(ListBookingsRequest) returns (ListBookingsResponse);
    rpc CancelBooking(CancelBookingRequest) returns (BookingResponse);
    
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏
    rpc InitiatePayment(InitiatePaymentRequest) returns (PaymentResponse);
    rpc ConfirmPayment(ConfirmPaymentRequest) returns (PaymentResponse);
    rpc RefundPayment(RefundPaymentRequest) returns (PaymentResponse);
    
    // –†–∞–±–æ—Ç–∞ —Å –∏–∑–±—Ä–∞–Ω–Ω—ã–º
    rpc AddFavorite(AddFavoriteRequest) returns (FavoriteResponse);
    rpc RemoveFavorite(RemoveFavoriteRequest) returns (google.protobuf.Empty);
    rpc ListFavorites(ListFavoritesRequest) returns (ListFavoritesResponse);
    
    // –†–∞–±–æ—Ç–∞ —Å –æ—Ç–∑—ã–≤–∞–º–∏
    rpc CreateReview(CreateReviewRequest) returns (ReviewResponse);
    rpc UpdateReview(UpdateReviewRequest) returns (ReviewResponse);
    rpc ListReviews(ListReviewsRequest) returns (ListReviewsResponse);
    rpc ReplyToReview(ReplyToReviewRequest) returns (ReviewReplyResponse);
    
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–æ–≤—ã–º–∏ –æ–ø—Ü–∏—è–º–∏
    rpc GetPriceOptions(GetPriceOptionsRequest) returns (PriceOptionsResponse);
    rpc CreatePriceOption(CreatePriceOptionRequest) returns (PriceOptionResponse);
    rpc UpdatePriceOption(UpdatePriceOptionRequest) returns (PriceOptionResponse);
    rpc DeletePriceOption(DeletePriceOptionRequest) returns (google.protobuf.Empty);
    
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–ª–µ—Ç–∞–º–∏
    rpc GetTicket(GetTicketRequest) returns (TicketResponse);
    rpc ResendTicket(ResendTicketRequest) returns (ResendTicketResponse);
    
    // –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã
    rpc GetEventStats(GetEventStatsRequest) returns (EventStatsResponse);
    rpc GetBookingStats(GetBookingStatsRequest) returns (BookingStatsResponse);
    rpc GetConversionStats(GetConversionStatsRequest) returns (ConversionStatsResponse);
}
```

### üåê REST API (—á–µ—Ä–µ–∑ API Gateway)

REST API –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏. API Gateway –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º gRPC –º–µ—Ç–æ–¥–∞–º —Å–µ—Ä–≤–∏—Å–∞.

#### –°–æ–±—ã—Ç–∏—è (Events)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª—å |
|-------|------|----------|------|
| GET | `/api/events` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–æ–±—ã—Ç–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π | PUBLIC |
| GET | `/api/events/{id}` | –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–±—ã—Ç–∏–∏ | PUBLIC |
| POST | `/api/events` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è | ORGANIZER, ADMIN |
| PUT | `/api/events/{id}` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ–±—ã—Ç–∏—è | ORGANIZER*, ADMIN |
| POST | `/api/events/{id}/publish` | –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è | ORGANIZER*, ADMIN |
| POST | `/api/events/{id}/cancel` | –û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏—è | ORGANIZER*, ADMIN |
| POST | `/api/events/{id}/crew` | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —ç–∫–∏–ø–∞–∂–∞ | ORGANIZER*, ADMIN |
| GET | `/api/events/{id}/crew` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–º —ç–∫–∏–ø–∞–∂–µ | ORGANIZER*, ADMIN |
| PUT | `/api/events/{id}/crew` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–∞ —ç–∫–∏–ø–∞–∂–∞ | ORGANIZER*, ADMIN |
| GET | `/api/events/{id}/stats` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Å–æ–±—ã—Ç–∏—é | ORGANIZER*, ADMIN |

\* –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏

#### –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (Bookings)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª—å |
|-------|------|----------|------|
| GET | `/api/bookings` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π | USER, ORGANIZER, ADMIN |
| GET | `/api/bookings/{id}` | –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | USER*, ORGANIZER**, ADMIN |
| POST | `/api/bookings` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | USER, ADMIN |
| POST | `/api/bookings/{id}/cancel` | –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | USER*, ORGANIZER**, ADMIN |
| GET | `/api/bookings/{id}/ticket` | –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∏–ª–µ—Ç–∞ –≤ PDF —Ñ–æ—Ä–º–∞—Ç–µ | USER*, ORGANIZER**, ADMIN |
| GET | `/api/bookings/{id}/ticket/download` | –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –±–∏–ª–µ—Ç–∞ | USER*, ORGANIZER**, ADMIN |
| POST | `/api/bookings/{id}/ticket/resend` | –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –±–∏–ª–µ—Ç–∞ –Ω–∞ email | USER*, ORGANIZER**, ADMIN |

\* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è  
\** –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–≤–æ–∏—Ö —Å–æ–±—ã—Ç–∏–π

#### –ü–ª–∞—Ç–µ–∂–∏ (Payments)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª—å |
|-------|------|----------|------|
| POST | `/api/payments/initiate` | –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–∞ | USER, ADMIN |
| POST | `/api/payments/confirm` | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ | SYSTEM |
| POST | `/api/payments/{id}/refund` | –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ | ORGANIZER*, ADMIN |
| GET | `/api/payments/{id}` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–ª–∞—Ç–µ–∂–µ | USER*, ORGANIZER**, ADMIN |

\* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –ø–ª–∞—Ç–µ–∂–∏  
\** –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç –ø–ª–∞—Ç–µ–∂–∏ –ø–æ —Å–≤–æ–∏–º —Å–æ–±—ã—Ç–∏—è–º

#### –ò–∑–±—Ä–∞–Ω–Ω–æ–µ (Favorites)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª—å |
|-------|------|----------|------|
| GET | `/api/favorites` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ | USER, ADMIN |
| POST | `/api/favorites` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ | USER, ADMIN |
| DELETE | `/api/favorites/{id}` | –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ | USER, ADMIN |

#### –û—Ç–∑—ã–≤—ã (Reviews)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª—å |
|-------|------|----------|------|
| GET | `/api/reviews` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—Ç–∑—ã–≤–æ–≤ | PUBLIC |
| GET | `/api/reviews/{id}` | –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –æ—Ç–∑—ã–≤–∞ | PUBLIC |
| POST | `/api/reviews` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ—Ç–∑—ã–≤–∞ | USER |
| PUT | `/api/reviews/{id}` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ | USER*, ADMIN |
| POST | `/api/reviews/{id}/replies` | –û—Ç–≤–µ—Ç –Ω–∞ –æ—Ç–∑—ã–≤ | ORGANIZER*, ADMIN |
| POST | `/api/reviews/{id}/helpful` | –ü–æ–º–µ—Ç–∏—Ç—å –æ—Ç–∑—ã–≤ –∫–∞–∫ –ø–æ–ª–µ–∑–Ω—ã–π | USER |
| POST | `/api/reviews/{id}/moderate` | –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–∞ | ADMIN |

\* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –æ—Ç–∑—ã–≤—ã  
\* –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Ç–∑—ã–≤—ã –æ —Å–≤–æ–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö

#### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª—å |
|-------|------|----------|------|
| GET | `/api/categories` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π | PUBLIC |
| POST | `/api/promo-codes` | –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞ | ORGANIZER, ADMIN |
| POST | `/api/promo-codes/validate` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞ | USER |

#### –¶–µ–Ω–æ–≤—ã–µ –æ–ø—Ü–∏–∏ (Price Options)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª—å |
|-------|------|----------|------|
| GET | `/api/events/{id}/price-options` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ü–µ–Ω–æ–≤—ã—Ö –æ–ø—Ü–∏–π —Å–æ–±—ã—Ç–∏—è | PUBLIC |
| POST | `/api/events/{id}/price-options` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ü–µ–Ω–æ–≤–æ–π –æ–ø—Ü–∏–∏ | ORGANIZER*, ADMIN |
| PUT | `/api/events/{id}/price-options/{optionId}` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–æ–≤–æ–π –æ–ø—Ü–∏–∏ | ORGANIZER*, ADMIN |
| DELETE | `/api/events/{id}/price-options/{optionId}` | –£–¥–∞–ª–µ–Ω–∏–µ —Ü–µ–Ω–æ–≤–æ–π –æ–ø—Ü–∏–∏ | ORGANIZER*, ADMIN |

\* –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Ü–µ–Ω–∞–º–∏ —Å–≤–æ–∏—Ö —Å–æ–±—ã—Ç–∏–π

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª—å |
|-------|------|----------|------|
| GET | `/api/stats/events` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —Å–æ–±—ã—Ç–∏—è–º | ADMIN |
| GET | `/api/stats/bookings` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º | ADMIN |
| GET | `/api/stats/conversions` | –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | ADMIN, ORGANIZER* |

\* –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ–ª—å–∫–æ –ø–æ —Å–≤–æ–∏–º —Å–æ–±—ã—Ç–∏—è–º

### üìã –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

#### –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è (POST /api/events)
```json
// –ó–∞–ø—Ä–æ—Å
{
  "title": "–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é",
  "description": "–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π –∫—É—Ä—Å –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤",
  "start_date": "2023-11-15T10:00:00Z",
  "end_date": "2023-11-15T15:00:00Z",
  "location": "–ú–æ—Å–∫–≤–∞, —É–ª. –ü—É—à–∫–∏–Ω–∞, 1",
  "capacity": 50,
  "category_id": "9a1b2c3d-4e5f-6a7b-8c9d-0e1f2a3b4c5d",
  "price_options": [
    {
      "name": "–°—Ç–∞–Ω–¥–∞—Ä—Ç",
      "price": 1500,
      "available_quantity": 40
    },
    {
      "name": "VIP",
      "price": 3000,
      "available_quantity": 10
    }
  ]
}

// –û—Ç–≤–µ—Ç (201 Created)
{
  "id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "title": "–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é",
  "status": "DRAFT",
  "organizer_id": "5e6f7a8b-9c0d-1e2f-3a4b-5c6d7e8f9a0b",
  "created_at": "2023-10-05T14:23:11Z"
}
```

#### –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è (POST /api/events/{id}/publish)
```json
// –ó–∞–ø—Ä–æ—Å
{
  "publication_date": "2023-10-06T00:00:00Z"  // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
}

// –û—Ç–≤–µ—Ç (200 OK)
{
  "id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "title": "–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é",
  "status": "PUBLISHED",
  "organizer_id": "5e6f7a8b-9c0d-1e2f-3a4b-5c6d7e8f9a0b",
  "updated_at": "2023-10-05T15:30:45Z",
  "publication_date": "2023-10-06T00:00:00Z"
}
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–æ–±—ã—Ç–∏–π (GET /api/events)
```json
// –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
// GET /api/events?category=workshop&start_date=2023-11-01&location=–ú–æ—Å–∫–≤–∞

// –û—Ç–≤–µ—Ç (200 OK)
{
  "total_count": 24,
  "page": 1,
  "page_size": 10,
  "events": [
    {
      "id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
      "title": "–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é",
      "description": "–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π –∫—É—Ä—Å –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤",
      "start_date": "2023-11-15T10:00:00Z",
      "location": "–ú–æ—Å–∫–≤–∞, —É–ª. –ü—É—à–∫–∏–Ω–∞, 1",
      "min_price": 1500,
      "rating": 4.8,
      "organizer": {
        "id": "5e6f7a8b-9c0d-1e2f-3a4b-5c6d7e8f9a0b",
        "name": "IT Education Center"
      }
    },
    // ... –¥—Ä—É–≥–∏–µ —Å–æ–±—ã—Ç–∏—è
  ]
}
```

#### –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (POST /api/bookings)
```json
// –ó–∞–ø—Ä–æ—Å
{
  "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "price_option_id": "2b3c4d5e-6f7a-8b9c-0d1e-2f3a4b5c6d7e",
  "quantity": 1,
  "promo_code": "WELCOME2023"
}

// –û—Ç–≤–µ—Ç (201 Created)
{
  "id": "3c4d5e6f-7a8b-9c0d-1e2f-3a4b5c6d7e8f",
  "event": {
    "id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
    "title": "–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é"
  },
  "status": "PENDING_PAYMENT",
  "total_amount": 1350,
  "deadline": "2023-10-05T16:23:11Z",
  "booking_code": "BKG12345678"
}
```

#### –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–∞ (POST /api/payments/initiate)
```json
// –ó–∞–ø—Ä–æ—Å
{
  "booking_id": "3c4d5e6f-7a8b-9c0d-1e2f-3a4b5c6d7e8f",
  "payment_method": "CARD",
  "return_url": "https://aquastream.com/payment/success",
  "cancel_url": "https://aquastream.com/payment/cancel"
}

// –û—Ç–≤–µ—Ç (200 OK)
{
  "payment_id": "4d5e6f7a-8b9c-0d1e-2f3a-4b5c6d7e8f9a",
  "redirect_url": "https://payment-provider.com/pay/12345",
  "amount": 1350,
  "currency": "RUB",
  "expires_at": "2023-10-05T16:23:11Z"
}
```

#### –û—Ç–≤–µ—Ç –Ω–∞ –æ—Ç–∑—ã–≤ (POST /api/reviews/{id}/replies)
```json
// –ó–∞–ø—Ä–æ—Å
{
  "content": "–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –æ—Ç–∑—ã–≤! –ú—ã —Ä–∞–¥—ã, —á—Ç–æ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ. –ë—É–¥–µ–º –∂–¥–∞—Ç—å –≤–∞—Å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –Ω–∞—à–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö."
}

// –û—Ç–≤–µ—Ç (201 Created)
{
  "id": "5e6f7a8b-9c0d-1e2f-3a4b-5c6d-7e8f-9a0b",
  "review_id": "4d5e6f7a-8b9c-0d1e-2f3a-4b5c6d7e8f9a",
  "organizer_id": "5e6f7a8b-9c0d-1e2f-3a4b-5c6d7e8f9a0b",
  "content": "–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –æ—Ç–∑—ã–≤! –ú—ã —Ä–∞–¥—ã, —á—Ç–æ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ. –ë—É–¥–µ–º –∂–¥–∞—Ç—å –≤–∞—Å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –Ω–∞—à–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö.",
  "created_at": "2023-10-10T12:34:56Z"
}
```

#### –°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–Ω–æ–≤–æ–π –æ–ø—Ü–∏–∏ (POST /api/events/{id}/price-options)
```json
// –ó–∞–ø—Ä–æ—Å
{
  "name": "–†–∞–Ω–Ω—è—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
  "price": 1200,
  "available_quantity": 20,
  "valid_from": "2023-10-10T00:00:00Z",
  "valid_until": "2023-10-25T23:59:59Z",
  "is_active": true,
  "display_order": 1
}

// –û—Ç–≤–µ—Ç (201 Created)
{
  "id": "6f7a8b9c-0d1e-2f3a-4b5c-6d7e8f9a0b1c",
  "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "name": "–†–∞–Ω–Ω—è—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
  "price": 1200,
  "available_quantity": 20,
  "valid_from": "2023-10-10T00:00:00Z",
  "valid_until": "2023-10-25T23:59:59Z",
  "is_active": true,
  "display_order": 1,
  "created_at": "2023-10-05T16:45:22Z"
}
```

#### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —ç–∫–∏–ø–∞–∂–∞ (POST /api/events/{id}/crew)
```json
// –ó–∞–ø—Ä–æ—Å
{
  "crew_members": [
    {
      "user_id": "7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d",
      "role": "PHOTOGRAPHER"
    },
    {
      "user_id": "8b9c0d1e-2f3a-4b5c-6d7e-8f9a0b1c2d3e",
      "role": "ASSISTANT"
    }
  ],
  "notes": "–§–æ—Ç–æ–≥—Ä–∞—Ñ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–±—ã—Ç—å –∑–∞ 30 –º–∏–Ω—É—Ç –¥–æ –Ω–∞—á–∞–ª–∞"
}

// –û—Ç–≤–µ—Ç (200 OK)
{
  "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "crew_id": "9c0d1e2f-3a4b-5c6d-7e8f-9a0b1c2d3e4f",
  "crew_members": [
    {
      "id": "0d1e2f3a-4b5c-6d7e-8f9a-0b1c2d3e4f5a",
      "user_id": "7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d",
      "name": "–ê–Ω–¥—Ä–µ–π –ü–µ—Ç—Ä–æ–≤",
      "role": "PHOTOGRAPHER",
      "status": "ASSIGNED"
    },
    {
      "id": "1e2f3a4b-5c6d-7e8f-9a0b-1c2d3e4f5a6b",
      "user_id": "8b9c0d1e-2f3a-4b5c-6d7e-8f9a0b1c2d3e",
      "name": "–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞",
      "role": "ASSISTANT",
      "status": "ASSIGNED"
    }
  ],
  "notes": "–§–æ—Ç–æ–≥—Ä–∞—Ñ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–±—ã—Ç—å –∑–∞ 30 –º–∏–Ω—É—Ç –¥–æ –Ω–∞—á–∞–ª–∞",
  "updated_at": "2023-10-06T09:12:34Z"
}
```

#### –ë–∏–ª–µ—Ç (GET /api/bookings/{id}/ticket)
```json
// –û—Ç–≤–µ—Ç
{
  "booking_id": "3c4d5e6f-7a8b-9c0d-1e2f-3a4b5c6d7e8f",
  "event": {
    "id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
    "title": "–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é",
    "start_date": "2023-11-15T10:00:00Z",
    "location": "–ú–æ—Å–∫–≤–∞, —É–ª. –ü—É—à–∫–∏–Ω–∞, 1"
  },
  "user": {
    "id": "7e8f9a0b-1c2d-3e4f-5a6b-7c8d9e0f1a2b",
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
  },
  "ticket_code": "EVT12345678",
  "qr_code_url": "https://api.aquastream.com/tickets/qr/EVT12345678",
  "price_option": "–°—Ç–∞–Ω–¥–∞—Ä—Ç",
  "issue_date": "2023-10-05T14:30:45Z",
  "download_url": "https://api.aquastream.com/bookings/3c4d5e6f-7a8b-9c0d-1e2f-3a4b5c6d7e8f/ticket/download"
}
```

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è (GET /api/events/{id}/stats)
```json
// –û—Ç–≤–µ—Ç
{
  "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "title": "–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é",
  "views_count": 1250,
  "favorites_count": 45,
  "bookings": {
    "total": 38,
    "confirmed": 32,
    "pending": 3,
    "canceled": 3
  },
  "revenue": {
    "total": 56000,
    "by_price_option": [
      {"name": "–°—Ç–∞–Ω–¥–∞—Ä—Ç", "count": 25, "revenue": 37500},
      {"name": "VIP", "count": 7, "revenue": 18500}
    ]
  },
  "conversion_rate": 3.04,
  "reviews": {
    "count": 12,
    "average_rating": 4.6
  }
}
```

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- API Gateway –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç JWT-—Ç–æ–∫–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –¢–æ–∫–µ–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –µ–≥–æ —Ä–æ–ª—è—Ö
- Gateway –≤—ã–ø–æ–ª–Ω—è–µ—Ç –±–∞–∑–æ–≤—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤ –ø–µ—Ä–µ–¥ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π –∑–∞–ø—Ä–æ—Å–∞
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–º

### üìä –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–°–µ—Ä–≤–∏—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP-–∫–æ–¥—ã –æ—à–∏–±–æ–∫:
- 400 Bad Request - –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞
- 401 Unauthorized - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
- 403 Forbidden - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏
- 404 Not Found - –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- 409 Conflict - –∫–æ–Ω—Ñ–ª–∏–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç)
- 422 Unprocessable Entity - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- 429 Too Many Requests - –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
- 500 Internal Server Error - –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–∏—Å–∞

#### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ

–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ JSON:

```json
{
  "status": "error",
  "code": "EVENT_NOT_FOUND",
  "message": "–°–æ–±—ã—Ç–∏–µ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –Ω–µ –Ω–∞–π–¥–µ–Ω–æ",
  "details": {
    "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d"
  },
  "timestamp": "2023-10-05T14:30:45Z",
  "trace_id": "abcdef123456"
}
```

#### –ü—Ä–∏–º–µ—Ä—ã —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞

**400 Bad Request - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**
```json
{
  "status": "error",
  "code": "VALIDATION_ERROR",
  "message": "–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø—Ä–æ—à–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é",
  "details": {
    "validation_errors": [
      {
        "field": "start_date",
        "message": "–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ —Å–æ–±—ã—Ç–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º"
      },
      {
        "field": "capacity",
        "message": "–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º"
      }
    ]
  },
  "timestamp": "2023-10-05T14:30:45Z",
  "trace_id": "abcdef123456"
}
```

**401 Unauthorized - –ü—Ä–æ–±–ª–µ–º–∞ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π**
```json
{
  "status": "error",
  "code": "AUTHENTICATION_REQUIRED",
  "message": "–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è",
  "details": {},
  "timestamp": "2023-10-05T14:30:45Z",
  "trace_id": "abcdef123456"
}
```

**403 Forbidden - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤**
```json
{
  "status": "error",
  "code": "PERMISSION_DENIED",
  "message": "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏",
  "details": {
    "required_role": "ORGANIZER",
    "resource_type": "event",
    "resource_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
    "action": "update"
  },
  "timestamp": "2023-10-05T14:30:45Z",
  "trace_id": "abcdef123456"
}
```

**404 Not Found - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω**
```json
{
  "status": "error",
  "code": "RESOURCE_NOT_FOUND",
  "message": "–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω",
  "details": {
    "resource_type": "event",
    "resource_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d"
  },
  "timestamp": "2023-10-05T14:30:45Z",
  "trace_id": "abcdef123456"
}
```

**409 Conflict - –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏**
```json
{
  "status": "error",
  "code": "NO_AVAILABLE_SEATS",
  "message": "–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ü–µ–Ω–æ–≤–æ–π –æ–ø—Ü–∏–∏",
  "details": {
    "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
    "price_option_id": "2b3c4d5e-6f7a-8b9c-0d1e-2f3a4b5c6d7e",
    "requested_quantity": 2,
    "available_quantity": 1
  },
  "timestamp": "2023-10-05T14:30:45Z",
  "trace_id": "abcdef123456"
}
```

**422 Unprocessable Entity - –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å**
```json
{
  "status": "error",
  "code": "INVALID_BOOKING_STATE",
  "message": "–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ–∫—É—â–µ–º —Å—Ç–∞—Ç—É—Å–µ",
  "details": {
    "booking_id": "3c4d5e6f-7a8b-9c0d-1e2f-3a4b5c6d7e8f",
    "current_status": "EXPIRED",
    "allowed_statuses": ["PENDING_PAYMENT", "CONFIRMED"]
  },
  "timestamp": "2023-10-05T14:30:45Z",
  "trace_id": "abcdef123456"
}
```

**429 Too Many Requests - –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤**
```json
{
  "status": "error",
  "code": "RATE_LIMIT_EXCEEDED",
  "message": "–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É –ø–æ–∑–∂–µ",
  "details": {
    "rate_limit": "100 requests per minute",
    "retry_after": 30
  },
  "timestamp": "2023-10-05T14:30:45Z",
  "trace_id": "abcdef123456"
}
```

**500 Internal Server Error - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞**
```json
{
  "status": "error",
  "code": "INTERNAL_SERVER_ERROR",
  "message": "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞",
  "details": {},
  "timestamp": "2023-10-05T14:30:45Z",
  "trace_id": "abcdef123456"
}
```

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫

1. **–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**:
   - –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ HTTP-–∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–µ `code` –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫
   - –û—Ç–æ–±—Ä–∞–∂–∞–π—Ç–µ –ø–æ–ª–µ `message` –¥–ª—è –∫–æ–Ω–µ—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–µ `details` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–µ

2. **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**:
   - –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ 5XX –∏–ª–∏ —Ç–∞–π–º-–∞—É—Ç–æ–≤, –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (GET, PUT, DELETE)
   - –î–ª—è –Ω–µ–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (POST) –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Idempotency-Key`

3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**:
   - –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (400) —á–µ—Ç–∫–æ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ, –∫–∞–∫–∏–µ –ø–æ–ª—è –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
   - –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (401, 403) –ø—Ä–µ–¥–ª–∞–≥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–æ—Å—Ç—É–ø
   - –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ (409) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–π—Å—Ç–≤–∏–π

---

## üíª –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### üèóÔ∏è –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Kubernetes:** –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä —Å –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **Docker:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **CI/CD:** GitLab CI —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –¥–µ–ø–ª–æ—è–º–∏ —á–µ—Ä–µ–∑ Helm
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** Prometheus, Grafana, Jaeger –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
- **–ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏, –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ —Å–æ–±—ã—Ç–∏–π –∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ –æ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π

### üóÑÔ∏è –•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL:** –û—Å–Ω–æ–≤–Ω–∞—è –ë–î —Å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π –¥–ª—è –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- **Redis:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
- **Kafka:** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ–±–º–µ–Ω —Å–æ–±—ã—Ç–∏—è–º–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **Elasticsearch:** –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ:** TLS –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **JWT:** –ö–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏–µ —Ç–æ–∫–µ–Ω—ã —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–∑—ã–≤–∞
- **Rate Limiting:** –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS –∏ –±—Ä—É—Ç—Ñ–æ—Ä—Å-–∞—Ç–∞–∫
- **–ê—É–¥–∏—Ç:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞

### üéØ –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Liquibase/Flyway –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π:** –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å API –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:** Blue-Green deployment –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç–æ–µ–≤
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏–π
- **–û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π:** –ü—Ä–æ—Ü–µ–¥—É—Ä—ã –æ—Ç–∫–∞—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–π –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –Ω—É–ª–µ–≤—ã–º –ø—Ä–æ—Å—Ç–æ–µ–º:** –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–æ–≤ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –º–∏–≥—Ä–∞—Ü–∏–π**:
  - **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –≤–∏–¥–µ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –±–ª–æ–∫–æ–≤
  - **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏**: –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫–æ–¥–∞ –∏ —Å—Ö–µ–º—ã –ë–î –Ω–∞ —ç—Ç–∞–ø–µ CI/CD
  - **–ü–æ—Ä—è–¥–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**: DB ‚Üí Backend ‚Üí Frontend –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
  - **–°—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–∫–∞—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–π**: –î–ª—è –∫–∞–∂–¥–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω —Å–∫—Ä–∏–ø—Ç –æ—Ç–∫–∞—Ç–∞
  - **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏—è–º–∏**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ 20% –ø–æ–¥–æ–≤ –∑–∞ —Ä–∞–∑ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–¢–∏–ø—ã –º–∏–≥—Ä–∞—Ü–∏–π –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞**:
  - **–ê–¥–¥–∏—Ç–∏–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π, —Ç–∞–±–ª–∏—Ü): –ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è
  - **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ —Å –ø–æ–º–æ—â—å—é –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –∏ –∏–Ω–¥–µ–∫—Å–æ–≤
  - **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
  - **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –æ–∫–Ω–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º
- **–ü—Ä–∏–º–µ—Ä—ã —Å–ª–æ–∂–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π**:
  - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–ª—è: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—è ‚Üí –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–¥–∞ ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –ø–æ–ª—è
  - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã: —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü ‚Üí –º–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π —Ç–∞–±–ª–∏—Ü—ã
  - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü: —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã ‚Üí –º–∏–≥—Ä–∞—Ü–∏—è –∏–∑ –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### üéØ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
  - –ú–∏–Ω–∏–º—É–º 1000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É –Ω–∞ —á—Ç–µ–Ω–∏–µ
  - –ú–∏–Ω–∏–º—É–º 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É –Ω–∞ –∑–∞–ø–∏—Å—å
  - –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ < 200 –º—Å –¥–ª—è 95% –∑–∞–ø—Ä–æ—Å–æ–≤
  - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å 99.9% (–Ω–µ –±–æ–ª–µ–µ 43 –º–∏–Ω—É—Ç –ø—Ä–æ—Å—Ç–æ—è –≤ –º–µ—Å—è—Ü)

### üîÑ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ —Å–µ—Ä–≤–∏—Å–∞
- **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ:** –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- **–ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ:** CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

## üîÑ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–∫–∞–∑–æ–≤ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### üìä –°—Ö–µ–º–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–∫–∞–∑–æ–≤

```mermaid
flowchart TD
    %% –ù–∞—á–∞–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –æ—Ç–∫–∞–∑–æ–≤
    DB_Failure["‚ùå –û—Ç–∫–∞–∑ –ë–î"]
    Kafka_Failure["‚ùå –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Kafka"]
    Auth_Failure["‚ùå –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Auth"]
    Payment_Failure["‚ùå –°–±–æ–π –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã"]
    Network_Failure["‚ùå –°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã"]
    
    %% –ü–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –æ–±—Ä–∞–±–æ—Ç–∫–∏
    subgraph "–ü–µ—Ä–≤–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞"
        Circuit_Breaker["üõ°Ô∏è Circuit Breaker"]
        Local_Queue["üìã –õ–æ–∫–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å"]
        Cached_Auth["üîë –ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã"]
        Payment_Retry["üîÑ Retry —Å Exponential Backoff"]
        Request_Timeout["‚è±Ô∏è –¢–∞–π–º–∞—É—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤"]
    end
    
    %% –í—Ç–æ—Ä–æ–π —É—Ä–æ–≤–µ–Ω—å
    subgraph "–î–µ–≥—Ä–∞–¥–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏"
        Read_Only["üìñ –†–µ–∂–∏–º —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è"]
        Limited_Features["‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å"]
        Async_Processing["‚è≥ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞"]
        Manual_Intervention["üë®‚Äçüíª –†—É—á–Ω–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ"]
    end
    
    %% –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
    subgraph "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ"
        Data_Sync["üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö"]
        Message_Replay["üì® –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π"]
        State_Recovery["üéØ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è"]
        Health_Check["‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã"]
    end
    
    %% –°–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
    DB_Failure --> Circuit_Breaker
    Kafka_Failure --> Local_Queue
    Auth_Failure --> Cached_Auth
    Payment_Failure --> Payment_Retry
    Network_Failure --> Request_Timeout
    
    Circuit_Breaker --> Read_Only
    Local_Queue --> Async_Processing
    Cached_Auth --> Limited_Features
    Payment_Retry --> Manual_Intervention
    Request_Timeout --> Limited_Features
    
    Read_Only --> Data_Sync
    Async_Processing --> Message_Replay
    Limited_Features --> State_Recovery
    Manual_Intervention --> Health_Check
    
    Data_Sync --> Health_Check
    Message_Replay --> Health_Check
    State_Recovery --> Health_Check
    
    %% –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
    Health_Check --> Normal["‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ<br>—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"]
    Health_Check --> Degraded["‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ–µ<br>–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ"]
    
    %% –°—Ç–∏–ª–∏
    classDef failure fill:#fff1f0,stroke:#f5222d,stroke-width:2px;
    classDef primary fill:#e6f7ff,stroke:#1890ff,stroke-width:2px;
    classDef secondary fill:#f6ffed,stroke:#52c41a,stroke-width:2px;
    classDef recovery fill:#f9f0ff,stroke:#722ed1,stroke-width:2px;
    classDef result fill:#fcffe6,stroke:#fadb14,stroke-width:2px;
    
    class DB_Failure,Kafka_Failure,Auth_Failure,Payment_Failure,Network_Failure failure;
    class Circuit_Breaker,Local_Queue,Cached_Auth,Payment_Retry,Request_Timeout primary;
    class Read_Only,Limited_Features,Async_Processing,Manual_Intervention secondary;
    class Data_Sync,Message_Replay,State_Recovery,Health_Check recovery;
    class Normal,Degraded result;
```

### üõ°Ô∏è –°—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

#### üìä –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ë–î
- **Connection pooling** —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ timeout –∏ retry
- **Circuit Breaker** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –æ—Ç–∫–∞–∑–æ–≤
- **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Redis –¥–ª—è —á—Ç–µ–Ω–∏—è –≤ –∞–≤–∞—Ä–∏–π–Ω–æ–º —Ä–µ–∂–∏–º–µ
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

#### üì® –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Kafka
- **–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è** —Å–æ–æ–±—â–µ–Ω–∏–π –ª–æ–∫–∞–ª—å–Ω–æ —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- **Exponential backoff** –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∞—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **–õ–æ–∫–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å** –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –¥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
- **–†—É—á–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** –∏–∑ –ª–æ–≥–æ–≤ –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–º –ø—Ä–æ—Å—Ç–æ–µ

#### üë• –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `backend-crew`
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** —Å –æ—á–µ—Ä–µ–¥—å—é –æ–∂–∏–¥–∞–Ω–∏—è
- **–î–µ–≥—Ä–∞–¥–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏** ‚Äî —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —ç–∫–∏–ø–∞–∂–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ—Å–ª–µ N –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫

#### üîî –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `backend-notification`
- **–õ–æ–∫–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å** —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- **Batch-–æ—Ç–ø—Ä–∞–≤–∫–∞** –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–∞
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —Ä—É—á–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

#### üîë –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Keycloak
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** –≤ Redis —Å —Ä–∞–∑—É–º–Ω—ã–º TTL
- **–í—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º read-only** –¥–ª—è –Ω–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π** –¥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### üíæ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

#### üì¶ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã
- **–ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø** –ë–î –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
- **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –±—ç–∫–∞–ø** –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- **–õ–æ–≥–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** –¥–ª—è point-in-time recovery

#### üîÑ –†–µ–ø–ª–∏–∫–∞—Ü–∏—è
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è** –≤ standby –ë–î
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** –≤ —Å–ª—É—á–∞–µ –æ—Ç–∫–∞–∑–∞ primary
- **–ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–±–æ–µ–≤

#### üìí –ñ—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Audit log** –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é replay –æ–ø–µ—Ä–∞—Ü–∏–π
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- **–î–≤–æ–π–Ω–∞—è –∑–∞–ø–∏—Å—å** –æ—Å–æ–±–æ –≤–∞–∂–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### üöë –ü–ª–∞–Ω –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ—è

#### ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- **Health check** –∏ self-healing –≤ Kubernetes
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π restart** –ø–æ–¥–æ–≤ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏** –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞

#### üë®‚Äçüíª –ü–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–û–ø–æ–≤–µ—â–µ–Ω–∏–µ DevOps-–∫–æ–º–∞–Ω–¥—ã** –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- **–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–µ–∫-–ª–∏—Å—Ç—ã** –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä

#### üîß –†—É—á–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **–ü—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è** –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
- **–°–∫—Ä–∏–ø—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### üìä –û–±—â–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```mermaid
graph TB
    %% –ê–∫—Ç–æ—Ä—ã
    Guest["üë§ –ì–æ—Å—Ç—å"]
    User["üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"]
    Organizer["üëî –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä"]
    Admin["üõ°Ô∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"]
    
    %% Use Cases –¥–ª—è –ì–æ—Å—Ç—è
    UC1["–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ —Å–æ–±—ã—Ç–∏–π"]
    UC2["–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π"]
    UC3["–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–±—ã—Ç–∏–∏"]
    UC4["–ß—Ç–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤"]
    
    %% Use Cases –¥–ª—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    UC5["–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–µ—Ç–æ–≤"]
    UC6["–û–ø–ª–∞—Ç–∞ –±–∏–ª–µ—Ç–æ–≤"]
    UC7["–û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"]
    UC8["–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"]
    UC9["–û—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤"]
    
    %% Use Cases –¥–ª—è –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
    UC10["–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π"]
    UC11["–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π"]
    UC12["–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π"]
    UC13["–û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏–π"]
    UC14["–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏"]
    UC15["–û—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Ç–∑—ã–≤—ã"]
    UC16["–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —ç–∫–∏–ø–∞–∂–∞"]
    
    %% Use Cases –¥–ª—è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    UC17["–ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤"]
    UC18["–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"]
    UC19["–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏"]
    UC20["–ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏"]
    
    %% –°–≤—è–∑–∏ –ì–æ—Å—Ç—è
    Guest --> UC1
    Guest --> UC2
    Guest --> UC3
    Guest --> UC4
    
    %% –°–≤—è–∑–∏ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤–∫–ª—é—á–∞—è –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ì–æ—Å—Ç—è)
    User --> UC1
    User --> UC2
    User --> UC3
    User --> UC4
    User --> UC5
    User --> UC6
    User --> UC7
    User --> UC8
    User --> UC9
    
    %% –°–≤—è–∑–∏ –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
    Organizer --> UC10
    Organizer --> UC11
    Organizer --> UC12
    Organizer --> UC13
    Organizer --> UC14
    Organizer --> UC15
    Organizer --> UC16
    Organizer --> UC20
    
    %% –°–≤—è–∑–∏ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    Admin --> UC1
    Admin --> UC2
    Admin --> UC3
    Admin --> UC5
    Admin --> UC7
    Admin --> UC10
    Admin --> UC11
    Admin --> UC12
    Admin --> UC13
    Admin --> UC17
    Admin --> UC18
    Admin --> UC19
    Admin --> UC20
    
    %% –°—Ç–∏–ª–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    classDef actor fill:#f9f9f9,stroke:#333,stroke-width:2px;
    classDef usecase fill:#e6f7ff,stroke:#1890ff,stroke-width:1px;
    
    class Guest,User,Organizer,Admin actor;
    class UC1,UC2,UC3,UC4,UC5,UC6,UC7,UC8,UC9,UC10,UC11,UC12,UC13,UC14,UC15,UC16,UC17,UC18,UC19,UC20 usecase;
```

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```mermaid
graph TB
    %% –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    API["API Gateway"]
    EventService["–°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è<br/>—Å–æ–±—ã—Ç–∏—è–º–∏"]
    BookingService["–°–µ—Ä–≤–∏—Å<br/>–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"]
    ReviewService["–°–µ—Ä–≤–∏—Å<br/>–æ—Ç–∑—ã–≤–æ–≤"]
    PaymentService["–°–µ—Ä–≤–∏—Å<br/>–ø–ª–∞—Ç–µ–∂–µ–π"]
    NotificationClient["–ö–ª–∏–µ–Ω—Ç<br/>—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"]
    CrewClient["–ö–ª–∏–µ–Ω—Ç<br/>—ç–∫–∏–ø–∞–∂–∞"]
    
    %% –•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö
    PostgreSQL[(PostgreSQL)]
    Redis[(Redis Cache)]
    Kafka[(Kafka)]
    
    %% –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
    AuthService["Auth Service"]
    NotificationService["Notification Service"]
    CrewService["Crew Service"]
    PaymentGateway["Payment Gateway"]
    
    %% –°–≤—è–∑–∏ –º–µ–∂–¥—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
    API --> EventService
    API --> BookingService
    API --> ReviewService
    API --> PaymentService
    
    EventService --> BookingService
    EventService --> ReviewService
    BookingService --> PaymentService
    
    %% –°–≤—è–∑–∏ —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
    EventService --> PostgreSQL
    BookingService --> PostgreSQL
    ReviewService --> PostgreSQL
    PaymentService --> PostgreSQL
    
    EventService --> Redis
    BookingService --> Redis
    
    EventService --> Kafka
    BookingService --> Kafka
    ReviewService --> Kafka
    PaymentService --> Kafka
    
    %% –°–≤—è–∑–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç—ã
    EventService --> AuthService
    BookingService --> AuthService
    ReviewService --> AuthService
    PaymentService --> AuthService
    
    NotificationClient --> Kafka
    NotificationClient --> NotificationService
    
    CrewClient --> CrewService
    EventService --> CrewClient
    
    PaymentService --> PaymentGateway
    
    %% –°—Ç–∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    classDef gateway fill:#f5f5f5,stroke:#d9d9d9,stroke-width:2px;
    classDef service fill:#e6f7ff,stroke:#1890ff,stroke-width:2px;
    classDef client fill:#f6ffed,stroke:#52c41a,stroke-width:2px;
    classDef storage fill:#fff2e8,stroke:#fa8c16,stroke-width:2px;
    classDef external fill:#f9f0ff,stroke:#722ed1,stroke-width:2px;
    
    class API gateway;
    class EventService,BookingService,ReviewService,PaymentService service;
    class NotificationClient,CrewClient client;
    class PostgreSQL,Redis,Kafka storage;
    class AuthService,NotificationService,CrewService,PaymentGateway external;
```

## üèóÔ∏è –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

```mermaid
graph TB
    %% –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
    subgraph "Kubernetes Cluster"
        subgraph "Frontend Namespace"
            UI["Frontend Web App<br/>(Nginx/React)"]
            Mobile["Mobile API Gateway"]
        end
        
        subgraph "Core Services Namespace"
            Gateway["API Gateway<br/>(Kong/Nginx)"]
            EventPods["Event Service Pods<br/>(Autoscaled)"]
            BookingPods["Booking Service Pods<br/>(Autoscaled)"]
            ReviewPods["Review Service Pods"]
            PaymentPods["Payment Service Pods"]
        end
        
        subgraph "Data Layer Namespace"
            PostgresMaster[(PostgreSQL Master)]
            PostgresReplica[(PostgreSQL Replica)]
            RedisCluster[(Redis Cluster)]
        end
        
        subgraph "Messaging Namespace"
            KafkaCluster["Kafka Cluster<br/>(3+ brokers)"]
            ZK["ZooKeeper<br/>(3 nodes)"]
        end
        
        subgraph "Monitoring Namespace"
            Prometheus["Prometheus"]
            Grafana["Grafana Dashboards"]
            Jaeger["Jaeger Tracing"]
            ELK["Elasticsearch<br/>Logstash<br/>Kibana"]
        end
    end
    
    %% –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
    ExternalAuth["Keycloak<br/>Auth Server"]
    NotificationSvc["Notification Service"]
    PaymentGateway["Payment Gateway<br/>(3rd Party)"]
    CDN["CDN<br/>(Static Assets)"]
    
    %% –°–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
    UI --> Gateway
    Mobile --> Gateway
    UI --> CDN
    
    Gateway --> EventPods
    Gateway --> BookingPods
    Gateway --> ReviewPods
    Gateway --> PaymentPods
    
    EventPods --> PostgresMaster
    BookingPods --> PostgresMaster
    ReviewPods --> PostgresMaster
    PaymentPods --> PostgresMaster
    
    PostgresMaster --> PostgresReplica
    
    EventPods --> RedisCluster
    BookingPods --> RedisCluster
    
    EventPods --> KafkaCluster
    BookingPods --> KafkaCluster
    ReviewPods --> KafkaCluster
    PaymentPods --> KafkaCluster
    
    KafkaCluster <--> ZK
    
    EventPods --> ExternalAuth
    BookingPods --> ExternalAuth
    ReviewPods --> ExternalAuth
    PaymentPods --> ExternalAuth
    
    KafkaCluster --> NotificationSvc
    PaymentPods --> PaymentGateway
    
    EventPods --> Prometheus
    BookingPods --> Prometheus
    ReviewPods --> Prometheus
    PaymentPods --> Prometheus
    PostgresMaster --> Prometheus
    KafkaCluster --> Prometheus
    
    Prometheus --> Grafana
    
    EventPods --> Jaeger
    BookingPods --> Jaeger
    ReviewPods --> Jaeger
    PaymentPods --> Jaeger
    Gateway --> Jaeger
    
    EventPods --> ELK
    BookingPods --> ELK
    ReviewPods --> ELK
    PaymentPods --> ELK
    
    %% –°—Ç–∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    classDef ui fill:#e6f7ff,stroke:#1890ff,stroke-width:2px;
    classDef gateway fill:#f9f0ff,stroke:#722ed1,stroke-width:2px;
    classDef service fill:#f6ffed,stroke:#52c41a,stroke-width:2px;
    classDef db fill:#fff2e8,stroke:#fa8c16,stroke-width:2px;
    classDef messaging fill:#fff1f0,stroke:#f5222d,stroke-width:2px;
    classDef monitoring fill:#fcffe6,stroke:#bae637,stroke-width:2px;
    classDef external fill:#f5f5f5,stroke:#595959,stroke-width:2px;
    
    class UI,Mobile ui;
    class Gateway gateway;
    class EventPods,BookingPods,ReviewPods,PaymentPods service;
    class PostgresMaster,PostgresReplica,RedisCluster db;
    class KafkaCluster,ZK messaging;
    class Prometheus,Grafana,Jaeger,ELK monitoring;
    class ExternalAuth,NotificationSvc,PaymentGateway,CDN external;
```

---

## üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

> **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞:** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–º `backend-event`, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∑–∞–ø—É—Å–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–µ–±—É—é—Ç—Å—è:

- **JDK:** 21 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Eclipse Temurin / Oracle JDK 21)
- **Spring Boot:** 3.2+
- **Java:** 21 (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º preview-—Ñ–∏—á)
- **Gradle:** 8.5+
- **IDE:** IntelliJ IDEA (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Ultimate, –Ω–æ Community Edition —Ç–∞–∫–∂–µ –ø–æ–¥–æ–π–¥–µ—Ç) –∏–ª–∏ Eclipse
- **Docker –∏ Docker Compose:** –ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- **Git:** 2.40+
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
  - Postman –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
  - DBeaver –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
  - grpcurl –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è gRPC-—Å–µ—Ä–≤–∏—Å–æ–≤
  - Kafkacat/kcat –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π Kafka

### üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:

```
backend-event/                         # –ö–æ—Ä–Ω–µ–≤–æ–π –ø—Ä–æ–µ–∫—Ç
‚îú‚îÄ‚îÄ gradle/                            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Gradle 
‚îú‚îÄ‚îÄ backend-event-api/                 # –ú–æ–¥—É–ª—å API –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ org/aquastream/event/api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ dto/           # DTO –æ–±—ä–µ–∫—Ç—ã –¥–ª—è API
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ request/       # –û–±—ä–µ–∫—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ response/      # –û–±—ä–µ–∫—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ proto/                 # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è gRPC —Å–µ—Ä–≤–∏—Å–æ–≤ (.proto)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îÇ   ‚îî‚îÄ‚îÄ build.gradle.kts
‚îÇ
‚îú‚îÄ‚îÄ backend-event-db/                  # –ú–æ–¥—É–ª—å –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ org/aquastream/event/db/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ entity/        # –°—É—â–Ω–æ—Å—Ç–∏ JPA/R2DBC
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ repository/    # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ config/        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ db/changelog/      # –ú–∏–≥—Ä–∞—Ü–∏–∏ Liquibase
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îÇ   ‚îî‚îÄ‚îÄ build.gradle.kts
‚îÇ
‚îú‚îÄ‚îÄ backend-event-service/             # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ org/aquastream/event/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ config/        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ controller/    # REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ grpc/          # gRPC –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ domain/        # –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ service/       # –°–µ—Ä–≤–∏—Å–Ω—ã–µ —Å–ª–æ–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ command/   # –ö–æ–º–∞–Ω–¥—ã (CQRS)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ query/     # –ó–∞–ø—Ä–æ—Å—ã (CQRS)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ mapper/        # –ú–∞–ø–ø–µ—Ä—ã (Mapstruct)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ messaging/     # –û–±—Ä–∞–±–æ—Ç–∫–∞ Kafka
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ client/        # –ö–ª–∏–µ–Ω—Ç—ã –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ security/      # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ exception/     # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ util/          # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ application.yml    # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ application-dev.yml # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ java/                  # –¢–µ—Å—Ç—ã
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ resources/             # –¢–µ—Å—Ç–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ build.gradle.kts
‚îÇ
‚îú‚îÄ‚îÄ docker/                            # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                     # –û—Å–Ω–æ–≤–Ω–æ–π Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.yml             # –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ .github/                           # GitHub Actions –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏  
‚îÇ   ‚îî‚îÄ‚îÄ workflows/                     # CI/CD workflows
‚îÇ       ‚îú‚îÄ‚îÄ build.yml                  # Workflow —Å–±–æ—Ä–∫–∏ –∏ —Ç–µ—Å—Ç–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ deploy.yml                 # Workflow —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ build.gradle.kts                   # –ö–æ—Ä–Ω–µ–≤–æ–π —Ñ–∞–π–ª —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ settings.gradle.kts                # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Gradle —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º —Å—É–±–º–æ–¥—É–ª–µ–π
‚îî‚îÄ‚îÄ README.md                          # –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```

### üîÑ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone git@github.com:aquastream/backend-event.git
cd backend-event

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
./gradlew build -x test

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ—à–∏–±–æ–∫ –≤ –∫–æ–¥–µ
./gradlew check

# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤
./gradlew test
```

### üê≥ –ó–∞–ø—É—Å–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è `docker-compose.yml`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–Ω–∏–º–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Postgres, Redis, Kafka, Zookeeper)
docker-compose -f docker/docker-compose.yml up -d postgres redis kafka zookeeper

# –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞, –≤–∫–ª—é—á–∞—è —Å–∞–º —Å–µ—Ä–≤–∏—Å
docker-compose -f docker/docker-compose.yml up -d
```

#### docker-compose.yml –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```yaml
version: '3.8'

services:
  postgres:
    image: postgres:16-alpine
    ports:
      - "5432:5432"
    environment:
      POSTGRES_USER: event_service
      POSTGRES_PASSWORD: <EVENT_DB_PASSWORD>
      POSTGRES_DB: event_db
    volumes:
      - postgres-data:/var/lib/postgresql/data
    healthcheck:
      test: [ "CMD-SHELL", "pg_isready -U event_service -d event_db" ]
      interval: 10s
      timeout: 5s
      retries: 5

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis-data:/data
    healthcheck:
      test: [ "CMD", "redis-cli", "ping" ]
      interval: 5s
      timeout: 2s
      retries: 3

  zookeeper:
    image: confluentinc/cp-zookeeper:7.5.0
    ports:
      - "2181:2181"
    environment:
      ZOOKEEPER_CLIENT_PORT: 2181
      ZOOKEEPER_TICK_TIME: 2000
    healthcheck:
      test: [ "CMD-SHELL", "echo ruok | nc localhost 2181 | grep imok" ]
      interval: 10s
      timeout: 5s
      retries: 5

  kafka:
    image: confluentinc/cp-kafka:7.5.0
    ports:
      - "9092:9092"
    environment:
      KAFKA_BROKER_ID: 1
      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181
      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092
      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT
      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT
      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1
      KAFKA_AUTO_CREATE_TOPICS_ENABLE: "true"
    depends_on:
      - zookeeper
    healthcheck:
      test: [ "CMD-SHELL", "kafka-topics --bootstrap-server localhost:9092 --list" ]
      interval: 10s
      timeout: 5s
      retries: 3

  # –≠–º—É–ª—è—Ç–æ—Ä –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Wiremock
  wiremock:
    image: wiremock/wiremock:3.2.0
    ports:
      - "8888:8080"
    volumes:
      - ./wiremock:/home/wiremock
    command: --global-response-templating --verbose

  # –°–∞–º —Å–µ—Ä–≤–∏—Å backend-event
  backend-event:
    build:
      context: ../../..
      dockerfile: docker/Dockerfile
    ports:
      - "8080:8080"
      - "9090:9090" # gRPC –ø–æ—Ä—Ç
    environment:
      SPRING_PROFILES_ACTIVE: dev
      SPRING_DATASOURCE_URL: jdbc:postgresql://postgres:5432/event_db
      SPRING_DATASOURCE_USERNAME: event_service
      SPRING_DATASOURCE_PASSWORD: <EVENT_DB_PASSWORD>
      SPRING_REDIS_HOST: redis
      SPRING_REDIS_PORT: 6379
      SPRING_KAFKA_BOOTSTRAP_SERVERS: kafka:29092
      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ Wiremock
      AUTH_SERVICE_URL: http://wiremock:8080/auth
      NOTIFICATION_SERVICE_URL: http://wiremock:8080/notification
      CREW_SERVICE_URL: http://wiremock:8080/crew
      PAYMENT_SERVICE_URL: http://wiremock:8080/payment
      USER_SERVICE_URL: http://wiremock:8080/user
    depends_on:
      - postgres
      - redis
      - kafka
      - wiremock
    healthcheck:
      test: [ "CMD", "curl", "-f", "http://localhost:8080/actuator/health" ]
      interval: 10s
      timeout: 5s
      retries: 3

volumes:
  postgres-data:
  redis-data:
```

#### Dockerfile –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞:

```dockerfile
FROM gradle:8.5-jdk21 AS build
WORKDIR /app
COPY . .
RUN gradle build -x test --no-daemon

FROM eclipse-temurin:21-jre-alpine
WORKDIR /app
COPY --from=build /app/backend-event-service/build/libs/*.jar app.jar
EXPOSE 8080 9090
ENTRYPOINT ["java", "--enable-preview", "-XX:+UseZGC", "-jar", "app.jar"]
```

### üí° –ó–∞–ø—É—Å–∫ –±–µ–∑ Docker

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –±–µ–∑ Docker –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ PostgreSQL, Redis –∏ Kafka, –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
docker-compose -f docker/docker-compose.yml up -d postgres redis kafka zookeeper

# –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –º–æ–¥—É–ª—è –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
./gradlew :backend-event-service:bootRun --args='--spring.profiles.active=dev'
```

### üß∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IDE

#### IntelliJ IDEA

1. **–ò–º–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ IntelliJ IDEA
   - –í—ã–±–µ—Ä–∏—Ç–µ `File -> Open` –∏ —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ Gradle-–ø—Ä–æ–µ–∫—Ç
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

2. **–ü–ª–∞–≥–∏–Ω—ã**:
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω Protocol Buffers –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ .proto —Ñ–∞–π–ª–æ–≤
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω MapStruct Support –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞–ø–ø–µ—Ä–∞–º–∏
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω SonarLint –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω Docker –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ JDK**:
   - –í `File -> Project Structure -> Project`, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ JDK 21
   - –í `Settings -> Build, Execution, Deployment -> Compiler -> Java Compiler` 
     —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Target bytecode version: 21 –∏ –≤–∫–ª—é—á–∏—Ç–µ –æ–ø—Ü–∏—é "Use '--release' option for cross-compilation"

4. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**:
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ DBeaver (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ PostgreSQL
   - –£–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: `localhost:5432/event_db`, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `event_service`, –ø–∞—Ä–æ–ª—å: `<EVENT_DB_PASSWORD>`

5. **–ó–∞–ø—É—Å–∫ –∏–∑ IDE**:
   - –ù–∞–π–¥–∏—Ç–µ –∫–ª–∞—Å—Å `EventServiceApplication.java` –≤ –º–æ–¥—É–ª–µ backend-event-service
   - –ù–∞–∂–º–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –∏ –≤—ã–±–µ—Ä–∏—Ç–µ `Run EventServiceApplication`
   - –í –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∑–∞–ø—É—Å–∫–∞ –¥–æ–±–∞–≤—å—Ç–µ `-Dspring.profiles.active=dev` –≤ VM options

6. **–û—Ç–ª–∞–¥–∫–∞**:
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞ –≤ –∫–æ–¥–µ
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏ —á–µ—Ä–µ–∑ `Debug EventServiceApplication`

### üß™ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
./gradlew test

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è
./gradlew :backend-event-service:test

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
./gradlew :backend-event-service:test --tests "org.aquastream.event.service.EventServiceTest"

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ç–µ–≥–æ–º
./gradlew test -PincludeTags="integration"
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ gRPC API

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è gRPC API —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç grpcurl:

```bash
# –ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ GetEvent —Å –ø–æ–º–æ—â—å—é grpcurl
grpcurl -plaintext -d '{"event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d"}' localhost:9090 org.aquastream.event.api.EventService/GetEvent
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ REST API —Å Postman

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è REST API —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Postman:

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Postman**:
   - –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é –∏–∑ `docs/postman/backend-event.postman_collection.json`
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥ (dev, staging, prod)
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

2. **–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤**:

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–æ–±—ã—Ç–∏–π
GET http://localhost:8080/api/events?category=workshop&start_date=2023-11-01
Header: Authorization: Bearer {{token}}
Header: Content-Type: application/json

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
POST http://localhost:8080/api/events
Header: Authorization: Bearer {{token}}
Header: Content-Type: application/json
Body: 
{
  "title": "–¢–µ—Å—Ç–æ–≤–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è",
  "start_date": "2023-12-15T10:00:00Z",
  "end_date": "2023-12-15T15:00:00Z",
  "location": "–¢–µ—Å—Ç–æ–≤–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ",
  "capacity": 50,
  "category_id": "9a1b2c3d-4e5f-6a7b-8c9d-0e1f2a3b4c5d",
  "price_options": [
    {
      "name": "–°—Ç–∞–Ω–¥–∞—Ä—Ç",
      "price": 1500,
      "available_quantity": 40
    }
  ]
}
```

### üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–∏—Å–∞ –≤ Docker
docker-compose -f docker/docker-compose.yml logs -f backend-event

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
docker-compose -f docker/docker-compose.yml logs -f postgres kafka
```

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Kafka

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Ç–æ–ø–∏–∫–æ–≤
docker-compose -f docker/docker-compose.yml exec kafka kafka-topics --bootstrap-server localhost:9092 --list

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ç–æ–ø–∏–∫–µ
docker-compose -f docker/docker-compose.yml exec kafka kafka-console-consumer --bootstrap-server localhost:9092 --topic event_updates --from-beginning
```

#### –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ DBeaver

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**:
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ PostgreSQL –≤ DBeaver
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ö–æ—Å—Ç `localhost`, –ø–æ—Ä—Ç `5432`, –±–∞–∑–∞ `event_db`
   - –õ–æ–≥–∏–Ω: `event_service`, –ø–∞—Ä–æ–ª—å: `<EVENT_DB_PASSWORD>`

2. **–ü–æ–ª–µ–∑–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è**:
   - SQL-—Å–∫—Ä–∏–ø—Ç—ã –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ –≤ –ø–∞–ø–∫–µ `scripts`
   - –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ "Execute plan" (Ctrl+Shift+E)
   - –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–¥–µ–ª "Data Generation"

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Actuator —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
curl http://localhost:8080/actuator/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
curl http://localhost:8080/actuator/info

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫
curl http://localhost:8080/actuator/metrics
```

### üö® –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

1. **–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL**:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω: `docker ps | grep postgres`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose -f docker/docker-compose.yml logs postgres`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

2. **Kafka –Ω–µ —Å–æ–∑–¥–∞–µ—Ç —Ç–æ–ø–∏–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É `KAFKA_AUTO_CREATE_TOPICS_ENABLE: "true"`
   - –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–ø–∏–∫–∏ –≤—Ä—É—á–Ω—É—é: `docker-compose exec kafka kafka-topics --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic event_updates`

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º**:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ WireMock –∑–∞–ø—É—â–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω: `curl http://localhost:8888/__admin/mappings`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL-—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

4. **–ü—Ä–æ–±–ª–µ–º—ã —Å gRPC**:
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 9090 –æ—Ç–∫—Ä—ã—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ gRPC –∫–ª–∞—Å—Å—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã: `./gradlew generateProto`

5. **–ü—Ä–æ–±–ª–µ–º—ã —Å Liquibase**:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∂—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π: `select * from databasechangelog;` –≤ PostgreSQL
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –≤ changelog —É–Ω–∏–∫–∞–ª—å–Ω—ã –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã

### üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Spring Boot](https://docs.spring.io/spring-boot/docs/current/reference/html/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ gRPC](https://grpc.io/docs/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Kafka](https://kafka.apache.org/documentation/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Redis](https://redis.io/documentation)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ WireMock](http://wiremock.org/docs/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Liquibase](https://docs.liquibase.com/home.html)
- [Java 21 Features Overview](https://www.oracle.com/java/technologies/javase/21-relnote-issues.html)

---

## üíª –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### üèóÔ∏è –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Kubernetes:** –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä —Å –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **Docker:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **CI/CD:** GitHub Actions —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –¥–µ–ø–ª–æ—è–º–∏ —á–µ—Ä–µ–∑ Helm
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** Prometheus, Grafana, Jaeger –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
- **–ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏, –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ —Å–æ–±—ã—Ç–∏–π –∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ –æ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π

### üóÑÔ∏è –•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL:** –û—Å–Ω–æ–≤–Ω–∞—è –ë–î —Å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π –¥–ª—è –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- **Redis:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
- **Kafka:** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ–±–º–µ–Ω —Å–æ–±—ã—Ç–∏—è–º–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **Elasticsearch:** –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ:** TLS –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **JWT:** –ö–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏–µ —Ç–æ–∫–µ–Ω—ã —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–∑—ã–≤–∞
- **Rate Limiting:** –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS –∏ –±—Ä—É—Ç—Ñ–æ—Ä—Å-–∞—Ç–∞–∫
- **–ê—É–¥–∏—Ç:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞

### üéØ –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Liquibase –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π:** –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å API –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:** Blue-Green deployment –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç–æ–µ–≤
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏–π
- **–û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π:** –ü—Ä–æ—Ü–µ–¥—É—Ä—ã –æ—Ç–∫–∞—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–π –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –Ω—É–ª–µ–≤—ã–º –ø—Ä–æ—Å—Ç–æ–µ–º:** –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–æ–≤ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –º–∏–≥—Ä–∞—Ü–∏–π**:
  - **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –≤–∏–¥–µ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –±–ª–æ–∫–æ–≤
  - **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏**: –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫–æ–¥–∞ –∏ —Å—Ö–µ–º—ã –ë–î –Ω–∞ —ç—Ç–∞–ø–µ CI/CD
  - **–ü–æ—Ä—è–¥–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**: DB ‚Üí Backend ‚Üí Frontend –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
  - **–°—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–∫–∞—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–π**: –î–ª—è –∫–∞–∂–¥–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω —Å–∫—Ä–∏–ø—Ç –æ—Ç–∫–∞—Ç–∞
  - **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏—è–º–∏**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ 20% –ø–æ–¥–æ–≤ –∑–∞ —Ä–∞–∑ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–¢–∏–ø—ã –º–∏–≥—Ä–∞—Ü–∏–π –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞**:
  - **–ê–¥–¥–∏—Ç–∏–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π, —Ç–∞–±–ª–∏—Ü): –ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è
  - **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ —Å –ø–æ–º–æ—â—å—é –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –∏ –∏–Ω–¥–µ–∫—Å–æ–≤
  - **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
  - **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –æ–∫–Ω–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º
- **–ü—Ä–∏–º–µ—Ä—ã —Å–ª–æ–∂–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π**:
  - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–ª—è: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—è ‚Üí –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–¥–∞ ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –ø–æ–ª—è
  - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã: —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü ‚Üí –º–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π —Ç–∞–±–ª–∏—Ü—ã
  - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü: —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã ‚Üí –º–∏–≥—Ä–∞—Ü–∏—è –∏–∑ –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### üéØ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
  - –ú–∏–Ω–∏–º—É–º 1000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É –Ω–∞ —á—Ç–µ–Ω–∏–µ
  - –ú–∏–Ω–∏–º—É–º 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É –Ω–∞ –∑–∞–ø–∏—Å—å
  - –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ < 200 –º—Å –¥–ª—è 95% –∑–∞–ø—Ä–æ—Å–æ–≤
  - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å 99.9% (–Ω–µ –±–æ–ª–µ–µ 43 –º–∏–Ω—É—Ç –ø—Ä–æ—Å—Ç–æ—è –≤ –º–µ—Å—è—Ü)

### üîÑ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ —Å–µ—Ä–≤–∏—Å–∞
- **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ:** –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- **–ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ:** CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

## üîÑ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–∫–∞–∑–æ–≤ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### üìä –°—Ö–µ–º–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–∫–∞–∑–æ–≤

```mermaid
flowchart TD
    %% –ù–∞—á–∞–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –æ—Ç–∫–∞–∑–æ–≤
    DB_Failure["‚ùå –û—Ç–∫–∞–∑ –ë–î"]
    Kafka_Failure["‚ùå –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Kafka"]
    Auth_Failure["‚ùå –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Auth"]
    Payment_Failure["‚ùå –°–±–æ–π –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã"]
    Network_Failure["‚ùå –°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã"]
    
    %% –ü–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –æ–±—Ä–∞–±–æ—Ç–∫–∏
    subgraph "–ü–µ—Ä–≤–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞"
        Circuit_Breaker["üõ°Ô∏è Circuit Breaker"]
        Local_Queue["üìã –õ–æ–∫–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å"]
        Cached_Auth["üîë –ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã"]
        Payment_Retry["üîÑ Retry —Å Exponential Backoff"]
        Request_Timeout["‚è±Ô∏è –¢–∞–π–º–∞—É—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤"]
    end
    
    %% –í—Ç–æ—Ä–æ–π —É—Ä–æ–≤–µ–Ω—å
    subgraph "–î–µ–≥—Ä–∞–¥–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏"
        Read_Only["üìñ –†–µ–∂–∏–º —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è"]
        Limited_Features["‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å"]
        Async_Processing["‚è≥ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞"]
        Manual_Intervention["üë®‚Äçüíª –†—É—á–Ω–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ"]
    end
    
    %% –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
    subgraph "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ"
        Data_Sync["üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö"]
        Message_Replay["üì® –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π"]
        State_Recovery["üéØ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è"]
        Health_Check["‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã"]
    end
    
    %% –°–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
    DB_Failure --> Circuit_Breaker
    Kafka_Failure --> Local_Queue
    Auth_Failure --> Cached_Auth
    Payment_Failure --> Payment_Retry
    Network_Failure --> Request_Timeout
    
    Circuit_Breaker --> Read_Only
    Local_Queue --> Async_Processing
    Cached_Auth --> Limited_Features
    Payment_Retry --> Manual_Intervention
    Request_Timeout --> Limited_Features
    
    Read_Only --> Data_Sync
    Async_Processing --> Message_Replay
    Limited_Features --> State_Recovery
    Manual_Intervention --> Health_Check
    
    Data_Sync --> Health_Check
    Message_Replay --> Health_Check
    State_Recovery --> Health_Check
    
    %% –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
    Health_Check --> Normal["‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ<br>—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"]
    Health_Check --> Degraded["‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ–µ<br>–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ"]
    
    %% –°—Ç–∏–ª–∏
    classDef failure fill:#fff1f0,stroke:#f5222d,stroke-width:2px;
    classDef primary fill:#e6f7ff,stroke:#1890ff,stroke-width:2px;
    classDef secondary fill:#f6ffed,stroke:#52c41a,stroke-width:2px;
    classDef recovery fill:#f9f0ff,stroke:#722ed1,stroke-width:2px;
    classDef result fill:#fcffe6,stroke:#fadb14,stroke-width:2px;
    
    class DB_Failure,Kafka_Failure,Auth_Failure,Payment_Failure,Network_Failure failure;
    class Circuit_Breaker,Local_Queue,Cached_Auth,Payment_Retry,Request_Timeout primary;
    class Read_Only,Limited_Features,Async_Processing,Manual_Intervention secondary;
    class Data_Sync,Message_Replay,State_Recovery,Health_Check recovery;
    class Normal,Degraded result;
```

### üõ°Ô∏è –°—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

#### üìä –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ë–î
- **Connection pooling** —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ timeout –∏ retry
- **Circuit Breaker** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –æ—Ç–∫–∞–∑–æ–≤
- **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Redis –¥–ª—è —á—Ç–µ–Ω–∏—è –≤ –∞–≤–∞—Ä–∏–π–Ω–æ–º —Ä–µ–∂–∏–º–µ
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

#### üì® –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Kafka
- **–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è** —Å–æ–æ–±—â–µ–Ω–∏–π –ª–æ–∫–∞–ª—å–Ω–æ —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- **Exponential backoff** –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∞—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **–õ–æ–∫–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å** –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –¥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
- **–†—É—á–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** –∏–∑ –ª–æ–≥–æ–≤ –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–º –ø—Ä–æ—Å—Ç–æ–µ

#### üë• –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `backend-crew`
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** —Å –æ—á–µ—Ä–µ–¥—å—é –æ–∂–∏–¥–∞–Ω–∏—è
- **–î–µ–≥—Ä–∞–¥–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏** ‚Äî —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —ç–∫–∏–ø–∞–∂–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ—Å–ª–µ N –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫

#### üîî –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `backend-notification`
- **–õ–æ–∫–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å** —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- **Batch-–æ—Ç–ø—Ä–∞–≤–∫–∞** –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–∞
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —Ä—É—á–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

#### üîë –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Keycloak
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** –≤ Redis —Å —Ä–∞–∑—É–º–Ω—ã–º TTL
- **–í—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º read-only** –¥–ª—è –Ω–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π** –¥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### üíæ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

#### üì¶ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã
- **–ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø** –ë–î –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
- **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –±—ç–∫–∞–ø** –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- **–õ–æ–≥–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** –¥–ª—è point-in-time recovery

#### üîÑ –†–µ–ø–ª–∏–∫–∞—Ü–∏—è
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è** –≤ standby –ë–î
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** –≤ —Å–ª—É—á–∞–µ –æ—Ç–∫–∞–∑–∞ primary
- **–ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–±–æ–µ–≤

#### üìí –ñ—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Audit log** –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é replay –æ–ø–µ—Ä–∞—Ü–∏–π
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- **–î–≤–æ–π–Ω–∞—è –∑–∞–ø–∏—Å—å** –æ—Å–æ–±–æ –≤–∞–∂–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### üöë –ü–ª–∞–Ω –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ—è

#### ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- **Health check** –∏ self-healing –≤ Kubernetes
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π restart** –ø–æ–¥–æ–≤ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏** –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞

#### üë®‚Äçüíª –ü–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–û–ø–æ–≤–µ—â–µ–Ω–∏–µ DevOps-–∫–æ–º–∞–Ω–¥—ã** –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- **–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–µ–∫-–ª–∏—Å—Ç—ã** –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä

#### üîß –†—É—á–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **–ü—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è** –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
- **–°–∫—Ä–∏–ø—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### üìä –û–±—â–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```mermaid
graph TB
    %% –ê–∫—Ç–æ—Ä—ã
    Guest["üë§ –ì–æ—Å—Ç—å"]
    User["üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"]
    Organizer["üëî –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä"]
    Admin["üõ°Ô∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"]
    
    %% Use Cases –¥–ª—è –ì–æ—Å—Ç—è
    UC1["–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ —Å–æ–±—ã—Ç–∏–π"]
    UC2["–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π"]
    UC3["–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–±—ã—Ç–∏–∏"]
    UC4["–ß—Ç–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤"]
    
    %% Use Cases –¥–ª—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    UC5["–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–µ—Ç–æ–≤"]
    UC6["–û–ø–ª–∞—Ç–∞ –±–∏–ª–µ—Ç–æ–≤"]
    UC7["–û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"]
    UC8["–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"]
    UC9["–û—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤"]
    
    %% Use Cases –¥–ª—è –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
    UC10["–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π"]
    UC11["–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π"]
    UC12["–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π"]
    UC13["–û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏–π"]
    UC14["–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏"]
    UC15["–û—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Ç–∑—ã–≤—ã"]
    UC16["–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —ç–∫–∏–ø–∞–∂–∞"]
    
    %% Use Cases –¥–ª—è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    UC17["–ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤"]
    UC18["–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"]
    UC19["–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏"]
    UC20["–ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏"]
    
    %% –°–≤—è–∑–∏ –ì–æ—Å—Ç—è
    Guest --> UC1
    Guest --> UC2
    Guest --> UC3
    Guest --> UC4
    
    %% –°–≤—è–∑–∏ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤–∫–ª—é—á–∞—è –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ì–æ—Å—Ç—è)
    User --> UC1
    User --> UC2
    User --> UC3
    User --> UC4
    User --> UC5
    User --> UC6
    User --> UC7
    User --> UC8
    User --> UC9
    
    %% –°–≤—è–∑–∏ –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
    Organizer --> UC10
    Organizer --> UC11
    Organizer --> UC12
    Organizer --> UC13
    Organizer --> UC14
    Organizer --> UC15
    Organizer --> UC16
    Organizer --> UC20
    
    %% –°–≤—è–∑–∏ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    Admin --> UC1
    Admin --> UC2
    Admin --> UC3
    Admin --> UC5
    Admin --> UC7
    Admin --> UC10
    Admin --> UC11
    Admin --> UC12
    Admin --> UC13
    Admin --> UC17
    Admin --> UC18
    Admin --> UC19
    Admin --> UC20
    
    %% –°—Ç–∏–ª–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    classDef actor fill:#f9f9f9,stroke:#333,stroke-width:2px;
    classDef usecase fill:#e6f7ff,stroke:#1890ff,stroke-width:1px;
    
    class Guest,User,Organizer,Admin actor;
    class UC1,UC2,UC3,UC4,UC5,UC6,UC7,UC8,UC9,UC10,UC11,UC12,UC13,UC14,UC15,UC16,UC17,UC18,UC19,UC20 usecase;
```

### JSON-–ø—Ä–∏–º–µ—Ä—ã —Å—É—â–Ω–æ—Å—Ç–µ–π

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã JSON-–ø—Ä–∏–º–µ—Ä—ã –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ `backend-event`. –≠—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API, –∞ —Ç–∞–∫–∂–µ –∫–∞–∫ –æ–±—Ä–∞–∑—Ü—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.

#### Event (–°–æ–±—ã—Ç–∏–µ)

```json
{
  "id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "title": "–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ Java",
  "description": "–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π –∫—É—Ä—Å –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∂–µ–ª–∞—é—â–∏—Ö –æ—Å–≤–æ–∏—Ç—å —è–∑—ã–∫ Java –∏ –æ—Å–Ω–æ–≤—ã –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –ë—É–¥—É—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã –±–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —è–∑—ã–∫–∞, —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –∏ –ø–æ—Ç–æ–∫–∞–º–∏, –∞ —Ç–∞–∫–∂–µ –≤–≤–µ–¥–µ–Ω–∏–µ –≤ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.",
  "start_date": "2024-12-15T10:00:00Z",
  "end_date": "2024-12-15T18:00:00Z",
  "location": "–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤, 42",
  "capacity": 50,
  "status": "PUBLISHED",
  "category_id": "9a1b2c3d-4e5f-6a7b-8c9d-0e1f2a3b4c5d",
  "crew_id": "8b9c0d1e-2f3a-4b5c-6d7e-8f9a0b1c2d3e",
  "organizer_id": "7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d",
  "price_options": [
    {
      "id": "b1c2d3e4-f5a6-7b8c-9d0e-1f2a3b4c5d6e",
      "name": "–°—Ç–∞–Ω–¥–∞—Ä—Ç",
      "price": 3500.00,
      "available_quantity": 40,
      "is_active": true,
      "valid_from": "2024-10-01T00:00:00Z",
      "valid_until": "2024-12-14T23:59:59Z"
    },
    {
      "id": "c2d3e4f5-a6b7-c8d9-e0f1-2a3b4c5d6e7f",
      "name": "VIP",
      "price": 7000.00,
      "available_quantity": 10,
      "is_active": true,
      "valid_from": "2024-10-01T00:00:00Z",
      "valid_until": "2024-12-14T23:59:59Z"
    }
  ],
  "created_at": "2024-09-01T14:23:11Z",
  "updated_at": "2024-09-15T09:45:30Z",
  "version": 3,
  "tags": ["–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ", "java", "–º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å", "–æ–±—É—á–µ–Ω–∏–µ"],
  "image_url": "https://storage.aquastream.com/events/1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d/main.jpg",
  "published_at": "2024-09-15T10:00:00Z",
  "average_rating": 4.7,
  "reviews_count": 12,
  "bookings_count": 28,
  "views_count": 1250
}
```

#### Booking (–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)

```json
{
  "id": "d4e5f6a7-b8c9-d0e1-f2a3-b4c5d6e7f8a9",
  "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "user_id": "e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0",
  "quantity": 2,
  "status": "CONFIRMED",
  "price_option_id": "b1c2d3e4-f5a6-7b8c-9d0e-1f2a3b4c5d6e",
  "total_amount": 7000.00,
  "deadline": "2024-10-01T14:30:00Z",
  "booking_code": "BKG12345678",
  "promo_code_applied": "WELCOME2024",
  "discount_amount": 700.00,
  "original_amount": 7700.00,
  "created_at": "2024-09-30T12:45:22Z",
  "updated_at": "2024-09-30T13:15:45Z",
  "payment_status": "COMPLETED",
  "ticket_sent": true,
  "attendee_details": {
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "email": "ivan.petrov@example.com",
    "phone": "+7(999)123-45-67",
    "additional_attendee": {
      "name": "–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞",
      "email": "maria.petrova@example.com"
    }
  },
  "notes": "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –º–µ—Å—Ç–æ —É –æ–∫–Ω–∞",
  "checked_in": false
}
```

#### Payment (–ü–ª–∞—Ç–µ–∂)

```json
{
  "id": "f7a8b9c0-d1e2-f3a4-b5c6-d7e8f9a0b1c2",
  "booking_id": "d4e5f6a7-b8c9-d0e1-f2a3-b4c5d6e7f8a9",
  "amount": 7000.00,
  "currency": "RUB",
  "status": "COMPLETED",
  "gateway_reference": "pay_12345678abcdefgh",
  "payment_method": "CARD",
  "payment_details": {
    "card_last4": "4242",
    "card_brand": "Visa",
    "card_expiry": "12/25",
    "cardholder_name": "IVAN PETROV"
  },
  "refund_amount": 0.00,
  "created_at": "2024-09-30T13:00:11Z",
  "updated_at": "2024-09-30T13:15:45Z",
  "transaction_id": "tx_abcdef123456",
  "receipt_url": "https://receipts.payment-gateway.com/rx_12345",
  "payment_confirmation": {
    "confirmation_code": "AUTH123456",
    "authorization_code": "789012",
    "processor_response": "Approved"
  },
  "ip_address": "192.168.1.1",
  "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",
  "billing_address": {
    "country": "RU",
    "city": "–ú–æ—Å–∫–≤–∞",
    "postal_code": "123456",
    "address_line": "—É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1, –∫–≤. 123"
  }
}
```

#### Review (–û—Ç–∑—ã–≤)

```json
{
  "id": "a8b9c0d1-e2f3-a4b5-c6d7-e8f9a0b1c2d3",
  "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "user_id": "e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0",
  "rating": 5,
  "content": "–û—Ç–ª–∏—á–Ω—ã–π –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å! –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –æ–±—ä—è—Å–Ω—è–ª –º–∞—Ç–µ—Ä–∏–∞–ª –æ—á–µ–Ω—å –¥–æ—Å—Ç—É–ø–Ω–æ, –º–Ω–æ–≥–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏–π. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–∞ –≤—ã—Å—à–µ–º —É—Ä–æ–≤–Ω–µ, –∞—É–¥–∏—Ç–æ—Ä–∏—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–¥—É –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è —ç—Ç–æ–≥–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞.",
  "status": "ACTIVE",
  "helpful_count": 8,
  "created_at": "2024-12-16T09:30:00Z",
  "updated_at": "2024-12-16T09:30:00Z",
  "tags": ["–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ", "—Ö–æ—Ä–æ—à–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è", "—Ä–µ–∫–æ–º–µ–Ω–¥—É—é"],
  "media": [
    {
      "type": "image",
      "url": "https://storage.aquastream.com/reviews/a8b9c0d1-e2f3-a4b5-c6d7-e8f9a0b1c2d3/photo1.jpg"
    }
  ],
  "reply": {
    "id": "b9c0d1e2-f3a4-b5c6-d7e8-f9a0b1c2d3e4",
    "organizer_id": "7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d",
    "content": "–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –æ—Ç–∑—ã–≤! –ú—ã —Ä–∞–¥—ã, —á—Ç–æ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å –Ω–∞—à–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ. –ë—É–¥–µ–º —Ä–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞—Ö –Ω–∞—à–µ–π —à–∫–æ–ª—ã.",
    "created_at": "2024-12-16T14:20:15Z"
  },
  "user_details": {
    "username": "ivan.petrov",
    "avatar_url": "https://storage.aquastream.com/users/e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0/avatar.jpg"
  }
}
```

#### PriceOption (–¶–µ–Ω–æ–≤–∞—è –æ–ø—Ü–∏—è)

```json
{
  "id": "b1c2d3e4-f5a6-7b8c-9d0e-1f2a3b4c5d6e",
  "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "name": "–°—Ç–∞–Ω–¥–∞—Ä—Ç",
  "description": "–í–∫–ª—é—á–∞–µ—Ç —É—á–∞—Å—Ç–∏–µ –≤ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–µ, —Ä–∞–∑–¥–∞—Ç–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç.",
  "price": 3500.00,
  "currency": "RUB",
  "available_quantity": 40,
  "reserved_quantity": 5,
  "sold_quantity": 25,
  "is_active": true,
  "valid_from": "2024-10-01T00:00:00Z",
  "valid_until": "2024-12-14T23:59:59Z",
  "display_order": 1,
  "features": [
    "–£—á–∞—Å—Ç–∏–µ –≤ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–µ",
    "–†–∞–∑–¥–∞—Ç–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã",
    "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—á–∞—Å—Ç–Ω–∏–∫–∞"
  ],
  "original_price": 4000.00,
  "discount_percent": 12.5,
  "max_per_user": 3,
  "min_per_purchase": 1,
  "created_at": "2024-09-01T14:23:11Z",
  "updated_at": "2024-09-15T09:45:30Z"
}
```

#### PromoCode (–ü—Ä–æ–º–æ–∫–æ–¥)

```json
{
  "id": "c0d1e2f3-a4b5-c6d7-e8f9-a0b1c2d3e4f5",
  "code": "WELCOME2024",
  "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "discount_amount": 700.00,
  "discount_percent": 10.0,
  "usage_limit": 100,
  "usage_count": 42,
  "valid_from": "2024-10-01T00:00:00Z",
  "valid_until": "2024-11-30T23:59:59Z",
  "is_active": true,
  "description": "–°–∫–∏–¥–∫–∞ 10% –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
  "applicable_price_options": [
    "b1c2d3e4-f5a6-7b8c-9d0e-1f2a3b4c5d6e",
    "c2d3e4f5-a6b7-c8d9-e0f1-2a3b4c5d6e7f"
  ],
  "min_purchase_amount": 2000.00,
  "max_discount_amount": 1000.00,
  "user_restriction": "NEW_USERS",
  "created_at": "2024-09-01T15:30:00Z",
  "updated_at": "2024-09-01T15:30:00Z",
  "created_by": "7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d"
}
```

#### Favorite (–ò–∑–±—Ä–∞–Ω–Ω–æ–µ)

```json
{
  "id": "d1e2f3a4-b5c6-d7e8-f9a0-b1c2d3e4f5a6",
  "user_id": "e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0",
  "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "created_at": "2024-09-25T18:42:15Z",
  "reminder_enabled": true,
  "reminder_time": "1D",
  "notes": "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ, –Ω—É–∂–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–µ—Ç–∏—Ç—å"
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—è–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∏–¥–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: –º–æ–¥—É–ª—å–Ω–æ–≥–æ, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ. –í—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/backend-event/src/test/resources/testdata/`.

#### –¢–µ—Å—Ç–æ–≤—ã–µ –Ω–∞–±–æ—Ä—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –Ω–∞–±–æ—Ä–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–º –±–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏—è–º:

##### 1. –ë–∞–∑–æ–≤—ã–π –Ω–∞–±–æ—Ä —Å—É—â–Ω–æ—Å—Ç–µ–π (`base`)

–°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–æ–ª—è–º–∏ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

```
testdata/
‚îî‚îÄ‚îÄ base/
    ‚îú‚îÄ‚îÄ events.json        # –ë–∞–∑–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è
    ‚îú‚îÄ‚îÄ bookings.json      # –ë–∞–∑–æ–≤—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
    ‚îú‚îÄ‚îÄ payments.json      # –ë–∞–∑–æ–≤—ã–µ –ø–ª–∞—Ç–µ–∂–∏
    ‚îú‚îÄ‚îÄ reviews.json       # –ë–∞–∑–æ–≤—ã–µ –æ—Ç–∑—ã–≤—ã
    ‚îú‚îÄ‚îÄ priceoptions.json  # –ë–∞–∑–æ–≤—ã–µ —Ü–µ–Ω–æ–≤—ã–µ –æ–ø—Ü–∏–∏
    ‚îî‚îÄ‚îÄ promocodes.json    # –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã
```

##### 2. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π (`lifecycle`)

–ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Å—Ç–∞—Ç—É—Å–∞–º–∏ –≤ –∂–∏–∑–Ω–µ–Ω–Ω–æ–º —Ü–∏–∫–ª–µ —Å–æ–±—ã—Ç–∏—è.

```
testdata/
‚îî‚îÄ‚îÄ lifecycle/
    ‚îú‚îÄ‚îÄ draft_events.json         # –°–æ–±—ã—Ç–∏—è –≤ —Å—Ç–∞—Ç—É—Å–µ DRAFT
    ‚îú‚îÄ‚îÄ published_events.json     # –°–æ–±—ã—Ç–∏—è –≤ —Å—Ç–∞—Ç—É—Å–µ PUBLISHED
    ‚îú‚îÄ‚îÄ canceled_events.json      # –°–æ–±—ã—Ç–∏—è –≤ —Å—Ç–∞—Ç—É—Å–µ CANCELED
    ‚îú‚îÄ‚îÄ completed_events.json     # –°–æ–±—ã—Ç–∏—è –≤ —Å—Ç–∞—Ç—É—Å–µ COMPLETED
    ‚îú‚îÄ‚îÄ reviewed_events.json      # –°–æ–±—ã—Ç–∏—è –≤ —Å—Ç–∞—Ç—É—Å–µ REVIEWED
    ‚îú‚îÄ‚îÄ rescheduled_events.json   # –°–æ–±—ã—Ç–∏—è –≤ —Å—Ç–∞—Ç—É—Å–µ RESCHEDULED
    ‚îî‚îÄ‚îÄ transition_test_data.json # –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
```

##### 3. –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–ª–∞—Ç–µ–∂–∏ (`booking_payment`)

–î–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–ø–ª–∞—Ç—ã.

```
testdata/
‚îî‚îÄ‚îÄ booking_payment/
    ‚îú‚îÄ‚îÄ pending_bookings.json     # –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å—Ç–∞—Ç—É—Å–µ PENDING_PAYMENT
    ‚îú‚îÄ‚îÄ confirmed_bookings.json   # –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å—Ç–∞—Ç—É—Å–µ CONFIRMED
    ‚îú‚îÄ‚îÄ canceled_bookings.json    # –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å—Ç–∞—Ç—É—Å–µ CANCELED
    ‚îú‚îÄ‚îÄ expired_bookings.json     # –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å—Ç–∞—Ç—É—Å–µ EXPIRED
    ‚îú‚îÄ‚îÄ successful_payments.json  # –£—Å–ø–µ—à–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
    ‚îú‚îÄ‚îÄ failed_payments.json      # –ù–µ—É—Å–ø–µ—à–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
    ‚îú‚îÄ‚îÄ refunded_payments.json    # –í–æ–∑–≤—Ä–∞—Ç—ã –ø–ª–∞—Ç–µ–∂–µ–π
    ‚îî‚îÄ‚îÄ booking_scenarios.json    # –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
```

##### 4. –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏ (`reviews`)

–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –æ—Ç–∑—ã–≤–æ–≤.

```
testdata/
‚îî‚îÄ‚îÄ reviews/
    ‚îú‚îÄ‚îÄ pending_reviews.json      # –û—Ç–∑—ã–≤—ã –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
    ‚îú‚îÄ‚îÄ active_reviews.json       # –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–∑—ã–≤—ã
    ‚îú‚îÄ‚îÄ rejected_reviews.json     # –û—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–µ –æ—Ç–∑—ã–≤—ã
    ‚îú‚îÄ‚îÄ review_replies.json       # –û—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Ç–∑—ã–≤—ã
    ‚îî‚îÄ‚îÄ review_scenarios.json     # –°—Ü–µ–Ω–∞—Ä–∏–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ—Ç–∑—ã–≤–æ–≤
```

##### 5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (`integration`)

–î–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.

```
testdata/
‚îî‚îÄ‚îÄ integration/
    ‚îú‚îÄ‚îÄ auth_service/             # –î–∞–Ω–Ω—ã–µ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Auth Service
    ‚îú‚îÄ‚îÄ notification_service/     # –î–∞–Ω–Ω—ã–µ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Notification Service
    ‚îú‚îÄ‚îÄ payment_service/          # –î–∞–Ω–Ω—ã–µ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Payment Service
    ‚îú‚îÄ‚îÄ crew_service/             # –î–∞–Ω–Ω—ã–µ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Crew Service
    ‚îî‚îÄ‚îÄ user_service/             # –î–∞–Ω–Ω—ã–µ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å User Service
```

##### 6. –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (`load`)

–ù–∞–±–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.

```
testdata/
‚îî‚îÄ‚îÄ load/
    ‚îú‚îÄ‚îÄ events_10k.json           # 10,000 —Å–æ–±—ã—Ç–∏–π
    ‚îú‚îÄ‚îÄ bookings_100k.json        # 100,000 –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
    ‚îú‚îÄ‚îÄ users_50k.json            # 50,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    ‚îî‚îÄ‚îÄ scenarios/                # –°—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

#### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –∏ –ø—Ä–∞–≤–∏–ª. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –∏ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç–µ—Å—Ç–æ–≤.

##### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

1. **DataFactory** ‚Äî —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
   ```java
   public class EventDataFactory {
       public static Event createDefaultEvent() {
           return Event.builder()
                   .id(UUID.randomUUID())
                   .title("Test Event " + RandomStringUtils.randomAlphanumeric(5))
                   .description("Test description")
                   .startDate(LocalDateTime.now().plusDays(30))
                   .endDate(LocalDateTime.now().plusDays(30).plusHours(3))
                   .location("Test Location")
                   .capacity(100)
                   .status(EventStatus.DRAFT)
                   .organizerId(UUID.randomUUID())
                   .createdAt(LocalDateTime.now())
                   .updatedAt(LocalDateTime.now())
                   .version(1)
                   .build();
       }
       
       public static Event createPublishedEvent() {
           Event event = createDefaultEvent();
           event.setStatus(EventStatus.PUBLISHED);
           event.setPublishedAt(LocalDateTime.now());
           return event;
       }
       
       // –î—Ä—É–≥–∏–µ —Ñ–∞–±—Ä–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã
   }
   ```

2. **TestDataGenerator** ‚Äî —Å–∫—Ä–∏–ø—Ç –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ JSON-—Ñ–∞–π–ª–æ–≤ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
   ```java
   public class TestDataGenerator {
       public static void main(String[] args) {
           // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 1000 —Å–æ–±—ã—Ç–∏–π –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–∞—Ö
           List<Event> events = IntStream.range(0, 1000)
                   .mapToObj(i -> {
                       EventStatus status = getRandomStatus();
                       switch(status) {
                           case DRAFT: return EventDataFactory.createDefaultEvent();
                           case PUBLISHED: return EventDataFactory.createPublishedEvent();
                           // –î—Ä—É–≥–∏–µ —Å—Ç–∞—Ç—É—Å—ã
                           default: return EventDataFactory.createDefaultEvent();
                       }
                   })
                   .collect(Collectors.toList());
           
           // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON
           ObjectMapper mapper = new ObjectMapper();
           mapper.writeValue(new File("src/test/resources/testdata/load/events_1k.json"), events);
       }
       
       private static EventStatus getRandomStatus() {
           EventStatus[] statuses = EventStatus.values();
           return statuses[new Random().nextInt(statuses.length)];
       }
   }
   ```

3. **SQL-—Å–∫—Ä–∏–ø—Ç—ã** ‚Äî –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   ```sql
   -- –ü—Ä–∏–º–µ—Ä SQL-—Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
   INSERT INTO events (id, title, description, start_date, end_date, location, capacity, status, category_id, organizer_id, created_at, updated_at, version)
   VALUES 
   ('1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d', 'Test Event 1', 'Description 1', '2024-12-15 10:00:00', '2024-12-15 13:00:00', 'Location 1', 100, 'PUBLISHED', '9a1b2c3d-4e5f-6a7b-8c9d-0e1f2a3b4c5d', '7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d', '2024-09-01 14:23:11', '2024-09-15 09:45:30', 1),
   ('2b3c4d5e-6f7a-8b9c-0d1e-2f3a4b5c6d7e', 'Test Event 2', 'Description 2', '2024-12-20 11:00:00', '2024-12-20 15:00:00', 'Location 2', 50, 'DRAFT', '9a1b2c3d-4e5f-6a7b-8c9d-0e1f2a3b4c5d', '7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d', '2024-09-02 10:15:00', '2024-09-02 10:15:00', 1);
   ```

##### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –º–æ–¥—É–ª—å–Ω—ã—Ö –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö:

```java
@Test
public void testEventCreation() {
    // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ JSON
    Event testEvent = objectMapper.readValue(
        new ClassPathResource("testdata/base/events.json").getInputStream(),
        new TypeReference<List<Event>>() {}
    ).get(0);
    
    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ—Å—Ç–µ
    Event savedEvent = eventRepository.save(testEvent);
    assertEquals(testEvent.getTitle(), savedEvent.getTitle());
    // –î—Ä—É–≥–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
}

@Test
public void testBookingWorkflow() {
    // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
    BookingScenario scenario = objectMapper.readValue(
        new ClassPathResource("testdata/booking_payment/booking_scenarios.json").getInputStream(),
        new TypeReference<List<BookingScenario>>() {}
    ).get(0);
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
    mockEventRepository(scenario.getEvent());
    mockPriceOptionRepository(scenario.getPriceOptions());
    
    // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞
    BookingResponse response = bookingService.createBooking(scenario.getBookingRequest());
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    assertEquals(BookingStatus.PENDING_PAYMENT, response.getStatus());
    // –î—Ä—É–≥–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WireMock

[WireMock](http://wiremock.org/) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —ç–º—É–ª—è—Ü–∏–∏ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ `backend-event` –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –≤–∫–ª—é—á–∞—è —É—Å–ø–µ—à–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, –æ—à–∏–±–∫–∏ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å —Ç–∞–π–º–∞—É—Ç–∞–º–∏.

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

##### –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Docker

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç—å WireMock ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker-–æ–±—Ä–∞–∑:

```bash
# –ó–∞–ø—É—Å–∫ WireMock –Ω–∞ –ø–æ—Ä—Ç—É 8888
docker run -it --rm -p 8888:8080 -v $PWD/wiremock:/home/wiremock wiremock/wiremock:3.2.0 --verbose --global-response-templating
```

##### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Docker Compose

WireMock —É–∂–µ –≤–∫–ª—é—á–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `docker-compose.yml` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```yaml
wiremock:
  image: wiremock/wiremock:3.2.0
  ports:
    - "8888:8080"
  volumes:
    - ./wiremock:/home/wiremock
  command: --global-response-templating --verbose
```

##### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ WireMock

–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `wiremock` –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```
wiremock/
‚îú‚îÄ‚îÄ mappings/                     # JSON-—Ñ–∞–π–ª—ã —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Å—Ç–∞–±–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ auth_service/             # –°—Ç–∞–±—ã –¥–ª—è Auth Service
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validate_token_success.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validate_token_expired.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ get_user_info.json
‚îÇ   ‚îú‚îÄ‚îÄ notification_service/     # –°—Ç–∞–±—ã –¥–ª—è Notification Service
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ send_notification_success.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ send_notification_error.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bulk_notification.json
‚îÇ   ‚îú‚îÄ‚îÄ payment_service/          # –°—Ç–∞–±—ã –¥–ª—è Payment Service
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ initiate_payment.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ confirm_payment.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ refund_payment.json
‚îÇ   ‚îú‚îÄ‚îÄ crew_service/             # –°—Ç–∞–±—ã –¥–ª—è Crew Service
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assign_crew.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ release_crew.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ check_availability.json
‚îÇ   ‚îî‚îÄ‚îÄ user_service/             # –°—Ç–∞–±—ã –¥–ª—è User Service
‚îÇ       ‚îú‚îÄ‚îÄ get_user.json
‚îÇ       ‚îî‚îÄ‚îÄ search_users.json
‚îî‚îÄ‚îÄ __files/                      # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ (–±–æ–ª—å—à–∏–µ JSON)
    ‚îú‚îÄ‚îÄ auth_service/             # –§–∞–π–ª—ã –¥–ª—è Auth Service
    ‚îú‚îÄ‚îÄ notification_service/     # –§–∞–π–ª—ã –¥–ª—è Notification Service
    ‚îî‚îÄ‚îÄ ...                       # –î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã
```

##### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ Spring Boot

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è WireMock –≤ —Ç–µ—Å—Ç–∞—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ `build.gradle` –∏–ª–∏ `pom.xml`:

```gradle
testImplementation 'org.springframework.cloud:spring-cloud-starter-contract-stub-runner'
testImplementation 'com.github.tomakehurst:wiremock-jre8:3.0.0'
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤:

```java
@SpringBootTest
@AutoConfigureWireMock(port = 0) // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—Ç
public class ExternalServiceIntegrationTest {
    
    @Autowired
    private WireMockServer wireMockServer;
    
    @BeforeEach
    public void setup() {
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞–±–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∞
        wireMockServer.stubFor(
            WireMock.post(WireMock.urlEqualTo("/auth/validate"))
                .willReturn(WireMock.aResponse()
                    .withStatus(200)
                    .withHeader("Content-Type", "application/json")
                    .withBody("{\"valid\": true, \"user_id\": \"e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0\", \"roles\": [\"USER\"]}")
                )
        );
    }
    
    // –¢–µ—Å—Ç—ã...
}
```

#### –ü—Ä–∏–º–µ—Ä—ã —Å—Ç–∞–±–æ–≤ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

##### Auth Service (–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

```json
{
  "request": {
    "method": "POST",
    "url": "/auth/validate",
    "headers": {
      "Content-Type": {
        "equalTo": "application/json"
      }
    },
    "bodyPatterns": [
      {
        "matchesJsonPath": "$.token"
      }
    ]
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/json"
    },
    "jsonBody": {
      "valid": true,
      "user_id": "e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0",
      "username": "ivan.petrov",
      "email": "ivan.petrov@example.com",
      "roles": ["USER"],
      "expires_at": "{{now offset='1 hours' format='yyyy-MM-dd''T''HH:mm:ss.SSSZ'}}"
    }
  }
}
```

##### Notification Service (–û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)

```json
{
  "request": {
    "method": "POST",
    "url": "/notification/send",
    "headers": {
      "Content-Type": {
        "equalTo": "application/json"
      }
    },
    "bodyPatterns": [
      {
        "matchesJsonPath": "$.recipient_id"
      },
      {
        "matchesJsonPath": "$.notification_type"
      }
    ]
  },
  "response": {
    "status": 202,
    "headers": {
      "Content-Type": "application/json"
    },
    "jsonBody": {
      "notification_id": "{{randomValue length=36 type='UUID'}}",
      "status": "ACCEPTED",
      "message": "Notification queued for delivery"
    },
    "fixedDelayMilliseconds": 100
  }
}
```

##### Payment Service (–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π)

```json
{
  "request": {
    "method": "POST",
    "url": "/payment/process",
    "headers": {
      "Content-Type": {
        "equalTo": "application/json"
      }
    },
    "bodyPatterns": [
      {
        "matchesJsonPath": "$.amount"
      },
      {
        "matchesJsonPath": "$.payment_method"
      }
    ]
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/json"
    },
    "jsonBody": {
      "transaction_id": "tx_{{randomValue length=10 type='ALPHANUMERIC'}}",
      "status": "COMPLETED",
      "gateway_reference": "pay_{{randomValue length=16 type='ALPHANUMERIC'}}",
      "processor_response": "Approved",
      "created_at": "{{now format='yyyy-MM-dd''T''HH:mm:ss.SSSZ'}}",
      "card_details": {
        "last4": "4242",
        "brand": "Visa",
        "expiry_month": 12,
        "expiry_year": 25
      }
    }
  }
}
```

##### Crew Service (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫–∏–ø–∞–∂–µ–º)

```json
{
  "request": {
    "method": "POST",
    "url": "/crew/assign",
    "headers": {
      "Content-Type": {
        "equalTo": "application/json"
      }
    },
    "bodyPatterns": [
      {
        "matchesJsonPath": "$.event_id"
      },
      {
        "matchesJsonPath": "$.crew_members"
      }
    ]
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/json"
    },
    "jsonBody": {
      "crew_id": "{{randomValue length=36 type='UUID'}}",
      "event_id": "{{jsonPath request.body '$.event_id'}}",
      "status": "ASSIGNED",
      "crew_members": [
        {
          "id": "{{randomValue length=36 type='UUID'}}",
          "user_id": "{{jsonPath request.body '$.crew_members[0].user_id'}}",
          "name": "–ê–Ω–¥—Ä–µ–π –ü–µ—Ç—Ä–æ–≤",
          "role": "{{jsonPath request.body '$.crew_members[0].role'}}",
          "status": "ASSIGNED"
        },
        {
          "id": "{{randomValue length=36 type='UUID'}}",
          "user_id": "{{jsonPath request.body '$.crew_members[1].user_id'}}",
          "name": "–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞",
          "role": "{{jsonPath request.body '$.crew_members[1].role'}}",
          "status": "ASSIGNED"
        }
      ],
      "created_at": "{{now format='yyyy-MM-dd''T''HH:mm:ss.SSSZ'}}"
    }
  }
}
```

##### User Service (–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö)

```json
{
  "request": {
    "method": "GET",
    "urlPathPattern": "/users/([a-f0-9-]+)",
    "headers": {
      "Accept": {
        "equalTo": "application/json"
      }
    }
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/json"
    },
    "jsonBody": {
      "id": "{{request.pathSegments.[1]}}",
      "username": "user{{randomInt lower=1000 upper=9999}}",
      "email": "user{{randomInt lower=1000 upper=9999}}@example.com",
      "full_name": "{{#assign 'names'}}John,Jane,Robert,Emily,Michael,Sarah,David,Lisa{{/assign}}{{pickRandom names separator=','}}",
      "created_at": "{{now offset='-1 years' format='yyyy-MM-dd''T''HH:mm:ss.SSSZ'}}",
      "status": "ACTIVE",
      "roles": ["USER"]
    }
  }
}
```

#### –ö–æ–¥ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ WireMock –≤ —Ç–µ—Å—Ç–∞—Ö

##### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –º–æ–¥—É–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

```java
import com.github.tomakehurst.wiremock.WireMockServer;
import com.github.tomakehurst.wiremock.client.WireMock;
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

public class PaymentServiceClientTest {

    private WireMockServer wireMockServer;
    private PaymentServiceClient paymentServiceClient;

    @BeforeEach
    void setup() {
        // –ó–∞–ø—É—Å–∫ WireMock –Ω–∞ —Å–ª—É—á–∞–π–Ω–æ–º –ø–æ—Ä—Ç—É
        wireMockServer = new WireMockServer();
        wireMockServer.start();
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WireMock
        paymentServiceClient = new PaymentServiceClient("http://localhost:" + wireMockServer.port());
        
        // –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞–±–æ–≤
        setupStubs();
    }

    @AfterEach
    void tearDown() {
        wireMockServer.stop();
    }

    private void setupStubs() {
        // –£—Å–ø–µ—à–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞
        wireMockServer.stubFor(
            WireMock.post(WireMock.urlEqualTo("/payment/process"))
                .withHeader("Content-Type", WireMock.equalTo("application/json"))
                .withRequestBody(WireMock.matchingJsonPath("$.amount", WireMock.matching("^[0-9]+(\\.[0-9]{1,2})?$")))
                .willReturn(WireMock.aResponse()
                    .withStatus(200)
                    .withHeader("Content-Type", "application/json")
                    .withBody("{\"transaction_id\": \"tx_12345\", \"status\": \"COMPLETED\"}")
                )
        );
        
        // –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤
        wireMockServer.stubFor(
            WireMock.post(WireMock.urlEqualTo("/payment/process"))
                .withHeader("Content-Type", WireMock.equalTo("application/json"))
                .withRequestBody(WireMock.matchingJsonPath("$.amount", WireMock.equalTo("10000.00")))
                .willReturn(WireMock.aResponse()
                    .withStatus(400)
                    .withHeader("Content-Type", "application/json")
                    .withBody("{\"error\": \"INSUFFICIENT_FUNDS\", \"message\": \"Insufficient funds on card\"}")
                )
        );
        
        // –¢–∞–π–º–∞—É—Ç —Å–µ—Ä–≤–∏—Å–∞
        wireMockServer.stubFor(
            WireMock.post(WireMock.urlEqualTo("/payment/process"))
                .withHeader("Content-Type", WireMock.equalTo("application/json"))
                .withRequestBody(WireMock.matchingJsonPath("$.amount", WireMock.equalTo("9999.99")))
                .willReturn(WireMock.aResponse()
                    .withFixedDelay(5000) // 5 —Å–µ–∫—É–Ω–¥ –∑–∞–¥–µ—Ä–∂–∫–∏
                    .withStatus(503)
                    .withHeader("Content-Type", "application/json")
                    .withBody("{\"error\": \"SERVICE_UNAVAILABLE\", \"message\": \"Payment service temporarily unavailable\"}")
                )
        );
    }

    @Test
    void testSuccessfulPayment() {
        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
        PaymentRequest request = new PaymentRequest("1234", 100.00, "CARD");
        PaymentResponse response = paymentServiceClient.processPayment(request);
        
        assertEquals("COMPLETED", response.getStatus());
        assertEquals("tx_12345", response.getTransactionId());
    }
    
    @Test
    void testInsufficientFunds() {
        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª—É—á–∞—è —Å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏
        PaymentRequest request = new PaymentRequest("1234", 10000.00, "CARD");
        
        PaymentException exception = assertThrows(PaymentException.class, () -> {
            paymentServiceClient.processPayment(request);
        });
        
        assertEquals("INSUFFICIENT_FUNDS", exception.getErrorCode());
    }
    
    @Test
    void testServiceTimeout() {
        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞
        PaymentRequest request = new PaymentRequest("1234", 9999.99, "CARD");
        
        ServiceUnavailableException exception = assertThrows(ServiceUnavailableException.class, () -> {
            paymentServiceClient.processPayment(request);
        });
        
        assertEquals("SERVICE_UNAVAILABLE", exception.getErrorCode());
    }
}
```

##### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Spring Boot –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

```java
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.cloud.contract.wiremock.AutoConfigureWireMock;
import org.springframework.test.context.ActiveProfiles;
import org.springframework.test.context.TestPropertySource;

@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@AutoConfigureWireMock(port = 0) // –°–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—Ç
@ActiveProfiles("test")
@TestPropertySource(properties = {
    "payment.service.url=http://localhost:${wiremock.server.port}",
    "auth.service.url=http://localhost:${wiremock.server.port}",
    "notification.service.url=http://localhost:${wiremock.server.port}",
    "crew.service.url=http://localhost:${wiremock.server.port}",
    "user.service.url=http://localhost:${wiremock.server.port}"
})
public class EventServiceIntegrationTest {

    @Autowired
    private EventService eventService;
    
    @Autowired
    private WireMockServer wireMockServer;
    
    @BeforeEach
    void setup() {
        // –°—Ç–∞–± –¥–ª—è Auth Service
        stubForAuthService();
        
        // –°—Ç–∞–± –¥–ª—è Notification Service
        stubForNotificationService();
        
        // –°—Ç–∞–± –¥–ª—è Payment Service
        stubForPaymentService();
        
        // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∞–±—ã...
    }
    
    private void stubForAuthService() {
        wireMockServer.stubFor(
            WireMock.post(WireMock.urlEqualTo("/auth/validate"))
                .willReturn(WireMock.aResponse()
                    .withStatus(200)
                    .withHeader("Content-Type", "application/json")
                    .withBody("{\"valid\": true, \"user_id\": \"e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0\", \"roles\": [\"USER\"]}")
                )
        );
    }
    
    // –ú–µ—Ç–æ–¥—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥—Ä—É–≥–∏—Ö —Å—Ç–∞–±–æ–≤...
    
    @Test
    void testCreateAndPublishEvent() {
        // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º WireMock –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
        // ...
    }
}
```

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö –º–æ–∫–æ–≤

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö –º–æ–∫–æ–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç `backend-event`. –≠—Ç–∏ –º–æ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–æ–≤.

#### JSON-–æ—Ç–≤–µ—Ç—ã –∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç –∫–∞–∂–¥–æ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.

##### Auth Service (–°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)

###### –£—Å–ø–µ—à–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ (POST /auth/validate)

```json
{
  "valid": true,
  "user_id": "e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0",
  "username": "ivan.petrov",
  "email": "ivan.petrov@example.com",
  "roles": ["USER"],
  "permissions": ["events:read", "bookings:create", "bookings:read"],
  "expires_at": "2024-12-31T23:59:59.999Z"
}
```

###### –ù–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω (POST /auth/validate)

```json
{
  "valid": false,
  "error": "TOKEN_EXPIRED",
  "message": "Authentication token has expired",
  "timestamp": "2024-01-15T12:34:56.789Z"
}
```

###### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (GET /auth/users/{id})

```json
{
  "id": "e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0",
  "username": "ivan.petrov",
  "email": "ivan.petrov@example.com",
  "full_name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
  "phone": "+7(999)123-45-67",
  "roles": ["USER"],
  "created_at": "2023-01-15T10:30:00Z",
  "status": "ACTIVE",
  "profile_picture": "https://storage.aquastream.com/users/e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0/avatar.jpg",
  "preferences": {
    "language": "ru",
    "notification_settings": {
      "email": true,
      "sms": true,
      "push": true
    }
  }
}
```

##### Notification Service (–°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)

###### –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (POST /notification/send)

```json
{
  "notification_id": "f1e2d3c4-b5a6-7890-1234-567890abcdef",
  "status": "ACCEPTED",
  "message": "Notification queued for delivery",
  "queued_at": "2024-01-15T12:34:56.789Z",
  "estimated_delivery": "2024-01-15T12:35:00.000Z"
}
```

###### –ú–∞—Å—Å–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (POST /notification/bulk)

```json
{
  "batch_id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
  "status": "PROCESSING",
  "total_notifications": 250,
  "accepted_count": 250,
  "rejected_count": 0,
  "message": "Bulk notification job started",
  "started_at": "2024-01-15T12:34:56.789Z"
}
```

###### –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (POST /notification/send)

```json
{
  "error": "INVALID_RECIPIENT",
  "message": "Recipient ID not found or inactive",
  "details": {
    "recipient_id": "invalid-user-id",
    "notification_type": "EVENT_REMINDER"
  },
  "timestamp": "2024-01-15T12:34:56.789Z"
}
```

##### Payment Service (–ü–ª–∞—Ç–µ–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å)

###### –£—Å–ø–µ—à–Ω–∞—è –∏–Ω–∏—Ü–∏–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–∞ (POST /payment/initiate)

```json
{
  "payment_id": "pay_a1b2c3d4e5f6",
  "status": "INITIATED",
  "amount": 3500.00,
  "currency": "RUB",
  "redirect_url": "https://payment-provider.com/pay/a1b2c3d4e5f6",
  "expires_at": "2024-01-15T13:34:56.789Z",
  "reference": "booking_d4e5f6a7-b8c9-d0e1-f2a3-b4c5d6e7f8a9",
  "created_at": "2024-01-15T12:34:56.789Z"
}
```

###### –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ (POST /payment/confirm)

```json
{
  "payment_id": "pay_a1b2c3d4e5f6",
  "transaction_id": "tx_12345678",
  "status": "COMPLETED",
  "amount": 3500.00,
  "currency": "RUB",
  "fee": 87.50,
  "net_amount": 3412.50,
  "payment_method": {
    "type": "CARD",
    "last4": "4242",
    "brand": "Visa",
    "expiry_month": 12,
    "expiry_year": 25
  },
  "reference": "booking_d4e5f6a7-b8c9-d0e1-f2a3-b4c5d6e7f8a9",
  "completed_at": "2024-01-15T12:40:23.456Z"
}
```

###### –í–æ–∑–≤—Ä–∞—Ç –ø–ª–∞—Ç–µ–∂–∞ (POST /payment/refund)

```json
{
  "refund_id": "ref_z9y8x7w6v5u4",
  "original_payment_id": "pay_a1b2c3d4e5f6",
  "status": "COMPLETED",
  "amount": 3500.00,
  "currency": "RUB",
  "reason": "EVENT_CANCELED",
  "reference": "booking_d4e5f6a7-b8c9-d0e1-f2a3-b4c5d6e7f8a9",
  "created_at": "2024-01-16T09:12:34.567Z",
  "completed_at": "2024-01-16T09:15:45.678Z",
  "estimated_arrival": "2024-01-18T00:00:00.000Z"
}
```

##### Crew Service (–°–µ—Ä–≤–∏—Å —ç–∫–∏–ø–∞–∂–∞)

###### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —ç–∫–∏–ø–∞–∂–∞ (POST /crew/assign)

```json
{
  "crew_id": "8b9c0d1e-2f3a-4b5c-6d7e-8f9a0b1c2d3e",
  "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "status": "ASSIGNED",
  "crew_members": [
    {
      "id": "c1d2e3f4-a5b6-c7d8-e9f0-a1b2c3d4e5f6",
      "user_id": "7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d",
      "name": "–ê–Ω–¥—Ä–µ–π –ü–µ—Ç—Ä–æ–≤",
      "role": "PHOTOGRAPHER",
      "status": "ASSIGNED",
      "contact": {
        "email": "andrey.petrov@example.com",
        "phone": "+7(999)111-22-33"
      }
    },
    {
      "id": "d2e3f4a5-b6c7-d8e9-f0a1-b2c3d4e5f6a7",
      "user_id": "8b9c0d1e-2f3a-4b5c-6d7e-8f9a0b1c2d3e",
      "name": "–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞",
      "role": "ASSISTANT",
      "status": "ASSIGNED",
      "contact": {
        "email": "maria.sidorova@example.com",
        "phone": "+7(999)222-33-44"
      }
    }
  ],
  "notes": "–§–æ—Ç–æ–≥—Ä–∞—Ñ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–±—ã—Ç—å –∑–∞ 30 –º–∏–Ω—É—Ç –¥–æ –Ω–∞—á–∞–ª–∞",
  "created_at": "2024-01-15T14:30:00Z",
  "updated_at": "2024-01-15T14:30:00Z"
}
```

###### –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —ç–∫–∏–ø–∞–∂–∞ (POST /crew/release)

```json
{
  "crew_id": "8b9c0d1e-2f3a-4b5c-6d7e-8f9a0b1c2d3e",
  "event_id": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
  "status": "RELEASED",
  "reason": "EVENT_CANCELED",
  "released_at": "2024-01-20T09:15:30Z",
  "notification_sent": true
}
```

###### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —ç–∫–∏–ø–∞–∂–∞ (GET /crew/availability)

```json
{
  "event_date": "2024-12-15",
  "available_roles": [
    {
      "role": "PHOTOGRAPHER",
      "available_count": 5,
      "min_required": 1
    },
    {
      "role": "ASSISTANT",
      "available_count": 8,
      "min_required": 1
    },
    {
      "role": "SECURITY",
      "available_count": 3,
      "min_required": 2
    }
  ],
  "suggested_crew": [
    {
      "user_id": "7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d",
      "name": "–ê–Ω–¥—Ä–µ–π –ü–µ—Ç—Ä–æ–≤",
      "role": "PHOTOGRAPHER",
      "rating": 4.9,
      "experience": "EXPERT"
    },
    {
      "user_id": "8b9c0d1e-2f3a-4b5c-6d7e-8f9a0b1c2d3e",
      "name": "–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞",
      "role": "ASSISTANT",
      "rating": 4.7,
      "experience": "INTERMEDIATE"
    }
  ],
  "status": "AVAILABLE"
}
```

##### User Service (–°–µ—Ä–≤–∏—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

###### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (GET /users/{id})

```json
{
  "id": "e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0",
  "username": "ivan.petrov",
  "email": "ivan.petrov@example.com",
  "full_name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
  "phone": "+7(999)123-45-67",
  "avatar_url": "https://storage.aquastream.com/users/e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0/avatar.jpg",
  "status": "ACTIVE",
  "created_at": "2023-01-15T10:30:00Z",
  "updated_at": "2024-01-10T15:45:22Z",
  "last_login_at": "2024-01-15T08:30:15Z",
  "preferences": {
    "language": "ru",
    "timezone": "Europe/Moscow",
    "marketing_emails": true
  },
  "statistics": {
    "events_attended": 12,
    "events_organized": 0,
    "reviews_count": 8,
    "average_rating_given": 4.3
  }
}
```

###### –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (GET /users/search)

```json
{
  "total": 25,
  "page": 1,
  "page_size": 10,
  "users": [
    {
      "id": "e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0",
      "username": "ivan.petrov",
      "email": "ivan.petrov@example.com",
      "full_name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
      "avatar_url": "https://storage.aquastream.com/users/e5f6a7b8-c9d0-e1f2-a3b4-c5d6e7f8a9b0/avatar_thumb.jpg",
      "status": "ACTIVE"
    },
    {
      "id": "f6a7b8c9-d0e1-f2a3-b4c5-d6e7f8a9b0c1",
      "username": "petr.ivanov",
      "email": "petr.ivanov@example.com",
      "full_name": "–ü–µ—Ç—Ä –ò–≤–∞–Ω–æ–≤",
      "avatar_url": "https://storage.aquastream.com/users/f6a7b8c9-d0e1-f2a3-b4c5-d6e7f8a9b0c1/avatar_thumb.jpg",
      "status": "ACTIVE"
    }
    // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
  ]
}
```

#### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤—ã—Ö –º–æ–∫–æ–≤

##### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –¥–ª—è –º–æ–∫–æ–≤

–í—Å–µ –º–æ–∫–∏ –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/backend-event/src/test/resources/wiremock` —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```
wiremock/
‚îú‚îÄ‚îÄ mappings/                     # JSON-—Ñ–∞–π–ª—ã —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Å—Ç–∞–±–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ auth_service/             # –°—Ç–∞–±—ã –¥–ª—è Auth Service
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validate_token_success.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validate_token_expired.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ get_user_info.json
‚îÇ   ‚îú‚îÄ‚îÄ notification_service/     # –°—Ç–∞–±—ã –¥–ª—è Notification Service
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ send_notification_success.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ send_notification_error.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bulk_notification.json
‚îÇ   ‚îú‚îÄ‚îÄ payment_service/          # –°—Ç–∞–±—ã –¥–ª—è Payment Service
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ initiate_payment.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ confirm_payment.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ refund_payment.json
‚îÇ   ‚îú‚îÄ‚îÄ crew_service/             # –°—Ç–∞–±—ã –¥–ª—è Crew Service
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assign_crew.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ release_crew.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ check_availability.json
‚îÇ   ‚îî‚îÄ‚îÄ user_service/             # –°—Ç–∞–±—ã –¥–ª—è User Service
‚îÇ       ‚îú‚îÄ‚îÄ get_user.json
‚îÇ       ‚îî‚îÄ‚îÄ search_users.json
‚îî‚îÄ‚îÄ __files/                      # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ (–±–æ–ª—å—à–∏–µ JSON)
    ‚îú‚îÄ‚îÄ auth_service/             # –§–∞–π–ª—ã –¥–ª—è Auth Service
    ‚îú‚îÄ‚îÄ notification_service/     # –§–∞–π–ª—ã –¥–ª—è Notification Service
    ‚îî‚îÄ‚îÄ ...                       # –î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã
```

##### –ü—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–æ–Ω—è—Ç–Ω–æ–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–∫–æ–≤ —Å–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º –ø—Ä–∞–≤–∏–ª–∞–º –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è:

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç: `{operation}_{scenario}.json`
   - `operation` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, validate_token, send_notification)
   - `scenario` ‚Äî —Å—Ü–µ–Ω–∞—Ä–∏–π –æ—Ç–≤–µ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, success, error_invalid_token)

2. –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∏–º–µ–Ω:
   - `validate_token_success.json`
   - `initiate_payment_card_declined.json`
   - `assign_crew_no_availability.json`

##### –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–æ–∫–∞

1. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π**
   - –ö–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç–µ?
   - –ö–∞–∫–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç?
   - –ö–∞–∫–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π –æ—Ç–≤–µ—Ç–∞ (—É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞)?

2. **–°–æ–∑–¥–∞–π—Ç–µ JSON-—Ñ–∞–π–ª –º–æ–∫–∞**
   - –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∞–±–ª–æ–Ω —Å—Ç—Ä—É–∫—Ç—É—Ä—ã WireMock:

```json
{
  "request": {
    "method": "POST", // –∏–ª–∏ GET, PUT, DELETE
    "url": "/endpoint/path", // –∏–ª–∏ urlPattern, urlPathPattern
    "headers": {
      "Content-Type": {
        "equalTo": "application/json"
      }
    }
  }
}
```

## üìä –õ–∏–º–∏—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

> **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞:** –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏ –±–∏–∑–Ω–µ—Å-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è `backend-event`, –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∑–∞—â–∏—Ç—É –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π —Ä–µ—Å—É—Ä—Å–∞–º–∏ —Å–µ—Ä–≤–∏—Å–∞.

### üö´ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è DoS-–∞—Ç–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤:

| –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|------------|---------------------|------------|
| JSON-–∑–∞–ø—Ä–æ—Å | 1 –ú–ë | –î–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ |
| –û–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è | 20 000 —Å–∏–º–≤–æ–ª–æ–≤ | –í–∫–ª—é—á–∞—è HTML-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| –ó–∞–≥—Ä—É–∂–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | 10 –ú–ë | –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| –û—Ç–∑—ã–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | 5 000 —Å–∏–º–≤–æ–ª–æ–≤ | –ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç |
| –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ | 1 000 –∑–∞–ø–∏—Å–µ–π | –í –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ |
| API-–æ—Ç–≤–µ—Ç | 5 –ú–ë | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ |

–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ `413 Request Entity Too Large` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º.

### üìã –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

–î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –ú–∞–∫—Å–∏–º—É–º | –ú–∏–Ω–∏–º—É–º |
|----------|----------------------|----------|---------|
| –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (page_size) | 20 | 100 | 1 |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π –≤ –∫–∞—Ç–∞–ª–æ–≥–µ | 20 | 50 | 1 |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ | 10 | 50 | 1 |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –≤ —Å–ø–∏—Å–∫–µ | 20 | 100 | 1 |
| –ì–ª—É–±–∏–Ω–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ø–ª–∞—Ç–µ–∂–µ–π | 30 –¥–Ω–µ–π | 365 –¥–Ω–µ–π | 1 –¥–µ–Ω—å |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–µ–Ω–æ–≤—ã—Ö –æ–ø—Ü–∏–π –Ω–∞ —Å–æ–±—ã—Ç–∏–µ | - | 10 | 1 |

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –±–æ–ª—å—à–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è –¥–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –º–∞–∫—Å–∏–º—É–º–∞ –±–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—à–∏–±–∫–∏.

### ‚è±Ô∏è –†–µ–π—Ç-–ª–∏–º–∏—Ç—ã API

–î–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º —Å–µ—Ä–≤–∏—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ª–∏–º–∏—Ç—ã –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–ø—Ä–æ—Å–æ–≤:

#### –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–π—Ç-–ª–∏–º–∏—Ç–æ–≤ –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ê–Ω–æ–Ω–∏–º | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä | –ê–¥–º–∏–Ω | –ü–µ—Ä–∏–æ–¥ |
|----------|--------|--------------|-------------|-------|--------|
| `GET /api/events` | 60 | 120 | 240 | –ë–µ–∑ –ª–∏–º–∏—Ç–∞ | 1 –º–∏–Ω—É—Ç–∞ |
| `GET /api/events/{id}` | 30 | 60 | 120 | –ë–µ–∑ –ª–∏–º–∏—Ç–∞ | 1 –º–∏–Ω—É—Ç–∞ |
| `POST /api/events` | –ó–∞–ø—Ä–µ—â–µ–Ω–æ | –ó–∞–ø—Ä–µ—â–µ–Ω–æ | 30 | 60 | 1 –º–∏–Ω—É—Ç–∞ |
| `PUT /api/events/{id}` | –ó–∞–ø—Ä–µ—â–µ–Ω–æ | –ó–∞–ø—Ä–µ—â–µ–Ω–æ | 60 | 120 | 1 –º–∏–Ω—É—Ç–∞ |
| `POST /api/bookings` | –ó–∞–ø—Ä–µ—â–µ–Ω–æ | 10 | 20 | 30 | 1 –º–∏–Ω—É—Ç–∞ |
| `POST /api/reviews` | –ó–∞–ø—Ä–µ—â–µ–Ω–æ | 5 | 20 | 30 | 1 –º–∏–Ω—É—Ç–∞ |
| `POST /api/payments/initiate` | –ó–∞–ø—Ä–µ—â–µ–Ω–æ | 5 | 10 | 20 | 1 –º–∏–Ω—É—Ç–∞ |
| –í—Å–µ –ø—Ä–æ—á–∏–µ –Ω–µ—É–∫–∞–∑–∞–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã | 30 | 60 | 90 | 120 | 1 –º–∏–Ω—É—Ç–∞ |

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤

–í —Å–ª—É—á–∞–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–µ—Ä–≤–∏—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É `429 Too Many Requests` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏:

```
Retry-After: 60
X-RateLimit-Limit: <limit>
X-RateLimit-Remaining: 0
X-RateLimit-Reset: <unix-timestamp>
```

–ü—Ä–∏–º–µ—Ä —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞:

```json
{
  "status": "error",
  "code": "RATE_LIMIT_EXCEEDED",
  "message": "–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É —á–µ—Ä–µ–∑ 60 —Å–µ–∫—É–Ω–¥",
  "details": {
    "retry_after_seconds": 60,
    "limit": "<limit>",
    "reset_time": "<timestamp –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO>"
  },
  "timestamp": "2024-01-15T12:34:56.789Z",
  "trace_id": "abcdef123456"
}
```

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ 429 –æ—à–∏–±–æ–∫

–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å 429 –æ—à–∏–±–∫–∏, —Ä–µ–∞–ª–∏–∑—É—è:
1. **–≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –±—ç–∫–æ—Ñ—Ñ**: —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ –º–µ–∂–¥—É –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
2. **–£–≤–∞–∂–µ–Ω–∏–µ Retry-After –∑–∞–≥–æ–ª–æ–≤–∫–∞**: –æ–∂–∏–¥–∞–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–µ–∫—É–Ω–¥
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞
4. **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤**: —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ API
5. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**: –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å –æ–±—Ä–∞—Ç–Ω—ã–º –æ—Ç—Å—á–µ—Ç–æ–º

### ‚è∞ –¢–∞–π–º–∞—É—Ç—ã –∏ –ª–∏–º–∏—Ç—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

#### –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

| –°–µ—Ä–≤–∏—Å | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–∞–π–º–∞—É—Ç | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ç–∞–π–º–∞—É—Ç | Circuit Breaker |
|--------|---------------------|----------------------|-----------------|
| Auth Service | 1 —Å–µ–∫—É–Ω–¥–∞ | 3 —Å–µ–∫—É–Ω–¥—ã | 50% / 10 –∑–∞–ø—Ä–æ—Å–æ–≤ |
| Payment Service | 3 —Å–µ–∫—É–Ω–¥—ã | 10 —Å–µ–∫—É–Ω–¥ | 30% / 20 –∑–∞–ø—Ä–æ—Å–æ–≤ |
| Notification Service | 2 —Å–µ–∫—É–Ω–¥—ã | 5 —Å–µ–∫—É–Ω–¥ | 40% / 15 –∑–∞–ø—Ä–æ—Å–æ–≤ |
| Crew Service | 2 —Å–µ–∫—É–Ω–¥—ã | 5 —Å–µ–∫—É–Ω–¥ | 40% / 15 –∑–∞–ø—Ä–æ—Å–æ–≤ |
| User Service | 1 —Å–µ–∫—É–Ω–¥–∞ | 3 —Å–µ–∫—É–Ω–¥—ã | 50% / 10 –∑–∞–ø—Ä–æ—Å–æ–≤ |
| –í–Ω–µ—à–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–Ω—ã–µ —à–ª—é–∑—ã | 5 —Å–µ–∫—É–Ω–¥ | 15 —Å–µ–∫—É–Ω–¥ | 20% / 20 –∑–∞–ø—Ä–æ—Å–æ–≤ |

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|----------|
| –ù–∞—á–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø—É–ª–∞ | 10 | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ |
| –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø—É–ª–∞ | 5 | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π |
| –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø—É–ª–∞ | 50 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π |
| –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è | 10 —Å–µ–∫—É–Ω–¥ | –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è |
| –í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Å—Ç–æ—è | 300 —Å–µ–∫—É–Ω–¥ | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π |
| –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è | 1800 —Å–µ–∫—É–Ω–¥ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º | –í–∫–ª—é—á–µ–Ω–æ | –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º |

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ connection pool

```yaml
# –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ HikariCP –¥–ª—è production
spring:
  datasource:
    hikari:
      maximum-pool-size: 50
      minimum-idle: 5
      idle-timeout: 300000
      max-lifetime: 1800000
      connection-timeout: 10000
      validation-timeout: 5000
      connection-test-query: "SELECT 1"
      register-mbeans: true
```

–î–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –£–≤–µ–ª–∏—á–∏—Ç—å `maximum-pool-size` —Å —É—á–µ—Ç–æ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Å–µ—Ä–≤–µ—Ä–∞ –ë–î (–æ–±—ã—á–Ω–æ –Ω–µ –±–æ–ª–µ–µ 2-4 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –Ω–∞ —è–¥—Ä–æ CPU)
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ª–∏–º–∏—Ç—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –≤ PostgreSQL (`max_connections`)
3. –í–Ω–µ–¥—Ä–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ JMX –∏ Prometheus
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º Read/Write Splitting –¥–ª—è –±–æ–ª—å—à–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ —á—Ç–µ–Ω–∏—è

### üíæ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ –ø–∞–º—è—Ç–∏

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ JVM

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|------------------------|----------|
| –ù–∞—á–∞–ª—å–Ω–∞—è –∫—É—á–∞ (Xms) | 1 –ì–ë | –ù–∞—á–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫—É—á–∏ |
| –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∫—É—á–∞ (Xmx) | 4 –ì–ë | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫—É—á–∏ |
| –ú–µ—Ç–∞–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ | 256 –ú–ë | –ú–µ—Ç–∞–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤ |
| –°–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ | G1GC | –°–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ G1 |
| –†–∞–∑–º–µ—Ä –¥–∏—Ä–µ–∫—Ç–Ω—ã—Ö –±—É—Ñ–µ—Ä–æ–≤ | 128 –ú–ë | –î–ª—è –Ω–∞—Ç–∏–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ |

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
```bash
java -Xms1g -Xmx4g -XX:MetaspaceSize=256m -XX:MaxMetaspaceSize=256m -XX:+UseG1GC -XX:MaxDirectMemorySize=128m -jar backend-event.jar
```

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ä–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–æ–≤ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

| –¢–∏–ø —Ñ–∞–π–ª–∞ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä | –î–æ–ø—É—Å—Ç–∏–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ |
|-----------|---------------------|-------------------|--------------------------|
| –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π | 10 –ú–ë | JPEG, PNG, WebP | –†–µ—Å–∞–π–∑ –¥–æ 2000x1500 px |
| –ê–≤–∞—Ç–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | 5 –ú–ë | JPEG, PNG | –†–µ—Å–∞–π–∑ –¥–æ 400x400 px |
| –§–∞–π–ª—ã –±–∏–ª–µ—Ç–æ–≤ (PDF) | 2 –ú–ë | PDF | –ù–µ—Ç |
| –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã/–ª–æ–≥–æ—Ç–∏–ø—ã | 1 –ú–ë | SVG, PNG | –ù–µ—Ç |

–î–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å–æ–±—ã—Ç–∏–π —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
- –û—Ä–∏–≥–∏–Ω–∞–ª (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–∞)
- –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä (800x600 px)
- –ú–∏–Ω–∏–∞—Ç—é—Ä–∞ (300x225 px)
- –ü—Ä–µ–≤—å—é (150x100 px)

#### –ö–≤–æ—Ç—ã —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

| –¢–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –ö–≤–æ—Ç–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–µ–Ω–æ–≤—ã—Ö –æ–ø—Ü–∏–π |
|------------------|----------------------|-----------------------------------|----------------------------------------|
| –ë–∞–∑–æ–≤—ã–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä | 100 –ú–ë | 10 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π | 3 –Ω–∞ —Å–æ–±—ã—Ç–∏–µ |
| –ü—Ä–µ–º–∏—É–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä | 1 –ì–ë | 100 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π | 10 –Ω–∞ —Å–æ–±—ã—Ç–∏–µ |
| –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä | 10 –ì–ë | –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π | –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π |
| –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä | –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π | –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π | –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π |

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —Å–µ—Ä–≤–∏—Å–∞ –∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
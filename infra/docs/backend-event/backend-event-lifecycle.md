# –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã —Å–æ–±—ã—Ç–∏–π Aquastream

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ Aquastream, —Å—Ç–∞—Ç—É—Å—ã —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –∏—Ö –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏, –∞ —Ç–∞–∫–∂–µ –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ `backend-event`.

## üìë –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏—è](#-–∂–∏–∑–Ω–µ–Ω–Ω—ã–π-—Ü–∏–∫–ª-—Å–æ–±—ã—Ç–∏—è)
2. [üìã –°—Ç–∞—Ç—É—Å—ã –≤ —Å–∏—Å—Ç–µ–º–µ –∏ –∏—Ö –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏](#-—Å—Ç–∞—Ç—É—Å—ã-–≤-—Å–∏—Å—Ç–µ–º–µ-–∏-–∏—Ö-–≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏)
   - [–°—Ç–∞—Ç—É—Å—ã —Å–æ–±—ã—Ç–∏–π](#—Å—Ç–∞—Ç—É—Å—ã-—Å–æ–±—ã—Ç–∏–π)
   - [–°—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π](#—Å—Ç–∞—Ç—É—Å—ã-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π)
   - [–°—Ç–∞—Ç—É—Å—ã –ø–ª–∞—Ç–µ–∂–µ–π](#—Å—Ç–∞—Ç—É—Å—ã-–ø–ª–∞—Ç–µ–∂–µ–π)
   - [–°—Ç–∞—Ç—É—Å—ã –æ—Ç–∑—ã–≤–æ–≤](#—Å—Ç–∞—Ç—É—Å—ã-–æ—Ç–∑—ã–≤–æ–≤)
   - [–°–≤—è–∑—å —Å—Ç–∞—Ç—É—Å–æ–≤ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏](#—Å–≤—è–∑—å-—Å—Ç–∞—Ç—É—Å–æ–≤-–º–µ–∂–¥—É-—Å—É—â–Ω–æ—Å—Ç—è–º–∏)
   - [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Å—Ç–∞—Ç—É—Å–æ–≤](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏-—Å—Ç–∞—Ç—É—Å–æ–≤)
   - [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-–∞—Å–ø–µ–∫—Ç—ã-–æ–±—Ä–∞–±–æ—Ç–∫–∏-—Å—Ç–∞—Ç—É—Å–æ–≤)
3. [üì¶ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏](#-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-–º–æ–¥—É–ª–∏)
4. [üé¨ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#-—Å—Ü–µ–Ω–∞—Ä–∏–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
   - [–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –æ–ø–ª–∞—Ç—ã](#-—Å—Ü–µ–Ω–∞—Ä–∏–π-1-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–±–µ–∑-–æ–ø–ª–∞—Ç—ã)
   - [–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞](#-—Å—Ü–µ–Ω–∞—Ä–∏–π-2-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-—É—Å–ø–µ—à–Ω–∞—è-–æ–ø–ª–∞—Ç–∞)
   - [–û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º](#-—Å—Ü–µ–Ω–∞—Ä–∏–π-3-–æ—Ç–º–µ–Ω–∞-—Å–æ–±—ã—Ç–∏—è-–æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º)
   - [–ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–∞](#-—Å—Ü–µ–Ω–∞—Ä–∏–π-4-–º–æ–¥–µ—Ä–∞—Ü–∏—è-–æ—Ç–∑—ã–≤–∞)
   - [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ](#-—Å—Ü–µ–Ω–∞—Ä–∏–π-5-–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-—Å–æ–±—ã—Ç–∏—è-–≤-–∏–∑–±—Ä–∞–Ω–Ω–æ–µ)
   - [–û–±—â–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#-–æ–±—â–∞—è-–¥–∏–∞–≥—Ä–∞–º–º–∞-–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏—è

–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ Aquastream –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç—É—Å–æ–≤, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ –æ—Ç –º–æ–º–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ —Å–±–æ—Ä–∞ –æ—Ç–∑—ã–≤–æ–≤.

```mermaid
graph LR
    DRAFT("üìù DRAFT") -->|–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å| PUBLISHED("üì¢ PUBLISHED")
    PUBLISHED -->|–û—Ç–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º| CANCELED("‚ùå CANCELED")
    DRAFT -->|–û—Ç–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º| CANCELED
    PUBLISHED -->|–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è<br>–ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é| COMPLETED("‚úÖ COMPLETED")
    COMPLETED -->|–ü–æ—Å–ª–µ —Å–±–æ—Ä–∞<br>–æ—Ç–∑—ã–≤–æ–≤| REVIEWED("‚≠ê REVIEWED")
    PUBLISHED -->|–ù–µ–±–æ–ª—å—à–∏–µ<br>–∏–∑–º–µ–Ω–µ–Ω–∏—è| PUBLISHED
    PUBLISHED -->|–ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞—Ç—ã/–º–µ—Å—Ç–∞| RESCHEDULED("üîÑ RESCHEDULED")
    RESCHEDULED -->|–û—Ç–º–µ–Ω–∞ –ø—Ä–∏<br>–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏| CANCELED
    RESCHEDULED -->|–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ<br>–≤ –Ω–æ–≤—É—é –¥–∞—Ç—É| COMPLETED
    RESCHEDULED -->|–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ<br>–∏–∑–º–µ–Ω–µ–Ω–∏—è| RESCHEDULED
    RESCHEDULED -->|–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ<br>–∏—Å—Ö–æ–¥–Ω–æ–π –¥–∞—Ç—ã| PUBLISHED
    
    classDef autoTransition fill:#d9f7be,stroke:#389e0d;
    classDef manualTransition fill:#f5f5f5,stroke:#595959;
    
    class "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è<br>–ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é" autoTransition;
    class "–ü–æ—Å–ª–µ —Å–±–æ—Ä–∞<br>–æ—Ç–∑—ã–≤–æ–≤" autoTransition;
    class "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å" manualTransition;
    class "–û—Ç–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º" manualTransition;
    class "–ù–µ–±–æ–ª—å—à–∏–µ<br>–∏–∑–º–µ–Ω–µ–Ω–∏—è" manualTransition;
    class "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞—Ç—ã/–º–µ—Å—Ç–∞" manualTransition;
    class "–û—Ç–º–µ–Ω–∞ –ø—Ä–∏<br>–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏" manualTransition;
    class "–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ<br>–≤ –Ω–æ–≤—É—é –¥–∞—Ç—É" autoTransition;
    class "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ<br>–∏–∑–º–µ–Ω–µ–Ω–∏—è" manualTransition;
    class "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ<br>–∏—Å—Ö–æ–¥–Ω–æ–π –¥–∞—Ç—ã" manualTransition;
```

## üìã –°—Ç–∞—Ç—É—Å—ã –≤ —Å–∏—Å—Ç–µ–º–µ –∏ –∏—Ö –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏

### –°—Ç–∞—Ç—É—Å—ã —Å–æ–±—ã—Ç–∏–π

- **`DRAFT`** ‚Äî —á–µ—Ä–Ω–æ–≤–∏–∫ —Å–æ–±—ã—Ç–∏—è
  - –°–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏—è
  - –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—É –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º
  - –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Å–µ –¥–µ—Ç–∞–ª–∏ —Å–æ–±—ã—Ç–∏—è –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π
  - –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

- **`PUBLISHED`** ‚Äî –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å–æ–±—ã—Ç–∏–π
  - –î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
  - –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–æ–±–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
  - –ú–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ü–µ–Ω–æ–≤—ã–µ –æ–ø—Ü–∏–∏ –∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–ª–æ–∂–µ–Ω–Ω—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

- **`RESCHEDULED`** ‚Äî –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –Ω–∞ –¥—Ä—É–≥—É—é –¥–∞—Ç—É/–≤—Ä–µ–º—è
  - –í—Å–µ —Ç–µ–∫—É—â–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–µ–¥–æ–º–ª—è—é—Ç—Å—è –æ –ø–µ—Ä–µ–Ω–æ—Å–µ —Å–æ–±—ã—Ç–∏—è
  - –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã –±—Ä–æ–Ω–∏ —Å –ø–æ–ª–Ω—ã–º –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Å—Ä–µ–¥—Å—Ç–≤
  - –¢—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É—á–∞—Å—Ç–∏—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π

- **`CANCELED`** ‚Äî –æ—Ç–º–µ–Ω–µ–Ω–æ
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω—ã —á–µ—Ä–µ–∑ `backend-notification` (Kafka)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∏—Ä—É—é—Ç—Å—è –≤–æ–∑–≤—Ä–∞—Ç—ã —Å—Ä–µ–¥—Å—Ç–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–ª–∏—Ç–∏–∫–µ –≤–æ–∑–≤—Ä–∞—Ç–∞
  - –°–æ–±—ã—Ç–∏–µ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–º–µ–Ω—ë–Ω–Ω–æ–µ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
  - –û—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã —ç–∫–∏–ø–∞–∂–∞ —á–µ—Ä–µ–∑ `backend-crew`

- **`COMPLETED`** ‚Äî —Å–æ–±—ã—Ç–∏–µ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–æ
  - –î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–±—ã—Ç–∏–π
  - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
  - –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—É –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –æ—Ç–∑—ã–≤—ã

- **`REVIEWED`** ‚Äî —Å–æ–±—ã—Ç–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ –∏ –æ—Ü–µ–Ω–µ–Ω–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
  - –°–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥ –æ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
  - –û—Ç–∑—ã–≤—ã –º–æ–≥—É—Ç –±—ã—Ç—å –º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
  - –í–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–π—Ç–∏–Ω–≥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è –±—É–¥—É—â–∏—Ö —Å–æ–±—ã—Ç–∏–π

### –°—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π

- **`PENDING_PAYMENT`** ‚Äî –æ–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã
  - –ú–µ—Å—Ç–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è (–æ–±—ã—á–Ω–æ 2 —á–∞—Å–∞)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ `EXPIRED` –µ—Å–ª–∏ –æ–ø–ª–∞—Ç–∞ –Ω–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∞ –≤–æ–≤—Ä–µ–º—è
  - –ú–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–º–µ–Ω–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –±–µ–∑ —à—Ç—Ä–∞—Ñ–æ–≤

- **`CONFIRMED`** ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
  - –ú–µ—Å—Ç–∞ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω—ã –∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
  - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –±–∏–ª–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–µ
  - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è

- **`CANCELED`** ‚Äî –æ—Ç–º–µ–Ω–µ–Ω–æ
  - –ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (—Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–ª–∏—Ç–∏–∫–µ)
  - –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –æ—Ç–º–µ–Ω—ã —Å–æ–±—ã—Ç–∏—è (—Å –ø–æ–ª–Ω—ã–º –≤–æ–∑–≤—Ä–∞—Ç–æ–º)
  - –ú–µ—Å—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –¥–æ—Å—Ç—É–ø–Ω—ã–µ
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- **`EXPIRED`** ‚Äî —Å—Ä–æ–∫ –æ–∂–∏–¥–∞–Ω–∏—è –æ–ø–ª–∞—Ç—ã –∏—Å—Ç–µ–∫
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ú–µ—Å—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –¥–æ—Å—Ç—É–ø–Ω—ã–µ
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–µ–¥–æ–º–ª—è–µ—Ç—Å—è –æ –ø–æ—Ç–µ—Ä–µ –±—Ä–æ–Ω–∏
  - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

```mermaid
stateDiagram-v2
    [*] --> PENDING_PAYMENT: –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏
    
    PENDING_PAYMENT --> CONFIRMED: –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞
    PENDING_PAYMENT --> EXPIRED: –ò—Å—Ç–µ—á–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –æ–∂–∏–¥–∞–Ω–∏—è (2 —á–∞—Å–∞)
    PENDING_PAYMENT --> CANCELED: –û—Ç–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
    PENDING_PAYMENT --> CANCELED: –û—Ç–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º
    
    CONFIRMED --> CANCELED: –û—Ç–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º\n(—Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–ª–∏—Ç–∏–∫–µ)
    CONFIRMED --> CANCELED: –û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏—è\n(—Å –ø–æ–ª–Ω—ã–º –≤–æ–∑–≤—Ä–∞—Ç–æ–º)
    CONFIRMED --> [*]: –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è
    
    CANCELED --> [*]: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    EXPIRED --> [*]: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    
    note right of PENDING_PAYMENT
        –ú–µ—Å—Ç–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω—ã
        –û–ø–ª–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤
    end note
    
    note right of CONFIRMED
        –ú–µ—Å—Ç–∞ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω—ã
        –ë–∏–ª–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
        –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω
    end note
    
    note right of CANCELED
        –ú–µ—Å—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –≤ –¥–æ—Å—Ç—É–ø–Ω—ã–µ
        –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ (–µ—Å–ª–∏ –±—ã–ª–∞ –æ–ø–ª–∞—Ç–∞)
        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω—ã
    end note
    
    note right of EXPIRED
        –ú–µ—Å—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –≤ –¥–æ—Å—Ç—É–ø–Ω—ã–µ
        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–µ–¥–æ–º–ª–µ–Ω
        –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
    end note
```

### –°—Ç–∞—Ç—É—Å—ã –ø–ª–∞—Ç–µ–∂–µ–π
- **`INITIATED`** ‚Äî –ø–ª–∞—Ç–µ–∂ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω, –Ω–æ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω
- **`COMPLETED`** ‚Äî –ø–ª–∞—Ç–µ–∂ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω
- **`FAILED`** ‚Äî –ø–ª–∞—Ç–µ–∂ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω (–æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ)
- **`REFUNDED`** ‚Äî –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –ø–æ–ª–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤
- **`PARTIAL_REFUND`** ‚Äî –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω —á–∞—Å—Ç–∏—á–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤

### –°—Ç–∞—Ç—É—Å—ã –æ—Ç–∑—ã–≤–æ–≤
- **`PENDING`** ‚Äî –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- **`ACTIVE`** ‚Äî –æ–¥–æ–±—Ä–µ–Ω –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω
- **`REJECTED`** ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º

### –°–≤—è–∑—å —Å—Ç–∞—Ç—É—Å–æ–≤ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏
–°—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ —Å–æ–±—ã—Ç–∏–π:
- –î–ª—è —Å–æ–±—ã—Ç–∏–π –≤ —Å—Ç–∞—Ç—É—Å–µ **`PUBLISHED`** –∏ **`RESCHEDULED`** —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ —Å–æ–±—ã—Ç–∏—è –≤ —Å—Ç–∞—Ç—É—Å **`CANCELED`** –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è—é—Ç—Å—è
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å–æ–±—ã—Ç–∏—è –≤ —Å—Ç–∞—Ç—É—Å **`COMPLETED`** –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –∏–∑ **`DRAFT`** –≤ **`PUBLISHED`**
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–≥—É—Ç –æ—Ç–º–µ–Ω–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ (**`CANCELED`**)
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ –≤ **`COMPLETED`** –ø–æ—Å–ª–µ –¥–∞—Ç—ã –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è
- –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ –≤ **`REVIEWED`** –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–∑—ã–≤–æ–≤ –æ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –ü–µ—Ä–µ—Ö–æ–¥ –≤ **`RESCHEDULED`** –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–±—ã—Ç–∏–π –≤ —Å—Ç–∞—Ç—É—Å–µ **`PUBLISHED`**

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ PostgreSQL
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–±—ã—Ç–∏–π –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ Kafka –¥–ª—è –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Redis –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏

## üì¶ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏

### üîç –ö–∞—Ç–∞–ª–æ–≥ –∏ –¥–µ—Ç–∞–ª–∏ —Å–æ–±—ã—Ç–∏–π
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ü–æ –¥–∞—Ç–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: –ö–∞—Ä—Ç—ã, —ç–∫—Å–ø–æ—Ä—Ç iCal/ICS
- **–§—É–Ω–∫—Ü–∏–∏**: –ò–∑–±—Ä–∞–Ω–Ω–æ–µ, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: –¶–µ–Ω–∞, —Ä–µ–π—Ç–∏–Ω–≥, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä, –æ—Ç–∑—ã–≤—ã, —ç–∫–∏–ø–∞–∂
- **–≠–∫—Å–ø–æ—Ä—Ç**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF-–±–∏–ª–µ—Ç–æ–≤ –∏ —ç–∫—Å–ø–æ—Ä—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–∏ (iCal)

### üé´ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî –æ–¥–Ω–∞ –±—Ä–æ–Ω—å
- **–°—Ç–∞—Ç—É—Å—ã**: `PENDING_PAYMENT`, `CONFIRMED`, `CANCELED`, `EXPIRED`
- **–ó–∞—â–∏—Ç–∞**: –û—Ç overselling, –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- **–†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ú–µ—Å—Ç–æ –¥–æ –æ–ø–ª–∞—Ç—ã

### üí≥ –û–ø–ª–∞—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç—ã
- **–£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–∏–ª–µ—Ç–∞, —Å—Ç–∞—Ç—É—Å **`CONFIRMED`**
- **–ù–µ—É—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞**: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞
- **–ü—Ä–æ—Å—Ä–æ—á–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ–Ω–∞
- **–†—É—á–Ω–∞—è –æ—Ç–º–µ–Ω–∞**: –î–æ –æ–ø–ª–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- **–û—Ç–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º**: –ú–∞—Å—Å–æ–≤–∞—è –æ—Ç–º–µ–Ω–∞, –≤–æ–∑–≤—Ä–∞—Ç—ã

### üí∞ –ü–ª–∞—Ç–µ–∂–∏
- **–°—Ç–∞—Ç—É—Å—ã –ø–ª–∞—Ç–µ–∂–µ–π**: `INITIATED`, `COMPLETED`, `FAILED`, `REFUNDED`, `PARTIAL_REFUND`
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏ —Ä—É—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —à–ª—é–∑–∞–º–∏
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤ —á–µ—Ä–µ–∑ gateway_reference
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö —à–ª—é–∑–æ–≤**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ callbacks**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º PCI DSS

### üîÑ –ü–æ–ª–∏—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
- **–î–æ 7 –¥–Ω–µ–π**: 100% –≤–æ–∑–≤—Ä–∞—Ç
- **2‚Äì7 –¥–Ω–µ–π**: ~80% –≤–æ–∑–≤—Ä–∞—Ç
- **24‚Äì48 —á–∞—Å–æ–≤**: ~50% –≤–æ–∑–≤—Ä–∞—Ç
- **<24 —á–∞—Å–æ–≤**: –í–æ–∑–≤—Ä–∞—Ç –Ω–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è (–∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã)
- **–û—Ç–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º**: –ü–æ–ª–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ä–æ–∫–∞
- **–§–æ—Ä—Å-–º–∞–∂–æ—Ä**: –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–ª–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞
- **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è

### üì£ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–û—Ç–ø—Ä–∞–≤–∫–∞**: –ß–µ—Ä–µ–∑ `backend-notification` (Kafka)
- **–¢–∏–ø—ã**: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –æ–ø–ª–∞—Ç—ã, —ç–∫–∏–ø–∞–∂

### üë• –≠–∫–∏–ø–∞–∂
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ß–µ—Ä–µ–∑ `backend-crew`
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏ —Ä—É—á–Ω–æ–µ
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–ª–∏ –æ—Ç–º–µ–Ω–µ —Å–æ–±—ã—Ç–∏—è
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—É –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ/–ø–µ—Ä–µ–Ω–æ—Å–µ

### ‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
- **–§—É–Ω–∫—Ü–∏–∏**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- **–î–æ—Å—Ç—É–ø**: –¢–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ, –Ω–µ –ø—É–±–ª–∏—á–Ω–æ

### ‚≠ê –û—Ç–∑—ã–≤—ã
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ**: –û–¥–∏–Ω –æ—Ç–∑—ã–≤ –ø–æ—Å–ª–µ —Å–æ–±—ã—Ç–∏—è
- **–†–µ–π—Ç–∏–Ω–≥**: 1‚Äì5, —Å—Ç–∞—Ç—É—Å `PENDING` ‚Üí `ACTIVE` ‚Üí `REJECTED`
- **–ú–æ–¥–µ—Ä–∞—Ü–∏—è**: –û—Ç–≤–µ—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
- **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: –ü–æ –ø–æ–ª–µ–∑–Ω–æ—Å—Ç–∏

### üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–±—ã—Ç–∏–π
- **–ò–µ—Ä–∞—Ä—Ö–∏—è**: –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ-–¥–æ—á–µ—Ä–Ω–∏–µ —Å–≤—è–∑–∏
- **–í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**: –ò–∑ –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –£–¥–æ–±–Ω—ã–π –≤—ã–±–æ—Ä –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

### üîß –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è–º–∏**: –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–ö–æ–Ω—Ç—Ä–æ–ª—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –∏ –æ—Ç–∑—ã–≤–æ–≤**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å–µ—Ä–≤–∏—Å–∞
- **–û—Ç—á—ë—Ç–Ω–æ—Å—Ç—å**: –í–µ–¥–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–æ–≤, —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤ –∏ —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV
- **–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—Å–æ–≤–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞, –æ—Ç–º–µ–Ω—ã –∏ —Ä–∞—Å—Å—ã–ª–∫–∏

### üí≤ –¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: VIP, —Ä–∞–Ω–Ω—è—è —Ü–µ–Ω–∞, –≥—Ä—É–ø–ø–æ–≤—ã–µ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã
- **–ü—Ä–æ–º–æ–∫–æ–¥—ã**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö —Å–∫–∏–¥–æ–∫ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ**: –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ü–µ–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ø—Ä–æ—Å–∞
- **–°–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏**: –ü—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–æ—â—Ä–µ–Ω–∏—è –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

### üöÄ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞**: –•—Ä–∞–Ω–µ–Ω–∏–µ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö —Å–æ–±—ã—Ç–∏–π –≤ Redis —Å TTL
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, —à–∞–±–ª–æ–Ω–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: L1 (in-memory), L2 (Redis), L3 (PostgreSQL)
- **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫—ç—à–∞**: –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

### üîí –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö
- **–ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redis –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**: –ó–∞—â–∏—Ç–∞ –æ—Ç race condition –ø—Ä–∏ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–∏ –±–∏–ª–µ—Ç–æ–≤
- **–ú–µ—Ö–∞–Ω–∏–∑–º –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ

## üé¨ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üìã –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –æ–ø–ª–∞—Ç—ã
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—Ä–æ–Ω–∏—Ä—É–µ—Ç –±–∏–ª–µ—Ç, –Ω–æ –Ω–µ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –µ–≥–æ –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è –¥–µ–¥–ª–∞–π–Ω–∞. –ë—Ä–æ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å—Ç–µ–∫–∞–µ—Ç, –±–∏–ª–µ—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∂—É, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.
```mermaid
sequenceDiagram
    participant User as üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant EventSvc as üé´ –°–µ—Ä–≤–∏—Å —Å–æ–±—ã—Ç–∏–π
    participant NotifSvc as üì± –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    
    Note over User,NotifSvc: –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏ –±–µ–∑ –æ–ø–ª–∞—Ç—ã
    
    User->>EventSvc: –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –±–∏–ª–µ—Ç –Ω–∞ —Å–æ–±—ã—Ç–∏–µ
    EventSvc->>EventSvc: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–µ—Å—Ç
    EventSvc->>EventSvc: –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º PENDING_PAYMENT
    EventSvc->>NotifSvc: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–ø–ª–∞—Ç—ã
    EventSvc-->>User: –í–æ–∑–≤—Ä–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±—Ä–æ–Ω–∏ —Å –¥–µ–¥–ª–∞–π–Ω–æ–º –æ–ø–ª–∞—Ç—ã
    
    Note over EventSvc,NotifSvc: –ò—Å—Ç–µ—á–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –æ–∂–∏–¥–∞–Ω–∏—è (2 —á–∞—Å–∞)
    
    EventSvc->>EventSvc: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–µ–æ–ø–ª–∞—á–µ–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π —Å –∏—Å—Ç–µ–∫—à–∏–º –¥–µ–¥–ª–∞–π–Ω–æ–º
    EventSvc->>EventSvc: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏ –Ω–∞ EXPIRED
    EventSvc->>EventSvc: –í–æ–∑–≤—Ä–∞—Ç –º–µ—Å—Ç –≤ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏
    EventSvc->>NotifSvc: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç–º–µ–Ω–µ –±—Ä–æ–Ω–∏
    NotifSvc-->>User: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–í–∞—à–∞ –±—Ä–æ–Ω—å –æ—Ç–º–µ–Ω–µ–Ω–∞ –∏–∑-–∑–∞ –Ω–µ–æ–ø–ª–∞—Ç—ã"
```

### üí≥ –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—Ä–æ–Ω–∏—Ä—É–µ—Ç –±–∏–ª–µ—Ç —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º –∏ —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –µ–≥–æ. –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –±–∏–ª–µ—Ç, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä —É–≤–µ–¥–æ–º–ª—è–µ—Ç—Å—è.
```mermaid
sequenceDiagram
    participant User as üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant EventSvc as üé´ –°–µ—Ä–≤–∏—Å —Å–æ–±—ã—Ç–∏–π
    participant PayGW as üí∞ –ü–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑
    participant NotifSvc as üì± –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    participant Org as üëî –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä
    
    Note over User,NotifSvc: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–ø–ª–∞—Ç–∞ –±—Ä–æ–Ω–∏
    
    User->>EventSvc: –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º WELCOME2023
    EventSvc->>EventSvc: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞
    EventSvc->>EventSvc: –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º PENDING_PAYMENT
    EventSvc-->>User: –í–æ–∑–≤—Ä–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±—Ä–æ–Ω–∏ —Å–æ —Å–∫–∏–¥–∫–æ–π
    User->>PayGW: –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –ø–æ –±—Ä–æ–Ω–∏
    PayGW-->>EventSvc: –í–µ–±—Ö—É–∫ –æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –æ–ø–ª–∞—Ç—ã
    
    Note over EventSvc,NotifSvc: –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
    
    EventSvc->>EventSvc: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏ –Ω–∞ CONFIRMED
    EventSvc->>NotifSvc: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–∏–ª–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    NotifSvc-->>User: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å PDF-–±–∏–ª–µ—Ç–æ–º –∏ QR-–∫–æ–¥–æ–º
    EventSvc->>NotifSvc: –£–≤–µ–¥–æ–º–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞ –æ –Ω–æ–≤–æ–π –±—Ä–æ–Ω–∏
    NotifSvc-->>Org: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–µ
```

### ‚ùå –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º
–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –æ—Ç–º–µ–Ω—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ. –í—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–º–µ–Ω—è—é—Ç—Å—è, –∏–Ω–∏—Ü–∏–∏—Ä—É—é—Ç—Å—è –≤–æ–∑–≤—Ä–∞—Ç—ã, —É—á–∞—Å—Ç–Ω–∏–∫–∏ —É–≤–µ–¥–æ–º–ª—è—é—Ç—Å—è.
```mermaid
sequenceDiagram
    participant Org as üëî –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä
    participant EventSvc as üé´ –°–µ—Ä–≤–∏—Å —Å–æ–±—ã—Ç–∏–π
    participant BookDB as üíæ –ë–∞–∑–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
    participant PayGW as üí∞ –ü–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑
    participant NotifSvc as üì± –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    participant User as üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    
    Note over Org,NotifSvc: –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–º–µ–Ω—ã —Å–æ–±—ã—Ç–∏—è
    
    Org->>EventSvc: –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–º–µ–Ω—É —Å–æ–±—ã—Ç–∏—è
    EventSvc->>EventSvc: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
    EventSvc->>EventSvc: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–±—ã—Ç–∏—è –Ω–∞ CANCELED
    
    Note over EventSvc,User: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
    
    EventSvc->>BookDB: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è
    BookDB-->>EventSvc: –°–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π (PENDING_PAYMENT, CONFIRMED)
    
    loop –î–ª—è –∫–∞–∂–¥–æ–π –±—Ä–æ–Ω–∏
        EventSvc->>EventSvc: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏ –Ω–∞ CANCELED
        
        alt –ë—Ä–æ–Ω—å –±—ã–ª–∞ –æ–ø–ª–∞—á–µ–Ω–∞ (CONFIRMED)
            EventSvc->>PayGW: –ó–∞–ø—Ä–æ—Å –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤
            PayGW-->>EventSvc: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞
        end
        
        EventSvc->>NotifSvc: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤–æ–∑–≤—Ä–∞—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        NotifSvc-->>User: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–°–æ–±—ã—Ç–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ, —Å—Ä–µ–¥—Å—Ç–≤–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã"
    end
    
    EventSvc->>NotifSvc: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º
    NotifSvc-->>User: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –ø—Ä–∏—á–∏–Ω–æ–π –æ—Ç–º–µ–Ω—ã –∏ –∏–∑–≤–∏–Ω–µ–Ω–∏—è–º–∏
```

### ‚≠ê –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–∑—ã–≤. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–¥–µ—Ä–∏—Ä—É–µ—Ç –∏ –º–æ–∂–µ—Ç –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –æ—Ç–∑—ã–≤ –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –ø—Ä–∞–≤–∏–ª, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.
```mermaid
sequenceDiagram
    participant User as üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant EventSvc as üé´ –°–µ—Ä–≤–∏—Å —Å–æ–±—ã—Ç–∏–π
    participant Admin as üõ°Ô∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
    participant NotifSvc as üì± –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    
    Note over User,EventSvc: –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞
    
    User->>EventSvc: –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –æ —Å–æ–±—ã—Ç–∏–∏
    EventSvc->>EventSvc: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª (—É—á–∞—Å—Ç–∏–µ –≤ —Å–æ–±—ã—Ç–∏–∏)
    EventSvc->>EventSvc: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º PENDING
    EventSvc-->>User: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞
    
    Note over Admin,NotifSvc: –ü—Ä–æ—Ü–µ—Å—Å –º–æ–¥–µ—Ä–∞—Ü–∏–∏
    
    Admin->>EventSvc: –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –º–æ–¥–µ—Ä–∞—Ü–∏–∏
    EventSvc-->>Admin: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
    Admin->>EventSvc: –û—Ç–∫–ª–æ–Ω–∏—Ç—å –æ—Ç–∑—ã–≤ (–Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª)
    EventSvc->>EventSvc: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–∑—ã–≤–∞ –Ω–∞ REJECTED
    EventSvc->>NotifSvc: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
    NotifSvc-->>User: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–í–∞—à –æ—Ç–∑—ã–≤ –æ—Ç–∫–ª–æ–Ω–µ–Ω. –ü—Ä–∏—á–∏–Ω–∞: –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª"
```

### ‚ù§Ô∏è –°—Ü–µ–Ω–∞—Ä–∏–π 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è.
```mermaid
sequenceDiagram
    participant User as üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant EventSvc as üé´ –°–µ—Ä–≤–∏—Å —Å–æ–±—ã—Ç–∏–π
    participant DB as üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
    participant NotifSvc as üì± –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    
    Note over User,EventSvc: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
    
    User->>EventSvc: –ù–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
    EventSvc->>EventSvc: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    EventSvc->>DB: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-—Å–æ–±—ã—Ç–∏–µ
    DB-->>EventSvc: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
    EventSvc-->>User: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    
    Note over EventSvc,User: –ü–µ—Ä–µ–¥ —Å–æ–±—ã—Ç–∏–µ–º (–∑–∞ 24 —á–∞—Å–∞)
    
    EventSvc->>DB: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π, –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è –≤ –±–ª–∏–∂–∞–π—à–∏–µ 24—á
    DB-->>EventSvc: –°–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –¥–æ–±–∞–≤–∏–≤—à–∏–º–∏ –∏—Ö –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
    EventSvc->>NotifSvc: –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
    NotifSvc-->>User: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–ù–∞–ø–æ–º–∏–Ω–∞–µ–º –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–µ–º —Å–æ–±—ã—Ç–∏–∏ –∑–∞–≤—Ç—Ä–∞"
```

### üìä –û–±—â–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```mermaid
graph TB
    %% –ê–∫—Ç–æ—Ä—ã
    Guest["üë§ –ì–æ—Å—Ç—å"]
    User["üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"]
    Organizer["üëî –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä"]
    Admin["üõ°Ô∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"]
    
    %% Use Cases –¥–ª—è –ì–æ—Å—Ç—è
    UC1["–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ —Å–æ–±—ã—Ç–∏–π"]
    UC2["–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π"]
    UC3["–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–±—ã—Ç–∏–∏"]
    UC4["–ß—Ç–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤"]
    
    %% Use Cases –¥–ª—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    UC5["–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–µ—Ç–æ–≤"]
    UC6["–û–ø–ª–∞—Ç–∞ –±–∏–ª–µ—Ç–æ–≤"]
    UC7["–û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"]
    UC8["–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"]
    UC9["–û—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤"]
    
    %% Use Cases –¥–ª—è –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
    UC10["–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π"]
    UC11["–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π"]
    UC12["–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π"]
    UC13["–û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏–π"]
    UC14["–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏"]
    UC15["–û—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Ç–∑—ã–≤—ã"]
    UC16["–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —ç–∫–∏–ø–∞–∂–∞"]
    
    %% Use Cases –¥–ª—è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    UC17["–ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤"]
    UC18["–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"]
    UC19["–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏"]
    UC20["–ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏"]
    
    %% –°–≤—è–∑–∏ –ì–æ—Å—Ç—è
    Guest --> UC1
    Guest --> UC2
    Guest --> UC3
    Guest --> UC4
    
    %% –°–≤—è–∑–∏ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤–∫–ª—é—á–∞—è –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ì–æ—Å—Ç—è)
    User --> UC1
    User --> UC2
    User --> UC3
    User --> UC4
    User --> UC5
    User --> UC6
    User --> UC7
    User --> UC8
    User --> UC9
    
    %% –°–≤—è–∑–∏ –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
    Organizer --> UC10
    Organizer --> UC11
    Organizer --> UC12
    Organizer --> UC13
    Organizer --> UC14
    Organizer --> UC15
    Organizer --> UC16
    Organizer --> UC20
    
    %% –°–≤—è–∑–∏ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    Admin --> UC1
    Admin --> UC2
    Admin --> UC3
    Admin --> UC5
    Admin --> UC7
    Admin --> UC10
    Admin --> UC11
    Admin --> UC12
    Admin --> UC13
    Admin --> UC17
    Admin --> UC18
    Admin --> UC19
    Admin --> UC20
    
    %% –°—Ç–∏–ª–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    classDef actor fill:#f9f9f9,stroke:#333,stroke-width:2px;
    classDef usecase fill:#e6f7ff,stroke:#1890ff,stroke-width:1px;
    
    class Guest,User,Organizer,Admin actor;
    class UC1,UC2,UC3,UC4,UC5,UC6,UC7,UC8,UC9,UC10,UC11,UC12,UC13,UC14,UC15,UC16,UC17,UC18,UC19,UC20 usecase;
``` 
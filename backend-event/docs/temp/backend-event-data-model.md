# –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ Backend-Event

> **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞:** –æ–ø–∏—Å–∞—Ç—å –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö, —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—É—â–Ω–æ—Å—Ç–µ–π, –∏—Ö –∞—Ç—Ä–∏–±—É—Ç—ã –∏ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–µ `backend-event`.

## üìä –û–±–∑–æ—Ä –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å `backend-event` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–±—ã—Ç–∏—è—Ö, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è—Ö, –æ—Ç–∑—ã–≤–∞—Ö –∏ –¥—Ä—É–≥–∏—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç—è—Ö. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å —É—á–µ—Ç–æ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π:

- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–æ—Å—Ç–µ –æ–±—ä–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –∞—Ç—Ä–∏–±—É—Ç—ã

### üé≠ Event (–°–æ–±—ã—Ç–∏–µ)
–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–∏.

| –ê—Ç—Ä–∏–±—É—Ç | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---------|-----|----------|--------------|-------------|
| id | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–±—ã—Ç–∏—è | –î–∞ | PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π |
| title | VARCHAR(200) | –ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è | –î–∞ | min 3 —Å–∏–º–≤–æ–ª–∞ |
| description | TEXT | –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è | –î–∞ | max 5000 —Å–∏–º–≤–æ–ª–æ–≤ |
| short_description | VARCHAR(500) | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ | –î–∞ | max 500 —Å–∏–º–≤–æ–ª–æ–≤ |
| organizer_id | UUID | ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞ (ref: User) | –î–∞ | FK –Ω–∞ users.id |
| category_id | UUID | ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (ref: Category) | –î–∞ | FK –Ω–∞ categories.id |
| location | JSONB | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è | –î–∞ | –° –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ |
| start_datetime | TIMESTAMP | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ | –î–∞ | >= —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã |
| end_datetime | TIMESTAMP | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è | –î–∞ | > start_datetime |
| max_participants | INT | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ | –î–∞ | > 0 |
| min_participants | INT | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ | –ù–µ—Ç | >= 0 |
| status | ENUM | –°—Ç–∞—Ç—É—Å —Å–æ–±—ã—Ç–∏—è (DRAFT, PUBLISHED, –∏ —Ç.–¥.) | –î–∞ | –ò–∑ —Å–ø–∏—Å–∫–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö |
| visibility | ENUM | –í–∏–¥–∏–º–æ—Å—Ç—å (PUBLIC, PRIVATE, UNLISTED) | –î–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é PUBLIC |
| cover_image_url | VARCHAR(1024) | URL –æ–±–ª–æ–∂–∫–∏ | –ù–µ—Ç | –í–∞–ª–∏–¥–Ω—ã–π URL |
| gallery_images | JSONB | –ú–∞—Å—Å–∏–≤ —Å—Å—ã–ª–æ–∫ –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | –ù–µ—Ç | –î–æ 20 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π |
| tags | JSONB | –ú–∞—Å—Å–∏–≤ —Ç–µ–≥–æ–≤ | –ù–µ—Ç | –î–æ 10 —Ç–µ–≥–æ–≤ |
| created_at | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ |
| updated_at | TIMESTAMP | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
| price_options | JSONB | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ü–µ–Ω–∞—Ö –∏ –±–∏–ª–µ—Ç–∞—Ö | –î–∞ | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON |
| refund_policy | JSONB | –ü–æ–ª–∏—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ | –î–∞ | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON |
| recurrence_rule | JSONB | –ü—Ä–∞–≤–∏–ª–æ –ø–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç–∏ (–¥–ª—è —Å–µ—Ä–∏–π–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π) | –ù–µ—Ç | iCal RFC 5545 —Ñ–æ—Ä–º–∞—Ç |
| is_featured | BOOLEAN | –°–æ–±—ã—Ç–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ | –ù–µ—Ç | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é false |
| version | INT | –í–µ—Ä—Å–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ | –î–∞ | –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç |

### üë§ Booking (–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
–ó–∞–ø–∏—Å—å –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –º–µ—Å—Ç–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

| –ê—Ç—Ä–∏–±—É—Ç | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---------|-----|----------|--------------|-------------|
| id | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –±—Ä–æ–Ω–∏ | –î–∞ | PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π |
| event_id | UUID | ID —Å–æ–±—ã—Ç–∏—è (ref: Event) | –î–∞ | FK –Ω–∞ events.id |
| user_id | UUID | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ref: User) | –î–∞ | FK –Ω–∞ users.id |
| status | ENUM | –°—Ç–∞—Ç—É—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | –î–∞ | PENDING_PAYMENT, CONFIRMED, CANCELED, EXPIRED |
| price_option_id | UUID | ID –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞ (ref: PriceOption) | –î–∞ | FK –Ω–∞ price_options.id |
| quantity | INT | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤ | –î–∞ | > 0 |
| total_price | DECIMAL(10,2) | –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å | –î–∞ | >= 0 |
| discount | DECIMAL(10,2) | –†–∞–∑–º–µ—Ä —Å–∫–∏–¥–∫–∏ | –ù–µ—Ç | >= 0 |
| promocode | VARCHAR(50) | –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ | –ù–µ—Ç | –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è |
| payment_id | UUID | ID –ø–ª–∞—Ç–µ–∂–∞ (ref: Payment) | –ù–µ—Ç | FK –Ω–∞ payments.id |
| created_at | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ |
| updated_at | TIMESTAMP | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
| expires_at | TIMESTAMP | –í—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è –Ω–µ–æ–ø–ª–∞—á–µ–Ω–Ω–æ–π –±—Ä–æ–Ω–∏ | –ù–µ—Ç | –î–ª—è PENDING_PAYMENT |
| ticket_data | JSONB | –î–∞–Ω–Ω—ã–µ –¥–ª—è –±–∏–ª–µ—Ç–∞ | –ù–µ—Ç | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–∏–ª–µ—Ç–∞ |
| attendee_info | JSONB | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—á–∞—Å—Ç–Ω–∏–∫–µ | –ù–µ—Ç | –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| notes | TEXT | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é | –ù–µ—Ç | –î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |

### üí∞ Payment (–ü–ª–∞—Ç–µ–∂)
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–ª–∞—Ç–µ–∂–µ –∑–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.

| –ê—Ç—Ä–∏–±—É—Ç | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---------|-----|----------|--------------|-------------|
| id | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–ª–∞—Ç–µ–∂–∞ | –î–∞ | PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π |
| booking_id | UUID | ID –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (ref: Booking) | –î–∞ | FK –Ω–∞ bookings.id |
| user_id | UUID | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ref: User) | –î–∞ | FK –Ω–∞ users.id |
| status | ENUM | –°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞ | –î–∞ | INITIATED, COMPLETED, FAILED, REFUNDED |
| amount | DECIMAL(10,2) | –°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞ | –î–∞ | > 0 |
| payment_method | VARCHAR(50) | –ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã | –î–∞ | card, applepay, googlepay, –∏ —Ç.–¥. |
| payment_provider | VARCHAR(50) | –ü—Ä–æ–≤–∞–π–¥–µ—Ä –ø–ª–∞—Ç–µ–∂–µ–π | –î–∞ | –ù–∞–ø—Ä–∏–º–µ—Ä, Stripe, PayPal |
| payment_provider_id | VARCHAR(100) | ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ | –ù–µ—Ç | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º |
| refunded_amount | DECIMAL(10,2) | –í–æ–∑–≤—Ä–∞—â–µ–Ω–Ω–∞—è —Å—É–º–º–∞ | –ù–µ—Ç | <= amount |
| created_at | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ |
| updated_at | TIMESTAMP | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
| metadata | JSONB | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ | –ù–µ—Ç | –î–ª—è —Å–≤–µ—Ä–∫–∏ –∏ –∞—É–¥–∏—Ç–∞ |

### ‚≠ê Review (–û—Ç–∑—ã–≤)
–û—Ç–∑—ã–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –ø–æ—Å–µ—â–µ–Ω–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏.

| –ê—Ç—Ä–∏–±—É—Ç | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---------|-----|----------|--------------|-------------|
| id | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç–∑—ã–≤–∞ | –î–∞ | PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π |
| event_id | UUID | ID —Å–æ–±—ã—Ç–∏—è (ref: Event) | –î–∞ | FK –Ω–∞ events.id |
| user_id | UUID | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ref: User) | –î–∞ | FK –Ω–∞ users.id |
| booking_id | UUID | ID –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (ref: Booking) | –î–∞ | FK –Ω–∞ bookings.id |
| rating | INT | –û—Ü–µ–Ω–∫–∞ –æ—Ç 1 –¥–æ 5 | –î–∞ | 1-5 |
| comment | TEXT | –¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞ | –ù–µ—Ç | max 2000 —Å–∏–º–≤–æ–ª–æ–≤ |
| status | ENUM | –°—Ç–∞—Ç—É—Å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ | –î–∞ | PENDING, ACTIVE, REJECTED |
| created_at | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ |
| updated_at | TIMESTAMP | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
| moderated_by | UUID | ID –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ (ref: User) | –ù–µ—Ç | FK –Ω–∞ users.id |
| moderation_comment | TEXT | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ | –ù–µ—Ç | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π |
| organizer_response | TEXT | –û—Ç–≤–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞ | –ù–µ—Ç | max 1000 —Å–∏–º–≤–æ–ª–æ–≤ |
| media_urls | JSONB | –ú–∞—Å—Å–∏–≤ —Å—Å—ã–ª–æ–∫ –Ω–∞ –º–µ–¥–∏–∞ (—Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ) | –ù–µ—Ç | –î–æ 5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ |

### üîñ Category (–ö–∞—Ç–µ–≥–æ—Ä–∏—è)
–ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏.

| –ê—Ç—Ä–∏–±—É—Ç | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---------|-----|----------|--------------|-------------|
| id | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | –î–∞ | PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π |
| name | VARCHAR(100) | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | –î–∞ | –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ |
| description | TEXT | –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | –ù–µ—Ç | |
| icon_url | VARCHAR(1024) | URL –∏–∫–æ–Ω–∫–∏ | –ù–µ—Ç | –í–∞–ª–∏–¥–Ω—ã–π URL |
| parent_id | UUID | ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | –ù–µ—Ç | FK –Ω–∞ categories.id, null –¥–ª—è –∫–æ—Ä–Ω–µ–≤—ã—Ö |
| sort_order | INT | –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ | –î–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 |
| is_active | BOOLEAN | –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | –î–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é true |
| created_at | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ |
| updated_at | TIMESTAMP | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |

### ‚ù§Ô∏è Favorite (–ò–∑–±—Ä–∞–Ω–Ω–æ–µ)
–°–≤—è–∑—å –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ —Å–æ–±—ã—Ç–∏–µ–º, –ø–æ–º–µ—á–µ–Ω–Ω—ã–º –∫–∞–∫ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ.

| –ê—Ç—Ä–∏–±—É—Ç | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---------|-----|----------|--------------|-------------|
| id | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ | –î–∞ | PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π |
| user_id | UUID | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ref: User) | –î–∞ | FK –Ω–∞ users.id |
| event_id | UUID | ID —Å–æ–±—ã—Ç–∏—è (ref: Event) | –î–∞ | FK –Ω–∞ events.id |
| created_at | TIMESTAMP | –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ | –î–∞ | –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ |
| notification_enabled | BOOLEAN | –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö | –î–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é true |

### üé´ PriceOption (–¶–µ–Ω–æ–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç)
–í–∞—Ä–∏–∞–Ω—Ç —Ü–µ–Ω –∏ —É—Å–ª–æ–≤–∏–π –¥–ª—è –±–∏–ª–µ—Ç–æ–≤.

| –ê—Ç—Ä–∏–±—É—Ç | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---------|-----|----------|--------------|-------------|
| id | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä | –î–∞ | PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π |
| event_id | UUID | ID —Å–æ–±—ã—Ç–∏—è (ref: Event) | –î–∞ | FK –Ω–∞ events.id |
| name | VARCHAR(100) | –ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø—Ü–∏–∏ (VIP, –°—Ç–∞–Ω–¥–∞—Ä—Ç) | –î–∞ | |
| description | TEXT | –û–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–Ω–æ–≤–æ–π –æ–ø—Ü–∏–∏ | –ù–µ—Ç | |
| price | DECIMAL(10,2) | –°—Ç–æ–∏–º–æ—Å—Ç—å | –î–∞ | >= 0 |
| quantity_available | INT | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤ | –î–∞ | >= 0 |
| is_active | BOOLEAN | –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–ø—Ü–∏–∏ | –î–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é true |
| start_sale_date | TIMESTAMP | –ù–∞—á–∞–ª–æ –ø—Ä–æ–¥–∞–∂ | –ù–µ—Ç | |
| end_sale_date | TIMESTAMP | –û–∫–æ–Ω—á–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂ | –ù–µ—Ç | |
| benefits | JSONB | –°–ø–∏—Å–æ–∫ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ | –ù–µ—Ç | –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ |
| created_at | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ |
| updated_at | TIMESTAMP | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |

### üéÅ Promocode (–ü—Ä–æ–º–æ–∫–æ–¥)
–ü—Ä–æ–º–æ–∫–æ–¥—ã –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–∫–∏–¥–æ–∫.

| –ê—Ç—Ä–∏–±—É—Ç | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---------|-----|----------|--------------|-------------|
| id | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä | –î–∞ | PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π |
| code | VARCHAR(50) | –ö–æ–¥ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è | –î–∞ | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π, —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π |
| event_id | UUID | ID —Å–æ–±—ã—Ç–∏—è (ref: Event) | –ù–µ—Ç | FK –Ω–∞ events.id, null –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö |
| discount_type | ENUM | –¢–∏–ø —Å–∫–∏–¥–∫–∏ | –î–∞ | PERCENTAGE, FIXED_AMOUNT |
| discount_value | DECIMAL(10,2) | –†–∞–∑–º–µ—Ä —Å–∫–∏–¥–∫–∏ | –î–∞ | > 0 |
| usage_limit | INT | –õ–∏–º–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π | –ù–µ—Ç | null –¥–ª—è –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ |
| used_count | INT | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π | –î–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 |
| is_active | BOOLEAN | –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥–∞ | –î–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é true |
| valid_from | TIMESTAMP | –ù–∞—á–∞–ª–æ –¥–µ–π—Å—Ç–≤–∏—è | –î–∞ | |
| valid_to | TIMESTAMP | –û–∫–æ–Ω—á–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è | –ù–µ—Ç | null –¥–ª—è –±–µ—Å—Å—Ä–æ—á–Ω—ã—Ö |
| min_order_amount | DECIMAL(10,2) | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞ | –ù–µ—Ç | >= 0 |
| created_at | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ |
| updated_at | TIMESTAMP | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è | –î–∞ | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |

## üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏

```mermaid
erDiagram
    EVENT {
        uuid id PK
        varchar title
        text description
        uuid organizer_id FK
        uuid category_id FK
        jsonb location
        timestamp start_datetime
        timestamp end_datetime
        int max_participants
        enum status
        enum visibility
        jsonb price_options
        int version
    }
    
    CATEGORY {
        uuid id PK
        varchar name
        text description
        uuid parent_id FK
        int sort_order
        boolean is_active
    }
    
    BOOKING {
        uuid id PK
        uuid event_id FK
        uuid user_id FK
        enum status
        uuid price_option_id FK
        int quantity
        decimal total_price
        uuid payment_id FK
        timestamp expires_at
    }
    
    PAYMENT {
        uuid id PK
        uuid booking_id FK
        uuid user_id FK
        enum status
        decimal amount
        varchar payment_method
        decimal refunded_amount
    }
    
    REVIEW {
        uuid id PK
        uuid event_id FK
        uuid user_id FK
        uuid booking_id FK
        int rating
        text comment
        enum status
        uuid moderated_by FK
    }
    
    FAVORITE {
        uuid id PK
        uuid user_id FK
        uuid event_id FK
        timestamp created_at
    }
    
    PRICE_OPTION {
        uuid id PK
        uuid event_id FK
        varchar name
        decimal price
        int quantity_available
        boolean is_active
    }
    
    PROMOCODE {
        uuid id PK
        varchar code
        uuid event_id FK
        enum discount_type
        decimal discount_value
        int usage_limit
        boolean is_active
    }
    
    USER {
        uuid id PK
        varchar username
        varchar email
        varchar role
    }
    
    EVENT ||--o{ BOOKING : "–∏–º–µ–µ—Ç"
    EVENT ||--o{ REVIEW : "–ø–æ–ª—É—á–∞–µ—Ç"
    EVENT ||--o{ FAVORITE : "–≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º —É"
    EVENT ||--o{ PRICE_OPTION : "–ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç"
    EVENT ||--o{ PROMOCODE : "–∏–º–µ–µ—Ç"
    EVENT }|--|| CATEGORY : "–æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫"
    USER ||--o{ EVENT : "–æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç"
    USER ||--o{ BOOKING : "—Å–æ–∑–¥–∞–µ—Ç"
    USER ||--o{ REVIEW : "–ø–∏—à–µ—Ç"
    USER ||--o{ FAVORITE : "–¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
    USER ||--o{ PAYMENT : "—Å–æ–≤–µ—Ä—à–∞–µ—Ç"
    BOOKING ||--o| PAYMENT : "–∏–º–µ–µ—Ç"
    BOOKING }|--|| PRICE_OPTION : "–∏—Å–ø–æ–ª—å–∑—É–µ—Ç"
    BOOKING ||--o| REVIEW : "–º–æ–∂–µ—Ç –∏–º–µ—Ç—å"
```

## üîí –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

1. **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∞–∫—Ç–∏–≤–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ (–Ω–µ CANCELED/EXPIRED)
   - –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –±—Ä–æ–Ω–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–º–µ–Ω–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â—É—é

2. **–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–µ—Å—Ç:**
   - –û–±—â–µ–µ —á–∏—Å–ª–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å max_participants —Å–æ–±—ã—Ç–∏—è
   - –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–º–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

3. **–ü—Ä–∞–≤–∏–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤:**
   - –°–æ–±—ã—Ç–∏–µ –º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ —Å—Ç–∞—Ç—É—Å–∞—Ö DRAFT, PUBLISHED –∏–ª–∏ RESCHEDULED
   - –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ —Å–æ–±—ã—Ç–∏—è –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è—é—Ç—Å—è
   - –°–æ–±—ã—Ç–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ COMPLETED —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è

4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –æ—Ç–∑—ã–≤—ã:**
   - –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º (CONFIRMED)
   - –û—Ç–∑—ã–≤ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è (—Å–æ–±—ã—Ç–∏–µ –≤ —Å—Ç–∞—Ç—É—Å–µ COMPLETED)
   - –ù–∞ –æ–¥–Ω–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –æ—Ç–∑—ã–≤

5. **–ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤:**
   - –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å—Ç–µ–∫—à–∏–π –∏–ª–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥
   - –ü—Ä–æ–º–æ–∫–æ–¥ –¥–µ–π—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è (–∏–ª–∏ –¥–ª—è –≤—Å–µ—Ö, –µ—Å–ª–∏ event_id = null)
   - –ù–µ–ª—å–∑—è –ø—Ä–µ–≤—ã—Å–∏—Ç—å –ª–∏–º–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π –ø—Ä–æ–º–æ–∫–æ–¥–∞

## üìä –ò–Ω–¥–µ–∫—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã:

| –¢–∞–±–ª–∏—Ü–∞ | –ò–Ω–¥–µ–∫—Å | –¢–∏–ø | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|--------|-----|------------|
| events | events_organizer_id_idx | BTREE | –ü–æ–∏—Å–∫ —Å–æ–±—ã—Ç–∏–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞ |
| events | events_category_id_idx | BTREE | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º |
| events | events_status_idx | BTREE | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º |
| events | events_start_datetime_idx | BTREE | –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ |
| events | events_location_idx | GIN | –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ |
| events | events_tags_idx | GIN | –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º |
| bookings | bookings_event_id_idx | BTREE | –ü–æ–ª—É—á–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –ø–æ —Å–æ–±—ã—Ç–∏—é |
| bookings | bookings_user_id_idx | BTREE | –ò—Å—Ç–æ—Ä–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| bookings | bookings_status_idx | BTREE | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º |
| reviews | reviews_event_id_idx | BTREE | –û—Ç–∑—ã–≤—ã –¥–ª—è —Å–æ–±—ã—Ç–∏—è |
| reviews | reviews_user_id_idx | BTREE | –û—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| reviews | reviews_status_idx | BTREE | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É –º–æ–¥–µ—Ä–∞—Ü–∏–∏ |
| favorites | favorites_unique_idx | UNIQUE | –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å user_id + event_id |
| promocodes | promocodes_code_idx | UNIQUE | –ü–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É |

## üíæ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –º–æ–∫–∏

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–±–ª–æ–Ω—ã –¥–∞–Ω–Ω—ã—Ö:

### –ü—Ä–∏–º–µ—Ä —Å–æ–±—ã—Ç–∏—è
```json
{
  "id": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
  "title": "–Ø—Ö—Ç–∏–Ω–≥ –≤ –ö–∞—Ä–∏–±—Å–∫–æ–º –º–æ—Ä–µ: –Ω–µ–¥–µ–ª—å–Ω—ã–π –∫—Ä—É–∏–∑",
  "description": "–ü—Ä–∏–≥–ª–∞—à–∞–µ–º –≤–∞—Å –Ω–∞ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø–æ –ö–∞—Ä–∏–±—Å–∫–∏–º –æ—Å—Ç—Ä–æ–≤–∞–º –Ω–∞ –∫–æ–º—Ñ–æ—Ä—Ç–∞–±–µ–ª—å–Ω–æ–π —è—Ö—Ç–µ. –í—ã —É–≤–∏–¥–∏—Ç–µ –∫—Ä–∞—Å–∏–≤–µ–π—à–∏–µ –±—É—Ö—Ç—ã, –∏—Å–∫—É–ø–∞–µ—Ç–µ—Å—å –≤ –∫—Ä–∏—Å—Ç–∞–ª—å–Ω–æ —á–∏—Å—Ç–æ–π –≤–æ–¥–µ –∏ –Ω–∞—É—á–∏—Ç–µ—Å—å –æ—Å–Ω–æ–≤–∞–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —è—Ö—Ç–æ–π –ø–æ–¥ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –æ–ø—ã—Ç–Ω—ã—Ö —à–∫–∏–ø–µ—Ä–æ–≤.",
  "short_description": "–ù–µ–¥–µ–ª—å–Ω—ã–π –∫—Ä—É–∏–∑ –ø–æ –ö–∞—Ä–∏–±—Å–∫–æ–º—É –º–æ—Ä—é —Å –æ–±—É—á–µ–Ω–∏–µ–º –æ—Å–Ω–æ–≤–∞–º —è—Ö—Ç–∏–Ω–≥–∞",
  "organizer_id": "a1b2c3d4-e5f6-4a5b-8c7d-9e0f1a2b3c4d",
  "category_id": "5a6b7c8d-9e0f-1a2b-3c4d-5e6f7a8b9c0d",
  "location": {
    "address": "–ú–∞—Ä–∏–Ω–∞ –†–æ–¥–Ω–∏-–ë–µ–π, –°–µ–Ω—Ç-–õ—é—Å–∏—è, –ö–∞—Ä–∏–±—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞",
    "coordinates": {
      "latitude": 14.0741,
      "longitude": -60.9498
    },
    "venue_name": "Rodney Bay Marina"
  },
  "start_datetime": "2024-06-15T09:00:00Z",
  "end_datetime": "2024-06-22T17:00:00Z",
  "max_participants": 8,
  "min_participants": 4,
  "status": "PUBLISHED",
  "visibility": "PUBLIC",
  "cover_image_url": "https://aquastream-media.s3.amazonaws.com/events/f47ac10b/cover.jpg",
  "gallery_images": [
    "https://aquastream-media.s3.amazonaws.com/events/f47ac10b/gallery1.jpg",
    "https://aquastream-media.s3.amazonaws.com/events/f47ac10b/gallery2.jpg"
  ],
  "tags": ["—è—Ö—Ç–∏–Ω–≥", "–∫—Ä—É–∏–∑", "–∫–∞—Ä–∏–±—ã", "–æ–±—É—á–µ–Ω–∏–µ", "–º–æ—Ä–µ"],
  "created_at": "2024-01-10T14:22:13Z",
  "updated_at": "2024-02-15T11:17:45Z",
  "price_options": {
    "options": [
      {
        "id": "b4c5d6e7-f8a9-0b1c-2d3e-4f5a6b7c8d9e",
        "name": "–°—Ç–∞–Ω–¥–∞—Ä—Ç",
        "description": "–ú–µ—Å—Ç–æ –≤ –¥–≤—É—Ö–º–µ—Å—Ç–Ω–æ–π –∫–∞—é—Ç–µ",
        "price": 1500.00,
        "quantity_available": 6
      },
      {
        "id": "c5d6e7f8-a9b0-1c2d-3e4f-5a6b7c8d9e0f",
        "name": "VIP",
        "description": "–û—Ç–¥–µ–ª—å–Ω–∞—è –∫–∞—é—Ç–∞ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–∞–Ω–Ω–æ–π –∫–æ–º–Ω–∞—Ç–æ–π",
        "price": 2200.00,
        "quantity_available": 2
      }
    ]
  },
  "refund_policy": {
    "full_refund_before_days": 30,
    "partial_refund_percentage": 50,
    "partial_refund_before_days": 14,
    "no_refund_before_days": 7
  },
  "version": 3
}
```

### –ü—Ä–∏–º–µ—Ä –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
```json
{
  "id": "d1e2f3a4-b5c6-7d8e-9f0a-1b2c3d4e5f6a",
  "event_id": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
  "user_id": "g7h8i9j0-k1l2-m3n4-o5p6-q7r8s9t0u1v2",
  "status": "CONFIRMED",
  "price_option_id": "b4c5d6e7-f8a9-0b1c-2d3e-4f5a6b7c8d9e",
  "quantity": 2,
  "total_price": 3000.00,
  "discount": 300.00,
  "promocode": "SUMMER2024",
  "payment_id": "e2f3a4b5-c6d7-e8f9-0a1b-2c3d4e5f6a7b",
  "created_at": "2024-02-20T18:45:22Z",
  "updated_at": "2024-02-20T19:10:45Z",
  "ticket_data": {
    "ticket_number": "AS-24061501",
    "qr_code_url": "https://aquastream-tickets.s3.amazonaws.com/qr/AS-24061501.png",
    "barcode": "AS000000123456789"
  },
  "attendee_info": {
    "names": ["–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤", "–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞"],
    "email": "ivan.petrov@example.com",
    "phone": "+7 (999) 123-45-67",
    "special_requests": "–í–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–æ–µ –ø–∏—Ç–∞–Ω–∏–µ"
  }
}
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–∑—ã–≤–∞
```json
{
  "id": "h9i0j1k2-l3m4-n5o6-p7q8-r9s0t1u2v3w4",
  "event_id": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
  "user_id": "g7h8i9j0-k1l2-m3n4-o5p6-q7r8s9t0u1v2",
  "booking_id": "d1e2f3a4-b5c6-7d8e-9f0a-1b2c3d4e5f6a",
  "rating": 5,
  "comment": "–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω—ã–π –∫—Ä—É–∏–∑! –®–∫–∏–ø–µ—Ä—ã –±—ã–ª–∏ –æ—á–µ–Ω—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã –∏ —Ç–µ—Ä–ø–µ–ª–∏–≤—ã. –£–≤–∏–¥–µ–ª–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–µ –º–µ—Å—Ç–∞, –Ω–∞—É—á–∏–ª–∏—Å—å –æ—Å–Ω–æ–≤–∞–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —è—Ö—Ç–æ–π. –û—á–µ–Ω—å —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —ç—Ç—É –ø–æ–µ–∑–¥–∫—É –≤—Å–µ–º –ª—é–±–∏—Ç–µ–ª—è–º –º–æ—Ä—è –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π!",
  "status": "ACTIVE",
  "created_at": "2024-06-25T14:37:10Z",
  "updated_at": "2024-06-25T18:22:45Z",
  "moderated_by": "z0a1b2c3-d4e5-f6g7-h8i9-j0k1l2m3n4o5",
  "organizer_response": "–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –æ—Ç–∑—ã–≤, –ò–≤–∞–Ω! –ú—ã –æ—á–µ–Ω—å —Ä–∞–¥—ã, —á—Ç–æ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ. –ñ–¥–µ–º –≤–∞—Å –Ω–∞ –Ω–∞—à–∏—Ö —Å–ª–µ–¥—É—é—â–∏—Ö –º–∞—Ä—à—Ä—É—Ç–∞—Ö!",
  "media_urls": [
    "https://aquastream-media.s3.amazonaws.com/reviews/h9i0j1k2/photo1.jpg",
    "https://aquastream-media.s3.amazonaws.com/reviews/h9i0j1k2/photo2.jpg"
  ]
}
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π

–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º–æ–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Liquibase, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π:
- –ö–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á–µ—Ç–æ–≤ –æ —Ä–∞–∑–ª–∏—á–∏—è—Ö
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å CI/CD

–ú–∏–≥—Ä–∞—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ XML –∏ SQL –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `backend-event-db/src/main/resources/db/changelog/`.

## üß† –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—å—é –¥–∞–Ω–Ω—ã—Ö

1. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å**
   - –í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ REPEATABLE READ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

2. **–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–µ `version` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ
   - –û–±–Ω–æ–≤–ª—è—Ç—å –≤–µ—Ä—Å–∏—é –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–ø–∏—Å–∏

3. **–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
   - –•—Ä–∞–Ω–∏—Ç—å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –º–µ—Ç—Ä–∏–∫
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤

4. **–†–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö**
   - –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–∏–º–µ–Ω—è—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –±–æ–ª—å—à–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
``` 
</rewritten_file>